This file is a merged representation of the entire codebase, combined into a single document. The content has been processed where empty lines have been removed, security check has been disabled.
Generated by Repomix on: 2025-02-10T12:59:57.865Z

# File Summary

## Purpose
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.

## File Format
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Multiple file entries, each consisting of:
  a. A header with the file path (## File: path/to/file)
  b. The full contents of the file in a code block

## Usage Guidelines
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.

## Notes
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Empty lines have been removed from all files
- Security check has been disabled - content may contain sensitive information

## Additional Info

# Directory Structure
```
app/
  api/
    admin/
      skills-stats/
        route.js
      stats/
        route.js
    aptitude/
      questions/
        route.js
      submit/
        route.js
    clips/
      route.js
    interviews/
      [id]/
        route.js
    settings/
      route.js
    skills/
      assess/
        route.js
      question/
        route.js
      results/
        route.js
  dashboard/
    _components/
      AddNewInterview.jsx
      DashboardAnalytics.jsx
      Header.jsx
      InterviewItemCard.jsx
      InterviewList.jsx
      QuestionItemCard.jsx
      QuestionList.jsx
    admin/
      _components/
        AdminDashboard.jsx
        AptitudeStats.jsx
        InterviewStats.jsx
        Overview.jsx
        SkillsStats.jsx
        UserStats.jsx
        UserTable.jsx
      page.jsx
    analytics/
      page.jsx
    aptitude/
      _components/
        AptitudeClient.jsx
        ScoreBoard.jsx
      page.jsx
    interview/
      [interviewId]/
        feedback/
          page.jsx
        start/
          _components/
            api/
              clips/
                route.js
            HumanAvatar.jsx
            InterviewClient.jsx
            QuestionSection.jsx
            RecordAnswerSection.jsx
            RobotAvatar.jsx
            WebcamWithFaceDetection.jsx
          page.jsx
        page.jsx
    profile/
      page.jsx
    settings/
      page.jsx
    skills/
      _components/
        SkillsAssessment.jsx
      page.jsx
    layout.jsx
    page.jsx
  sign-in/
    [[...sign-in]]/
      page.jsx
  sign-up/
    [[...sign-up]]/
      page.jsx
  globals.css
  layout.js
  page.js
components/
  ui/
    button.jsx
    card.jsx
    collapsible.jsx
    dialog.jsx
    dropdown-menu.jsx
    input.jsx
    label.jsx
    progress.jsx
    select.jsx
    skeleton.jsx
    slider.jsx
    switch.jsx
    table.jsx
    tabs.jsx
    textarea.jsx
    toast.jsx
drizzle/
  0004_user_settings.sql
lib/
  prisma.js
  utils.js
prisma/
  schema.prisma
public/
  models/
    face_expression_model-weights_manifest.json
    face_landmark_68_model-weights_manifest.json
    face_landmark_68_tiny_model-weights_manifest.json
    README.md
    tiny_face_detector_model-weights_manifest.json
  file.svg
  globe.svg
  logo.svg
  next.svg
  vercel.svg
  window.svg
scripts/
  download-face-models.js
  verify-env.js
utils/
  db.js
  DIDApi.js
  GeminiAiModel.js
  schema.js
  uuid.js
video/
  admin.mp4
  analytics.mp4
  aptitude.mp4
  dashboard.mp4
  skills.mp4
.gitattributes
.gitignore
apicall.jsx
components.json
drizzle.config.js
jsconfig.json
middleware.js
next.config.js
next.config.mjs
package.json
postcss.config.mjs
README.md
tailwind.config.js
```

# Files

## File: app/api/admin/skills-stats/route.js
````javascript
import { NextResponse } from "next/server";
import prisma from "@/lib/prisma";
import { auth } from "@clerk/nextjs";
export async function GET() {
  try {
    const { userId } = auth();
    if (!userId) {
      return NextResponse.json({ error: "Unauthorized" }, { status: 401 });
    }
    // Get all assessments
    const assessments = await prisma.skillAssessment.findMany({
      orderBy: { timestamp: 'desc' }
    });
    // Calculate total assessments
    const totalAssessments = assessments.length;
    // Calculate average score
    const averageScore = Math.round(
      assessments.reduce((acc, curr) => acc + curr.overallScore, 0) / totalAssessments
    );
    // Calculate skill level distribution
    const skillLevelCounts = assessments.reduce((acc, curr) => {
      acc[curr.skillLevel] = (acc[curr.skillLevel] || 0) + 1;
      return acc;
    }, {});
    const skillLevelDistribution = Object.entries(skillLevelCounts).map(([name, count]) => ({
      name,
      count
    }));
    // Calculate focus area performance
    const focusAreaScores = {};
    let totalFocusAreaCount = 0;
    assessments.forEach(assessment => {
      assessment.categoryScores.forEach(category => {
        if (!focusAreaScores[category.name]) {
          focusAreaScores[category.name] = {
            totalScore: 0,
            count: 0
          };
        }
        focusAreaScores[category.name].totalScore += category.score;
        focusAreaScores[category.name].count += 1;
        totalFocusAreaCount += 1;
      });
    });
    const focusAreaPerformance = Object.entries(focusAreaScores).map(([name, data]) => ({
      name,
      averageScore: Math.round(data.totalScore / data.count)
    }));
    // Calculate recent trend (last 7 days)
    const sevenDaysAgo = new Date();
    sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);
    const recentAssessments = assessments.filter(
      a => new Date(a.timestamp) >= sevenDaysAgo
    );
    const recentTrend = recentAssessments.reduce((acc, curr) => {
      const date = new Date(curr.timestamp).toLocaleDateString();
      if (!acc[date]) {
        acc[date] = {
          totalScore: 0,
          count: 0
        };
      }
      acc[date].totalScore += curr.overallScore;
      acc[date].count += 1;
      return acc;
    }, {});
    const trendData = Object.entries(recentTrend).map(([date, data]) => ({
      date,
      averageScore: Math.round(data.totalScore / data.count)
    }));
    return NextResponse.json({
      totalAssessments,
      averageScore,
      skillLevelDistribution,
      focusAreaPerformance,
      recentTrend: trendData
    });
  } catch (error) {
    console.error("Error fetching skills stats:", error);
    return NextResponse.json(
      { error: "Failed to fetch skills statistics" },
      { status: 500 }
    );
  }
}
````

## File: app/api/admin/stats/route.js
````javascript
import { NextResponse } from "next/server";
import prisma from "@/lib/prisma";
import { auth } from "@clerk/nextjs";
export async function GET(req) {
  try {
    const { userId } = auth();
    if (!userId) {
      return NextResponse.json({ error: "Unauthorized" }, { status: 401 });
    }
    // Initialize empty data structure
    const defaultStats = {
      users: [],
      interviews: [],
      aptitudeTests: [],
      skillAssessments: [],
      overview: {
        totalUsers: 0,
        totalInterviews: 0,
        totalAptitudeTests: 0,
        totalAssessments: 0,
        passRate: 0,
        averageScore: 0,
        skillsAverageScore: 0
      }
    };
    try {
      // Fetch all required data with error handling for each query
      const users = await prisma.user.findMany({
        include: {
          interviews: true,
          aptitudeTests: true,
        },
      }).catch(() => []);
      const interviews = await prisma.interview.findMany().catch(() => []);
      const aptitudeTests = await prisma.aptitudeTest.findMany().catch(() => []);
      const skillAssessments = await prisma.skillAssessment.findMany({
        orderBy: { timestamp: 'desc' }
      }).catch(() => []);
      // Calculate overview statistics
      const totalUsers = users.length;
      const totalInterviews = interviews.length;
      const totalAptitudeTests = aptitudeTests.length;
      const totalAssessments = skillAssessments.length;
      // Calculate pass rates and average scores
      const passedInterviews = interviews.filter(i => i.score >= 70).length;
      const passedTests = aptitudeTests.filter(t => t.score >= 70).length;
      const totalAttempts = totalInterviews + totalAptitudeTests;
      const passRate = totalAttempts > 0
        ? Math.round(((passedInterviews + passedTests) / totalAttempts) * 100)
        : 0;
      const averageScore = totalAttempts > 0
        ? Math.round(
            ([...interviews, ...aptitudeTests]
              .reduce((acc, curr) => acc + (curr.score || 0), 0)) / totalAttempts
          )
        : 0;
      // Calculate skills assessment average score
      const skillsAverageScore = totalAssessments > 0
        ? Math.round(
            skillAssessments.reduce((acc, curr) => acc + (curr.overallScore || 0), 0) / totalAssessments
          )
        : 0;
      return NextResponse.json({
        users,
        interviews,
        aptitudeTests,
        skillAssessments,
        overview: {
          totalUsers,
          totalInterviews,
          totalAptitudeTests,
          totalAssessments,
          passRate,
          averageScore,
          skillsAverageScore
        }
      });
    } catch (error) {
      console.error("Error querying database:", error);
      return NextResponse.json(defaultStats);
    }
  } catch (error) {
    console.error("Error in admin stats:", error);
    return NextResponse.json(
      { error: "Failed to fetch admin statistics" },
      { status: 500 }
    );
  }
}
````

## File: app/api/aptitude/questions/route.js
````javascript
import OpenAI from "openai";
import { NextResponse } from "next/server";
const openai = new OpenAI({
  apiKey: process.env.GLHF_API_KEY,
  baseURL: "https://glhf.chat/api/openai/v1",
});
const getTopicPrompt = (topic) => {
  const prompts = {
    reasoning: "Generate logical reasoning questions that test analytical thinking, pattern recognition, and problem-solving abilities.",
    math: "Generate mathematical aptitude questions covering arithmetic, algebra, geometry, and data interpretation.",
    technical: "Generate technical questions covering programming concepts, data structures, algorithms, and software development principles.",
    verbal: "Generate verbal ability questions testing vocabulary, grammar, reading comprehension, and verbal reasoning.",
  };
  return prompts[topic] || "Generate general aptitude questions covering various topics.";
};
export async function GET(req) {
  try {
    const { searchParams } = new URL(req.url);
    const topic = searchParams.get('topic');
    const completion = await openai.chat.completions.create({
      model: "hf:mistralai/Mistral-7B-Instruct-v0.3",
      messages: [
        {
          role: "system",
          content: `You are an aptitude test generator. Generate 10 multiple choice questions for a technical aptitude test.
            Each question should have 4 options and only one correct answer.
            Format the response as a JSON array of objects with the following structure:
            {
              id: string,
              question: string,
              options: string[],
              correctAnswer: string
            }
            ${getTopicPrompt(topic)}
            Make sure the questions are challenging but not too difficult.`
        },
        {
          role: "user",
          content: `Generate ${topic} aptitude test questions`
        }
      ],
      temperature: 0.7,
    });
    const questions = JSON.parse(completion.choices[0].message.content);
    // Store correct answers in session or database for later validation
    // For now, we'll remove correct answers from client response
    const clientQuestions = questions.map(({ correctAnswer, ...rest }) => rest);
    return NextResponse.json({ questions: clientQuestions });
  } catch (error) {
    console.error("Error generating questions:", error.response ? error.response.data : error.message);
    return NextResponse.json(
      { error: "Failed to generate questions" },
      { status: 500 }
    );
  }
}
````

## File: app/api/aptitude/submit/route.js
````javascript
import { NextResponse } from "next/server";
export async function POST(req) {
  try {
    const { answers, topic } = await req.json();
    // Here you would typically validate answers against correct answers
    // For demo, we'll simulate scoring with random correct answers
    const totalQuestions = Object.keys(answers).length;
    const correctAnswers = Math.floor(Math.random() * (totalQuestions + 1)); // Simulated scoring
    // Calculate score
    const score = {
      total: totalQuestions,
      correct: correctAnswers,
      percentage: Math.round((correctAnswers / totalQuestions) * 100)
    };
    // In a real application, you would save this score to a database
    // For now, we'll just return it
    return NextResponse.json({
      success: true,
      score,
      message: "Test submitted successfully"
    });
  } catch (error) {
    console.error("Error submitting test:", error);
    return NextResponse.json(
      { error: "Failed to submit test" },
      { status: 500 }
    );
  }
}
````

## File: app/api/clips/route.js
````javascript
import { NextResponse } from "next/server";
const D_ID_API_URL = "https://api.d-id.com";
const PRESENTER_IMAGE = "https://create-images-results.d-id.com/DefaultPresenters/Noelle_f/image.png";
async function pollTalkStatus(talkId, apiKey) {
  const maxAttempts = 30;
  const delayMs = 1000;
  for (let i = 0; i < maxAttempts; i++) {
    const statusResponse = await fetch(`${D_ID_API_URL}/talks/${talkId}`, {
      headers: {
        Authorization: `Basic ${Buffer.from(apiKey).toString("base64")}`,
        "Content-Type": "application/json",
      },
    });
    if (!statusResponse.ok) {
      throw new Error(`Failed to check talk status: ${statusResponse.statusText}`);
    }
    const statusData = await statusResponse.json();
    console.log(`Poll attempt ${i + 1}:`, statusData);
    if (statusData.status === "done") {
      return statusData;
    } else if (statusData.status === "error") {
      throw new Error(`Talk creation failed: ${statusData.error}`);
    }
    // Wait before next poll
    await new Promise(resolve => setTimeout(resolve, delayMs));
  }
  throw new Error("Timeout waiting for talk to complete");
}
export async function POST(request) {
  try {
    const { text } = await request.json();
    console.log("Received text:", text);
    if (!text) {
      return NextResponse.json({ error: "Text is required" }, { status: 400 });
    }
    const apiKey = process.env.D_ID_API_KEY;
    if (!apiKey) {
      return NextResponse.json(
        { error: "D-ID API key not configured" },
        { status: 500 }
      );
    }
    // Create talk
    const createResponse = await fetch(`${D_ID_API_URL}/talks`, {
      method: "POST",
      headers: {
        Authorization: `Basic ${Buffer.from(apiKey).toString("base64")}`,
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        script: {
          type: "text",
          input: text,
          provider: {
            type: "microsoft",
            voice_id: "en-US-JennyNeural"
          }
        },
        config: {
          stitch: true,
        },
        source_url: PRESENTER_IMAGE
      }),
    });
    if (!createResponse.ok) {
      const errorData = await createResponse.json();
      console.error("D-ID API error:", errorData);
      return NextResponse.json(
        { error: `D-ID API request failed: ${createResponse.status} ${createResponse.statusText}. ${JSON.stringify(errorData)}` },
        { status: createResponse.status }
      );
    }
    const createData = await createResponse.json();
    console.log("Create talk response:", createData);
    // Poll for the result
    const result = await pollTalkStatus(createData.id, apiKey);
    if (!result.result_url) {
      return NextResponse.json(
        { error: "No result URL in the final response" },
        { status: 500 }
      );
    }
    return NextResponse.json({ result_url: result.result_url });
  } catch (error) {
    console.error("Error in /api/clips:", error);
    return NextResponse.json(
      { error: error.message || "Internal server error" },
      { status: 500 }
    );
  }
}
````

## File: app/api/interviews/[id]/route.js
````javascript
import { db } from "@/utils/db";
import { MockInterview } from "@/utils/schema";
import { eq, or } from "drizzle-orm";
import { NextResponse } from "next/server";
export async function GET(request, { params }) {
  try {
    const { id } = params;
    if (!id) {
      return NextResponse.json(
        { error: "Interview ID is required" },
        { status: 400 }
      );
    }
    const result = await db
      .select()
      .from(MockInterview)
      .where(
        or(
          eq(MockInterview.mockId, id),
          eq(MockInterview.id, isNaN(parseInt(id)) ? -1 : parseInt(id))
        )
      );
    if (!result || result.length === 0) {
      return NextResponse.json(
        { error: `Interview not found with ID: ${id}` },
        { status: 404 }
      );
    }
    return NextResponse.json(result[0]);
  } catch (error) {
    console.error("Error fetching interview:", error);
    return NextResponse.json(
      { error: "Failed to fetch interview" },
      { status: 500 }
    );
  }
}
````

## File: app/api/settings/route.js
````javascript
import { db } from "@/utils/db";
import { UserSettings } from "@/utils/schema";
import { eq } from "drizzle-orm";
import { currentUser } from "@clerk/nextjs";
import { NextResponse } from "next/server";
export async function GET() {
  try {
    const user = await currentUser();
    if (!user) {
      return NextResponse.json({ error: "Unauthorized" }, { status: 401 });
    }
    const userEmail = user.emailAddresses[0].emailAddress;
    const settings = await db
      .select()
      .from(UserSettings)
      .where(eq(UserSettings.userEmail, userEmail));
    if (settings.length === 0) {
      // Create default settings if none exist
      const defaultSettings = {
        userEmail,
        darkMode: false,
        notifications: true,
        sound: true,
        voiceResponse: false,
        interviewDuration: 15,
        autoSave: true,
        privacyMode: false,
        volume: 80,
      };
      const newSettings = await db
        .insert(UserSettings)
        .values(defaultSettings)
        .returning();
      return NextResponse.json(newSettings[0]);
    }
    return NextResponse.json(settings[0]);
  } catch (error) {
    console.error("Error fetching settings:", error);
    return NextResponse.json(
      { error: "Failed to fetch settings" },
      { status: 500 }
    );
  }
}
export async function PUT(request) {
  try {
    const user = await currentUser();
    if (!user) {
      return NextResponse.json({ error: "Unauthorized" }, { status: 401 });
    }
    const userEmail = user.emailAddresses[0].emailAddress;
    const updates = await request.json();
    // Check if settings exist
    const existingSettings = await db
      .select()
      .from(UserSettings)
      .where(eq(UserSettings.userEmail, userEmail));
    if (existingSettings.length === 0) {
      // If no settings exist, create them
      const newSettings = await db
        .insert(UserSettings)
        .values({ ...updates, userEmail })
        .returning();
      return NextResponse.json(newSettings[0]);
    }
    // Update existing settings
    const updatedSettings = await db
      .update(UserSettings)
      .set({ ...updates, updatedAt: new Date() })
      .where(eq(UserSettings.userEmail, userEmail))
      .returning();
    return NextResponse.json(updatedSettings[0]);
  } catch (error) {
    console.error("Error updating settings:", error);
    return NextResponse.json(
      { error: "Failed to update settings" },
      { status: 500 }
    );
  }
}
````

## File: app/api/skills/assess/route.js
````javascript
import { NextResponse } from "next/server";
import OpenAI from "openai";
const client = new OpenAI({
  apiKey: "glhf_18e74141e8dbbf0609d964a189fc33b0",
  baseURL: "https://glhf.chat/api/openai/v1",
});
export async function POST(req) {
  try {
    const { code, question, focusAreas, skillLevel } = await req.json();
    // Extract expected elements from the question
    const questionLines = question.split('\n');
    const requirements = questionLines
      .filter(line => line.trim().startsWith('*'))
      .join('\n');
    const systemPrompt = `You are an expert code reviewer. You need to evaluate a coding solution against specific requirements.
Original Question:
${question}
Key Requirements:
${requirements}
The submitted solution is:
\`\`\`
${code}
\`\`\`
Follow these strict evaluation rules:
1. First, check if the code EXACTLY matches the requirements. Any deviation should result in a failing score.
2. The solution must implement ALL required functions, classes, and features mentioned in the question.
3. The code must use the exact function names, parameters, and return types specified in the question.
4. If using required libraries (like argon2 in a password hashing question), verify they are properly imported and used.
5. Check if example input/output behavior matches the requirements.
Scoring Rules:
- If ANY requirement is not met, set all scores to 0 and correctness to false
- Only if ALL requirements are met:
  - Base score on code quality (0-100)
  - Consider proper error handling, variable naming, and best practices
  - Factor in security, performance, and maintainability
Provide your evaluation in this exact JSON format:
{
  "overallScore": <number 0-100>,
  "correctness": <true/false>,
  "categories": [
    {
      "name": "<focus area>",
      "score": <number 0-100>
    }
  ],
  "analysis": [
    {
      "type": "<success/warning/error>",
      "message": "<specific feedback about requirement compliance or violation>"
    }
  ]
}`;
    const completion = await client.chat.completions.create({
      model: "hf:mistralai/Mistral-7B-Instruct-v0.3",
      messages: [
        { role: "system", content: systemPrompt },
        { 
          role: "user", 
          content: "Evaluate the solution and provide the result in the specified JSON format. Be strict about requirements and scoring."
        }
      ],
      temperature: 0.2,
      stream: false,
    });
    let response;
    try {
      const responseText = completion.choices[0].message.content;
      const jsonMatch = responseText.match(/\{[\s\S]*\}/);
      if (!jsonMatch) {
        throw new Error("No valid JSON found in response");
      }
      response = JSON.parse(jsonMatch[0]);
      // Validate response structure
      if (typeof response.overallScore !== 'number' || 
          typeof response.correctness !== 'boolean' || 
          !Array.isArray(response.categories) || 
          !Array.isArray(response.analysis)) {
        throw new Error("Invalid response structure");
      }
      // Force scores to 0 if solution is incorrect
      if (response.correctness === false) {
        response.overallScore = 0;
        response.categories = response.categories.map(category => ({
          ...category,
          score: 0
        }));
      }
      // Validate score ranges
      if (response.overallScore < 0 || response.overallScore > 100) {
        throw new Error("Invalid overall score range");
      }
      response.categories.forEach(category => {
        if (category.score < 0 || category.score > 100) {
          throw new Error("Invalid category score range");
        }
      });
    } catch (parseError) {
      console.error("Error parsing AI response:", parseError, completion.choices[0].message.content);
      return NextResponse.json(
        { error: "Failed to parse assessment results", details: parseError.message },
        { status: 500 }
      );
    }
    return NextResponse.json({
      result: {
        overallScore: response.overallScore,
        categories: response.categories
      },
      analysis: response.analysis
    });
  } catch (error) {
    console.error("Error assessing code:", error);
    return NextResponse.json(
      { error: "Failed to assess code", details: error.message },
      { status: 500 }
    );
  }
}
````

## File: app/api/skills/question/route.js
````javascript
import { NextResponse } from "next/server";
import OpenAI from "openai";
const client = new OpenAI({
  apiKey: "glhf_18e74141e8dbbf0609d964a189fc33b0",
  baseURL: "https://glhf.chat/api/openai/v1",
});
export async function POST(req) {
  try {
    const { focusAreas, skillLevel } = await req.json();
    const systemPrompt = `You are an expert programming instructor. Generate a coding challenge that:
1. Focuses on: ${focusAreas.join(", ")}
2. Is suitable for ${skillLevel} level developers
3. Can be completed in 15-20 minutes
4. Includes clear requirements and example input/output
5. it should be able ti write in a single file `
;
    const completion = await client.chat.completions.create({
      model: "hf:mistralai/Mistral-7B-Instruct-v0.3",
      messages: [
        { role: "system", content: systemPrompt },
        { role: "user", content: "Generate a coding challenge that meets these requirements. Format it with a clear description, requirements, and example input/output if applicable." }
      ],
      temperature: 0.7,
      stream: true,
    });
    let question = "";
    for await (const chunk of completion) {
      if (chunk.choices[0]?.delta?.content) {
        question += chunk.choices[0].delta.content;
      }
    }
    return NextResponse.json({ question });
  } catch (error) {
    console.error("Error generating question:", error);
    return NextResponse.json(
      { error: "Failed to generate question", details: error.message },
      { status: 500 }
    );
  }
}
````

## File: app/api/skills/results/route.js
````javascript
import { NextResponse } from "next/server";
import prisma from "@/lib/prisma";
import { auth } from "@clerk/nextjs";
export async function POST(req) {
  try {
    const { userId } = auth();
    if (!userId) {
      return NextResponse.json({ error: "Unauthorized" }, { status: 401 });
    }
    const { 
      focusAreas,
      skillLevel,
      overallScore,
      categoryScores,
      correctness
    } = await req.json();
    const result = await prisma.skillAssessment.create({
      data: {
        userId,
        focusAreas,
        skillLevel,
        overallScore,
        categoryScores,
        correctness,
        timestamp: new Date()
      }
    });
    return NextResponse.json({ success: true, result });
  } catch (error) {
    console.error("Error saving assessment result:", error);
    return NextResponse.json(
      { error: "Failed to save assessment result" },
      { status: 500 }
    );
  }
}
export async function GET(req) {
  try {
    const { userId } = auth();
    if (!userId) {
      return NextResponse.json({ error: "Unauthorized" }, { status: 401 });
    }
    const results = await prisma.skillAssessment.findMany({
      where: { userId },
      orderBy: { timestamp: 'desc' }
    });
    return NextResponse.json({ results });
  } catch (error) {
    console.error("Error fetching assessment results:", error);
    return NextResponse.json(
      { error: "Failed to fetch assessment results" },
      { status: 500 }
    );
  }
}
````

## File: app/dashboard/_components/AddNewInterview.jsx
````javascript
"use client";
import React, { useState } from "react";
import {
  Dialog,
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogHeader,
  DialogTitle,
  DialogTrigger,
} from "@/components/ui/dialog";
import { Input } from "@/components/ui/input";
import { Button } from "@/components/ui/button";
import { Textarea } from "@/components/ui/textarea";
import { chatSession } from "@/utils/GeminiAiModel";
import { LoaderCircle } from "lucide-react";
import { db } from "@/utils/db";
import { MockInterview } from "@/utils/schema";
import { v4 as uuidv4 } from "uuid";
import { useUser } from "@clerk/nextjs";    
import moment from "moment";
import { useRouter } from "next/navigation";
import { toast } from "sonner";
const AddNewInterview = () => {
  const [openDailog, setOpenDialog] = useState(false);
  const [jobPosition, setJobPosition] = useState("");
  const [jobDesc, setJobDesc] = useState("");
  const [jobExperience, setJobExperience] = useState("");
  const [loading, setLoading] = useState(false);
  const { user } = useUser();
  const router = useRouter();
  const onSubmit = async (e) => {
    try {
      setLoading(true);
      e.preventDefault();
      const InputPrompt = `Generate 5 technical interview questions for this position:
Position: ${jobPosition}
Description: ${jobDesc}
Experience: ${jobExperience} years
Requirements:
1. Each question must be technical and specific to the position
2. Each answer must be detailed and include key points to look for
3. Questions should match the experience level
4. Return ONLY a JSON object with exactly 5 questions
5. Each question must have both Question and Answer fields as non-empty strings
Example format:
{
  "questions": [
    {
      "Question": "What is your experience with [technology]?",
      "Answer": "A good answer should demonstrate..."
    }
  ]
}`;
      const result = await chatSession.sendMessage(InputPrompt);
      const response = result.response.text();
      // Clean and validate the response
      const cleanResponse = response
        .trim()
        .replace(/^```json\s*/, '')
        .replace(/\s*```$/, '')
        .replace(/^json\s*/, '')
        .trim();
      let parsedResponse;
      try {
        parsedResponse = JSON.parse(cleanResponse);
      } catch (e) {
        console.error("JSON Parse Error:", e);
        console.log("Raw response:", response);
        console.log("Cleaned response:", cleanResponse);
        throw new Error("Failed to parse AI response");
      }
      // Validate response structure
      if (!parsedResponse || typeof parsedResponse !== 'object') {
        throw new Error("Invalid response format: not an object");
      }
      if (!parsedResponse.questions || !Array.isArray(parsedResponse.questions)) {
        throw new Error("Invalid response format: missing questions array");
      }
      if (parsedResponse.questions.length !== 5) {
        throw new Error("Invalid number of questions: expected 5 questions");
      }
      // Validate each question
      for (const [index, question] of parsedResponse.questions.entries()) {
        if (!question.Question || typeof question.Question !== 'string' || question.Question.trim().length === 0) {
          throw new Error(`Question ${index + 1}: missing or invalid Question field`);
        }
        if (!question.Answer || typeof question.Answer !== 'string' || question.Answer.trim().length === 0) {
          throw new Error(`Question ${index + 1}: missing or invalid Answer field`);
        }
      }
      const mockId = uuidv4();
      await db.insert(MockInterview).values({
        mockId: mockId,
        jsonMockResp: JSON.stringify(parsedResponse),
        jobPosition: jobPosition,
        jobDesc: jobDesc,
        jobExperience: jobExperience,
        createdBy: user?.primaryEmailAddress?.emailAddress,
        createdAt: moment().format("YYYY-MM-DD"),
      });
      toast.success("Interview created successfully!");
      setOpenDialog(false);
      router.push("/dashboard/interview/" + mockId);
    } catch (error) {
      console.error("Error creating interview:", error);
      toast.error(error.message || "Failed to create interview. Please try again.");
    } finally {
      setLoading(false);
    }
  };
  return (
    <div>
      <div
        className="p-10 rounded-lg border bg-secondary hover:scale-105 hover:shadow-sm transition-all cursor-pointer"
        onClick={() => setOpenDialog(true)}
      >
        <h2 className="text-lg text-center">+ Add New</h2>
      </div>
      <Dialog open={openDailog}>
        <DialogContent className="max-w-2xl">
          <DialogHeader>
            <DialogTitle className="text-2xl">
              Tell us more about your job interviewing
            </DialogTitle>
            <DialogDescription>
              <form onSubmit={onSubmit}>
                <div className="my-3">
                  <h2>
                    Add Details about your job position, job description and
                    years of experience
                  </h2>
                  <div className="mt-7 my-3">
                    <label className="text-black">Job Role/job Position</label>
                    <Input
                      className="mt-1"
                      placeholder="Ex. Full stack Developer"
                      required
                      onChange={(e) => setJobPosition(e.target.value)}
                    />
                  </div>
                  <div className="my-5">
                    <label className="text-black">
                      Job Description/ Tech stack (In Short)
                    </label>
                    <Textarea
                      className="placeholder-opacity-50"
                      placeholder="Ex. React, Angular, Nodejs, Mysql, Nosql, Python"
                      required
                      onChange={(e) => setJobDesc(e.target.value)}
                    />
                  </div>
                  <div className="my-5">
                    <label className="text-black">Years of Experience</label>
                    <Input
                      className="mt-1"
                      placeholder="Ex. 5"
                      max="50"
                      type="number"
                      required
                      onChange={(e) => setJobExperience(e.target.value)}
                    />
                  </div>
                </div>
                <div className="flex gap-5 justify-end">
                  <Button
                    type="button"
                    variant="goast"
                    onClick={() => setOpenDialog(false)}
                  >
                    Cancel
                  </Button>
                  <Button type="submit" disabled={loading}>
                    {loading ? (
                      <>
                        <LoaderCircle className="animate-spin mr-2" />
                        Generating From AI
                      </>
                    ) : (
                      "Start Interview"
                    )}
                  </Button>
                </div>
              </form>
            </DialogDescription>
          </DialogHeader>
        </DialogContent>
      </Dialog>
    </div>
  );
};
export default AddNewInterview;
````

## File: app/dashboard/_components/DashboardAnalytics.jsx
````javascript
"use client";
import { useEffect, useState } from 'react';
import { motion } from "framer-motion";
import { db } from "@/utils/db";
import { MockInterview, UserAnswer } from "@/utils/schema";
import { useUser } from "@clerk/nextjs";
import { eq, desc } from "drizzle-orm";
import { Briefcase, Rocket, Star, Trophy, TrendingUp, TrendingDown } from "lucide-react";
const StatCard = ({ icon: Icon, title, value, trend, delay }) => (
  <motion.div
    initial={{ opacity: 0, y: 20 }}
    animate={{ opacity: 1, y: 0 }}
    transition={{ duration: 0.5, delay }}
    className="relative group"
  >
    <div className="absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-purple-600/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300" />
    <div className="bg-white rounded-xl shadow-sm p-6 transition-all duration-300 hover:shadow-md border border-gray-100 relative">
      <div className="flex items-start justify-between">
        <div>
          <p className="text-gray-500 text-sm font-medium">{title}</p>
          <h3 className="text-2xl font-bold mt-1 bg-gradient-to-r from-primary to-purple-600 bg-clip-text text-transparent">
            {value}
          </h3>
          {trend && (
            <div className="flex items-center gap-1 mt-2">
              {trend.type === 'up' ? (
                <TrendingUp className="w-4 h-4 text-green-500" />
              ) : (
                <TrendingDown className="w-4 h-4 text-red-500" />
              )}
              <p className={`text-sm font-medium ${trend.type === 'up' ? 'text-green-500' : 'text-red-500'}`}>
                {trend.value}
              </p>
            </div>
          )}
        </div>
        <div className="bg-gradient-to-br from-primary/10 to-purple-600/10 p-3 rounded-lg">
          <Icon className="text-primary" size={24} />
        </div>
      </div>
    </div>
  </motion.div>
);
export const DashboardAnalytics = () => {
  const { user } = useUser();
  const [analytics, setAnalytics] = useState({
    totalInterviews: { value: '0', trend: { type: 'up', value: '+0%' } },
    avgScore: { value: '0', trend: { type: 'up', value: '+0%' } },
    bestPerformance: { value: '0%', trend: { type: 'up', value: '+0%' } },
    improvement: { value: '+0%', trend: { type: 'up', value: '+0%' } },
    loading: true,
    error: null
  });
  useEffect(() => {
    const fetchAnalytics = async () => {
      if (!user?.emailAddresses?.[0]?.emailAddress) return;
      try {
        // Fetch all interviews for the user
        const interviews = await db
          .select()
          .from(MockInterview)
          .where(eq(MockInterview.createdBy, user.emailAddresses[0].emailAddress))
          .orderBy(desc(MockInterview.createdAt));
        // Fetch user answers for performance calculation
        const answers = await db
          .select()
          .from(UserAnswer)
          .where(eq(UserAnswer.userEmail, user.emailAddresses[0].emailAddress))
          .orderBy(desc(UserAnswer.createdAt));
        if (!interviews.length) {
          setAnalytics(prev => ({
            ...prev,
            loading: false
          }));
          return;
        }
        // Calculate total interviews
        const totalInterviews = interviews.length;
        // Calculate scores from user answers
        const interviewScores = new Map();
        answers.forEach(answer => {
          if (!answer.rating) return;
          const score = parseInt(answer.rating, 10);
          if (isNaN(score)) return;
          if (!interviewScores.has(answer.mockIdRef)) {
            interviewScores.set(answer.mockIdRef, []);
          }
          interviewScores.get(answer.mockIdRef).push(score);
        });
        // Calculate average scores for each interview
        const scores = Array.from(interviewScores.values()).map(scores => {
          const avg = scores.reduce((a, b) => a + b, 0) / scores.length;
          return Math.round(avg);
        });
        // Calculate analytics
        const avgScore = scores.length ? 
          scores.reduce((a, b) => a + b, 0) / scores.length : 0;
        const bestPerformance = scores.length ? Math.max(...scores) : 0;
        // Calculate improvement (comparing last 3 interviews with previous 3)
        let improvement = 0;
        if (scores.length >= 6) {
          const recent = scores.slice(0, 3).reduce((a, b) => a + b, 0) / 3;
          const previous = scores.slice(3, 6).reduce((a, b) => a + b, 0) / 3;
          improvement = previous > 0 ? ((recent - previous) / previous) * 100 : 0;
        }
        // Get trends by comparing with previous period
        const getTrend = (current, previous) => {
          if (!previous) return { type: 'up', value: '+0%' };
          const change = ((current - previous) / previous) * 100;
          return {
            type: change >= 0 ? 'up' : 'down',
            value: `${change >= 0 ? '+' : ''}${change.toFixed(1)}%`
          };
        };
        // Previous period comparisons
        const prevTotalInterviews = Math.max(0, totalInterviews - 1);
        const prevAvgScore = scores.slice(1).reduce((a, b) => a + b, 0) / Math.max(1, scores.length - 1);
        const prevBestPerformance = scores.slice(1).length ? Math.max(...scores.slice(1)) : 0;
        setAnalytics({
          totalInterviews: {
            value: totalInterviews.toString(),
            trend: getTrend(totalInterviews, prevTotalInterviews)
          },
          avgScore: {
            value: avgScore.toFixed(1),
            trend: getTrend(avgScore, prevAvgScore)
          },
          bestPerformance: {
            value: `${bestPerformance}%`,
            trend: getTrend(bestPerformance, prevBestPerformance)
          },
          improvement: {
            value: `${improvement >= 0 ? '+' : ''}${improvement.toFixed(0)}%`,
            trend: { type: improvement >= 0 ? 'up' : 'down', value: `${Math.abs(improvement).toFixed(1)}%` }
          },
          loading: false,
          error: null
        });
      } catch (error) {
        console.error('Error fetching analytics:', error);
        setAnalytics(prev => ({
          ...prev,
          loading: false,
          error: 'Failed to load analytics'
        }));
      }
    };
    fetchAnalytics();
  }, [user]);
  if (analytics.loading) {
    return (
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        {[...Array(4)].map((_, i) => (
          <div key={i} className="bg-white rounded-xl shadow-sm p-6 animate-pulse">
            <div className="flex items-start justify-between">
              <div className="space-y-3">
                <div className="h-4 w-24 bg-gray-200 rounded"></div>
                <div className="h-8 w-16 bg-gray-300 rounded"></div>
                <div className="h-4 w-20 bg-gray-200 rounded"></div>
              </div>
              <div className="bg-gray-200 p-3 rounded-lg h-12 w-12"></div>
            </div>
          </div>
        ))}
      </div>
    );
  }
  if (analytics.error) {
    return (
      <div className="text-center text-red-500 p-4">
        {analytics.error}
      </div>
    );
  }
  const stats = [
    {
      icon: Briefcase,
      title: "Total Interviews",
      ...analytics.totalInterviews
    },
    {
      icon: Star,
      title: "Avg. Score",
      ...analytics.avgScore
    },
    {
      icon: Trophy,
      title: "Best Performance",
      ...analytics.bestPerformance
    },
    {
      icon: Rocket,
      title: "Improvement",
      ...analytics.improvement
    }
  ];
  return (
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
      {stats.map((stat, index) => (
        <StatCard
          key={stat.title}
          icon={stat.icon}
          title={stat.title}
          value={stat.value}
          trend={stat.trend}
          delay={index * 0.1}
        />
      ))}
    </div>
  );
};
export default DashboardAnalytics;
````

## File: app/dashboard/_components/Header.jsx
````javascript
"use client";
import React, { useEffect, useState } from "react";
import { UserButton, useUser } from "@clerk/nextjs";
import { usePathname } from "next/navigation";
import Link from "next/link";
import { Menu, X, Home, User, Settings, BarChart2, Brain, Code2, ShieldCheck } from "lucide-react";
const Header = () => {
  const [isUserButtonLoaded, setUserButtonLoaded] = useState(false);
  const [isOpen, setIsOpen] = useState(false);
  const [scrolled, setScrolled] = useState(false);
  const { user } = useUser();
  const toggleMenu = () => {
    setIsOpen(!isOpen);
  };
  useEffect(() => {
    const handleScroll = () => {
      setScrolled(window.scrollY > 0);
    };
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);
  const SkeletonLoader = () => (
    <div className="w-8 h-8 bg-gray-200 rounded-full animate-pulse"></div>
  );
  useEffect(() => {
    const timer = setTimeout(() => {
      setUserButtonLoaded(true);
    }, 1000);
    return () => clearTimeout(timer);
  }, []);
  const path = usePathname();
  const navItems = [
    { name: 'Dashboard', href: '/dashboard', icon: Home },
    { name: 'Analytics', href: '/dashboard/analytics', icon: BarChart2 },
    { name: 'Profile', href: '/dashboard/profile', icon: User },
    { name: 'Aptitude', href: '/dashboard/aptitude', icon: Brain },
    { name: 'Skills', href: '/dashboard/skills', icon: Code2 },
    // Only show admin link for admin users
    ...(user?.publicMetadata?.role === 'admin' ? [
      { name: 'Admin', href: '/dashboard/admin', icon: ShieldCheck }
    ] : []),
  ];
  return (
    <nav className={`fixed w-full top-0 z-50 transition-all duration-300 ${
      scrolled ? 'bg-white shadow-sm' : 'bg-white'
    }`}>
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex items-center justify-between h-16">
          <div className="flex items-center">
            <Link href="/dashboard" className="flex-shrink-0">
              <h1 className="text-2xl font-bold text-gray-800">AI-Cruit</h1>
            </Link>
          </div>
          {/* Desktop Navigation */}
          <div className="hidden md:block">
            <div className="ml-10 flex items-baseline space-x-4">
              {navItems.map((item) => {
                const Icon = item.icon;
                return (
                  <Link
                    key={item.name}
                    href={item.href}
                    className={`flex items-center px-3 py-2 rounded-md text-sm font-medium ${
                      path === item.href
                        ? 'bg-gray-900 text-white'
                        : 'text-gray-800 hover:bg-gray-700 hover:text-white'
                    }`}
                  >
                    <Icon className="w-4 h-4 mr-2" />
                    {item.name}
                  </Link>
                );
              })}
            </div>
          </div>
          <div className="hidden md:block">
            <div className="ml-4 flex items-center md:ml-6">
              {isUserButtonLoaded ? (
                <UserButton afterSignOutUrl="/" />
              ) : (
                <SkeletonLoader />
              )}
            </div>
          </div>
          {/* Mobile menu button */}
          <div className="md:hidden">
            <button
              onClick={toggleMenu}
              className="inline-flex items-center justify-center p-2 rounded-md text-gray-800 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white"
            >
              <span className="sr-only">Open main menu</span>
              {isOpen ? <X className="block h-6 w-6" /> : <Menu className="block h-6 w-6" />}
            </button>
          </div>
        </div>
      </div>
      {/* Mobile menu */}
      {isOpen && (
        <div className="md:hidden">
          <div className="px-2 pt-2 pb-3 space-y-1 sm:px-3">
            {navItems.map((item) => {
              const Icon = item.icon;
              return (
                <Link
                  key={item.name}
                  href={item.href}
                  className={`flex items-center px-3 py-2 rounded-md text-sm font-medium ${
                    path === item.href
                      ? 'bg-gray-900 text-white'
                      : 'text-gray-800 hover:bg-gray-700 hover:text-white'
                  }`}
                  onClick={toggleMenu}
                >
                  <Icon className="w-4 h-4 mr-2" />
                  {item.name}
                </Link>
              );
            })}
          </div>
          <div className="pt-4 pb-3 border-t border-gray-700">
            <div className="flex items-center px-5">
              {isUserButtonLoaded ? (
                <UserButton afterSignOutUrl="/" />
              ) : (
                <SkeletonLoader />
              )}
            </div>
          </div>
        </div>
      )}
    </nav>
  );
};
export default Header;
````

## File: app/dashboard/_components/InterviewItemCard.jsx
````javascript
"use client";
import { motion } from "framer-motion";
import { useRouter } from "next/navigation";
import { Calendar, Clock, MessageSquare } from "lucide-react";
import moment from "moment";
export const InterviewItemCard = ({ interview }) => {
  const router = useRouter();
  return (
    <motion.div
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      whileHover={{ scale: 1.02 }}
      className="relative group cursor-pointer"
      onClick={() => router.push(`/dashboard/interview/${interview.mockId}/start`)}
    >
      <div className="absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-purple-600/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300" />
      <div className="bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow relative">
        <div className="space-y-4">
          {/* Title */}
          <div>
            <h3 className="font-semibold text-lg text-gray-900 line-clamp-1">
              {interview.jobPosition || "Mock Interview"}
            </h3>
            <p className="text-sm text-gray-500 mt-1 line-clamp-2">
              {interview.jobDesc || "Practice interview session"}
            </p>
          </div>
          {/* Stats */}
          <div className="flex items-center gap-4 text-sm text-gray-600">
            <div className="flex items-center gap-1.5">
              <Calendar className="w-4 h-4" />
              <span>{moment(interview.createdAt).format("MMM DD, YYYY")}</span>
            </div>
            <div className="flex items-center gap-1.5">
              <Clock className="w-4 h-4" />
              <span>{moment(interview.createdAt).format("hh:mm A")}</span>
            </div>
          </div>
          {/* Experience Level */}
          <div className="flex items-center gap-1.5 text-sm text-primary font-medium">
            <MessageSquare className="w-4 h-4" />
            <span>Experience: {interview.jobExperience}</span>
          </div>
          {/* Status Indicator */}
          <div className="flex items-center justify-between">
            <span className="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
              Ready to Start
            </span>
          </div>
        </div>
      </div>
    </motion.div>
  );
};
export default InterviewItemCard;
````

## File: app/dashboard/_components/InterviewList.jsx
````javascript
"use client";
import { useUser } from "@clerk/nextjs";
import React, { useEffect, useState } from "react";
import { db } from "@/utils/db";
import { MockInterview } from "@/utils/schema";
import { desc, eq } from "drizzle-orm";
import InterviewItemCard from "./InterviewItemCard";
import { Skeleton } from "@/components/ui/skeleton";
export const InterviewList = () => {
  const { user } = useUser();
  const [interviewList, setInterviewList] = useState([]);
  const [loading, setLoading] = useState(true);
  useEffect(() => {
    if (user) {
      GetInterviewList();
    }
  }, [user]);
  const GetInterviewList = async () => {
    try {
      const result = await db
        .select()
        .from(MockInterview)
        .where(
          eq(MockInterview.createdBy, user?.primaryEmailAddress?.emailAddress)
        )
        .orderBy(desc(MockInterview.id));
      setInterviewList(result);
    } catch (error) {
      console.error("Error fetching interviews:", error);
    } finally {
      setLoading(false);
    }
  };
  if (loading) {
    return (
      <div className="space-y-4">
        <h2 className="font-medium text-xl">Previous Mock Interviews</h2>
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5">
          {[...Array(3)].map((_, i) => (
            <div key={i} className="bg-white rounded-xl shadow-sm p-6 animate-pulse">
              <div className="space-y-3">
                <div className="h-4 w-3/4 bg-gray-200 rounded"></div>
                <div className="h-3 w-1/2 bg-gray-200 rounded"></div>
                <div className="flex gap-3 pt-2">
                  <div className="h-3 w-20 bg-gray-200 rounded"></div>
                  <div className="h-3 w-20 bg-gray-200 rounded"></div>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    );
  }
  if (!interviewList?.length) {
    return (
      <div className="text-center py-8">
        <p className="text-gray-500">No interviews found. Start your first interview!</p>
      </div>
    );
  }
  return (
    <div className="space-y-4">
      <h2 className="font-medium text-xl">Previous Mock Interviews</h2>
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5">
        {interviewList.map((interview, index) => (
          <InterviewItemCard key={interview.id || index} interview={interview} />
        ))}
      </div>
    </div>
  );
};
export default InterviewList;
````

## File: app/dashboard/_components/QuestionItemCard.jsx
````javascript
import React from "react";
import { Button } from "@/components/ui/button";
import { useRouter } from "next/navigation";
const QuestionItemCard = ({ question }) => {
  const router = useRouter();
  const onStart = () => {
    router.push("/dashboard/pyq/" + question?.mockId);
  };
  return (
    <div className="border border-gray-500 shadow-sm rounded-lg p-3">
      <h2 className="font-bold text-primary">{question?.jobPosition}</h2>
      <h2 className="text-sm text-gray-600">
        {question?.jobExperience} Years of experience
      </h2>
      <h2 className="text-xs text-gray-400">Created At:{question.createdAt}</h2>
      <div className="flex justify-between mt-2 gap-5 ">
        <Button onClick={onStart} size="sm" className="w-full">
          Start
        </Button>
      </div>
    </div>
  );
};
export default QuestionItemCard;
````

## File: app/dashboard/_components/QuestionList.jsx
````javascript
"use client";
import { useUser } from "@clerk/nextjs";
import React, { useEffect, useState } from "react";
import { db } from "@/utils/db";
import { Question } from "@/utils/schema";
import { desc, eq } from "drizzle-orm";
import QuestionItemCard from "./QuestionItemCard";
import { Skeleton } from "@/components/ui/skeleton";
const QuestionList = () => {
  const { user } = useUser();
  const [questionList, setQuestionList] = useState([]);
  useEffect(() => {
    user && GetQuestionList();
  }, [user]);
  const GetQuestionList = async () => {
    const result = await db
      .select()
      .from(Question)
      .where(eq(Question.createdBy, user?.primaryEmailAddress?.emailAddress))
      .orderBy(desc(Question.id));
    console.log(result);
    setQuestionList(result);
  };
  return (
    <div>
      {questionList.length > 0 ? (
        <>
          <h2 className="font-medium text-xl">Previous Mock Interview</h2>
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 my-3">
            {questionList.map((question, index) => (
              <QuestionItemCard key={index} question={question} />
            ))}
          </div>
        </>
      ) : (
        <div className="my-10 flex flex-col gap-5">
          <Skeleton className="w-full sm:w-[20rem] h-10 rounded-full animate-pulse bg-gray-300" />
          <Skeleton className="w-full sm:w-[20rem] h-10 rounded-full animate-pulse bg-gray-300" />
        </div>
      )}
    </div>
  );
};
export default QuestionList;
````

## File: app/dashboard/admin/_components/AdminDashboard.jsx
````javascript
"use client";
import { useState, useEffect } from "react";
import { Card } from "@/components/ui/card";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import { UserStats } from "./UserStats";
import { InterviewStats } from "./InterviewStats";
import { AptitudeStats } from "./AptitudeStats";
import { UserTable } from "./UserTable";
import { Overview } from "./Overview";
import { SkillsStats } from "./SkillsStats";
import { toast } from "sonner";
import { Loader2 } from "lucide-react";
export const AdminDashboard = () => {
  const [loading, setLoading] = useState(true);
  const [stats, setStats] = useState({
    users: [],
    interviews: [],
    aptitudeTests: [],
    overview: {
      totalUsers: 0,
      totalInterviews: 0,
      totalAptitudeTests: 0,
      averageScore: 0,
      passRate: 0,
    },
  });
  useEffect(() => {
    const fetchStats = async () => {
      try {
        const response = await fetch("/api/admin/stats");
        const data = await response.json();
        if (!response.ok) throw new Error(data.error);
        setStats(data);
      } catch (error) {
        toast.error("Failed to load admin statistics");
        console.error(error);
      } finally {
        setLoading(false);
      }
    };
    fetchStats();
  }, []);
  if (loading) {
    return (
      <div className="flex items-center justify-center min-h-[60vh]">
        <div className="text-center">
          <Loader2 className="h-8 w-8 animate-spin text-primary mx-auto mb-4" />
          <p className="text-muted-foreground">Loading dashboard...</p>
        </div>
      </div>
    );
  }
  return (
    <div className="container mx-auto py-8">
      <h1 className="text-3xl font-bold mb-8">Admin Dashboard</h1>
      <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
        <Card className="p-6">
          <h3 className="text-lg font-semibold mb-2">Total Users</h3>
          <p className="text-3xl font-bold">{stats.overview.totalUsers}</p>
        </Card>
        <Card className="p-6">
          <h3 className="text-lg font-semibold mb-2">Total Interviews</h3>
          <p className="text-3xl font-bold">{stats.overview.totalInterviews}</p>
        </Card>
        <Card className="p-6">
          <h3 className="text-lg font-semibold mb-2">Pass Rate</h3>
          <p className="text-3xl font-bold">{stats.overview.passRate}%</p>
        </Card>
      </div>
      <Tabs defaultValue="overview" className="space-y-4">
        <TabsList>
          <TabsTrigger value="overview">Overview</TabsTrigger>
          <TabsTrigger value="users">Users</TabsTrigger>
          <TabsTrigger value="interviews">Interviews</TabsTrigger>
          <TabsTrigger value="aptitude">Aptitude Tests</TabsTrigger>
          <TabsTrigger value="skills">Skills</TabsTrigger>
        </TabsList>
        <TabsContent value="overview">
          <Overview data={stats.overview} />
        </TabsContent>
        <TabsContent value="users">
          <UserStats users={stats.users} />
          <div className="mt-8">
            <UserTable users={stats.users} />
          </div>
        </TabsContent>
        <TabsContent value="interviews">
          <InterviewStats interviews={stats.interviews} />
        </TabsContent>
        <TabsContent value="aptitude">
          <AptitudeStats tests={stats.aptitudeTests} />
        </TabsContent>
        <TabsContent value="skills" className="space-y-4">
          <SkillsStats />
        </TabsContent>
      </Tabs>
    </div>
  );
};
````

## File: app/dashboard/admin/_components/AptitudeStats.jsx
````javascript
"use client";
import { Card } from "@/components/ui/card";
import { Doughnut } from "react-chartjs-2";
import {
  Chart as ChartJS,
  ArcElement,
  Tooltip,
  Legend
} from 'chart.js';
ChartJS.register(
  ArcElement,
  Tooltip,
  Legend
);
export const AptitudeStats = ({ tests }) => {
  const processTestData = () => {
    const scoresByTopic = {
      reasoning: [],
      math: [],
      technical: [],
      verbal: []
    };
    tests.forEach(test => {
      if (test.score && test.topic) {
        scoresByTopic[test.topic].push(test.score);
      }
    });
    return Object.entries(scoresByTopic).reduce((acc, [topic, scores]) => {
      acc[topic] = calculateAverage(scores);
      return acc;
    }, {});
  };
  const calculateAverage = (scores) => {
    return scores.length > 0 
      ? Math.round(scores.reduce((a, b) => a + b) / scores.length) 
      : 0;
  };
  const averageScores = processTestData();
  const chartData = {
    labels: [
      'Logical Reasoning',
      'Mathematical Aptitude',
      'Technical Knowledge',
      'Verbal Ability'
    ],
    datasets: [{
      data: Object.values(averageScores),
      backgroundColor: [
        'rgba(255, 99, 132, 0.5)',
        'rgba(54, 162, 235, 0.5)',
        'rgba(255, 206, 86, 0.5)',
        'rgba(75, 192, 192, 0.5)'
      ],
      borderColor: [
        'rgba(255, 99, 132, 1)',
        'rgba(54, 162, 235, 1)',
        'rgba(255, 206, 86, 1)',
        'rgba(75, 192, 192, 1)'
      ],
      borderWidth: 1
    }]
  };
  const options = {
    responsive: true,
    plugins: {
      legend: {
        position: 'top',
      },
      title: {
        display: true,
        text: 'Average Scores by Topic'
      }
    }
  };
  const getStats = () => {
    const total = tests.length;
    const passed = tests.filter(t => t.score >= 70).length;
    const passRate = total > 0 ? Math.round((passed / total) * 100) : 0;
    const topicDistribution = tests.reduce((acc, test) => {
      acc[test.topic] = (acc[test.topic] || 0) + 1;
      return acc;
    }, {});
    return {
      total,
      passed,
      passRate,
      averageScore: calculateAverage(tests.map(t => t.score)),
      topicDistribution
    };
  };
  const stats = getStats();
  return (
    <div className="space-y-6">
      <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
        <Card className="p-6">
          <h3 className="text-lg font-semibold mb-2">Total Tests</h3>
          <p className="text-3xl font-bold">{stats.total}</p>
        </Card>
        <Card className="p-6">
          <h3 className="text-lg font-semibold mb-2">Passed</h3>
          <p className="text-3xl font-bold">{stats.passed}</p>
        </Card>
        <Card className="p-6">
          <h3 className="text-lg font-semibold mb-2">Pass Rate</h3>
          <p className="text-3xl font-bold">{stats.passRate}%</p>
        </Card>
        <Card className="p-6">
          <h3 className="text-lg font-semibold mb-2">Average Score</h3>
          <p className="text-3xl font-bold">{stats.averageScore}%</p>
        </Card>
      </div>
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        <Card className="p-6">
          <Doughnut data={chartData} options={options} />
        </Card>
        <Card className="p-6">
          <h3 className="text-lg font-semibold mb-4">Topic Distribution</h3>
          <div className="space-y-4">
            {Object.entries(stats.topicDistribution).map(([topic, count]) => (
              <div key={topic} className="flex justify-between items-center">
                <span className="capitalize">{topic}</span>
                <span className="font-semibold">{count} tests</span>
              </div>
            ))}
          </div>
        </Card>
      </div>
    </div>
  );
};
````

## File: app/dashboard/admin/_components/InterviewStats.jsx
````javascript
"use client";
import { Card } from "@/components/ui/card";
import { Line } from "react-chartjs-2";
import {
  Chart as ChartJS,
  CategoryScale,
  LinearScale,
  PointElement,
  LineElement,
  Title,
  Tooltip,
  Legend
} from 'chart.js';
ChartJS.register(
  CategoryScale,
  LinearScale,
  PointElement,
  LineElement,
  Title,
  Tooltip,
  Legend
);
export const InterviewStats = ({ interviews }) => {
  const processInterviewData = () => {
    const scoresByDifficulty = {
      easy: [],
      medium: [],
      hard: []
    };
    interviews.forEach(interview => {
      if (interview.score) {
        scoresByDifficulty[interview.difficulty].push(interview.score);
      }
    });
    return {
      easy: calculateAverage(scoresByDifficulty.easy),
      medium: calculateAverage(scoresByDifficulty.medium),
      hard: calculateAverage(scoresByDifficulty.hard)
    };
  };
  const calculateAverage = (scores) => {
    return scores.length > 0 
      ? Math.round(scores.reduce((a, b) => a + b) / scores.length) 
      : 0;
  };
  const averageScores = processInterviewData();
  const chartData = {
    labels: ['Easy', 'Medium', 'Hard'],
    datasets: [
      {
        label: 'Average Score by Difficulty',
        data: Object.values(averageScores),
        borderColor: 'rgb(75, 192, 192)',
        tension: 0.1
      }
    ]
  };
  const options = {
    responsive: true,
    plugins: {
      legend: {
        position: 'top',
      },
      title: {
        display: true,
        text: 'Interview Performance by Difficulty'
      }
    },
    scales: {
      y: {
        beginAtZero: true,
        max: 100
      }
    }
  };
  const getStats = () => {
    const total = interviews.length;
    const passed = interviews.filter(i => i.score >= 70).length;
    const passRate = total > 0 ? Math.round((passed / total) * 100) : 0;
    return {
      total,
      passed,
      passRate,
      averageScore: calculateAverage(interviews.map(i => i.score))
    };
  };
  const stats = getStats();
  return (
    <div className="space-y-6">
      <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
        <Card className="p-6">
          <h3 className="text-lg font-semibold mb-2">Total Interviews</h3>
          <p className="text-3xl font-bold">{stats.total}</p>
        </Card>
        <Card className="p-6">
          <h3 className="text-lg font-semibold mb-2">Passed</h3>
          <p className="text-3xl font-bold">{stats.passed}</p>
        </Card>
        <Card className="p-6">
          <h3 className="text-lg font-semibold mb-2">Pass Rate</h3>
          <p className="text-3xl font-bold">{stats.passRate}%</p>
        </Card>
        <Card className="p-6">
          <h3 className="text-lg font-semibold mb-2">Average Score</h3>
          <p className="text-3xl font-bold">{stats.averageScore}%</p>
        </Card>
      </div>
      <Card className="p-6">
        <Line data={chartData} options={options} />
      </Card>
    </div>
  );
};
````

## File: app/dashboard/admin/_components/Overview.jsx
````javascript
"use client";
import { Card } from "@/components/ui/card";
import { Progress } from "@/components/ui/progress";
import { Bar } from "react-chartjs-2";
import {
  Chart as ChartJS,
  CategoryScale,
  LinearScale,
  BarElement,
  Title,
  Tooltip,
  Legend
} from 'chart.js';
ChartJS.register(
  CategoryScale,
  LinearScale,
  BarElement,
  Title,
  Tooltip,
  Legend
);
export const Overview = ({ overview }) => {
  if (!overview) {
    return (
      <Card className="p-6">
        <h2 className="text-2xl font-bold mb-6">Overview</h2>
        <p>No data available</p>
      </Card>
    );
  }
  const {
    totalUsers = 0,
    totalInterviews = 0,
    totalAptitudeTests = 0,
    totalAssessments = 0,
    passRate = 0,
    averageScore = 0,
    skillsAverageScore = 0
  } = overview;
  const chartData = {
    labels: ['Users', 'Interviews', 'Aptitude Tests', 'Skills Assessments'],
    datasets: [
      {
        label: 'Total Count',
        data: [totalUsers, totalInterviews, totalAptitudeTests, totalAssessments],
        backgroundColor: [
          'rgba(59, 130, 246, 0.5)',
          'rgba(16, 185, 129, 0.5)',
          'rgba(245, 158, 11, 0.5)',
          'rgba(255, 99, 132, 0.5)'
        ],
        borderColor: [
          'rgb(59, 130, 246)',
          'rgb(16, 185, 129)',
          'rgb(245, 158, 11)',
          'rgb(255, 99, 132)'
        ],
        borderWidth: 1
      }
    ]
  };
  const options = {
    responsive: true,
    plugins: {
      legend: {
        position: 'top',
      },
      title: {
        display: true,
        text: 'Platform Overview'
      }
    }
  };
  return (
    <div className="space-y-6">
      <Card className="p-6">
        <h2 className="text-2xl font-bold mb-6">Overview</h2>
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          <div>
            <h3 className="text-sm font-medium text-muted-foreground">Total Users</h3>
            <p className="text-2xl font-bold">{totalUsers}</p>
          </div>
          <div>
            <h3 className="text-sm font-medium text-muted-foreground">Total Interviews</h3>
            <p className="text-2xl font-bold">{totalInterviews}</p>
          </div>
          <div>
            <h3 className="text-sm font-medium text-muted-foreground">Total Aptitude Tests</h3>
            <p className="text-2xl font-bold">{totalAptitudeTests}</p>
          </div>
          <div>
            <h3 className="text-sm font-medium text-muted-foreground">Total Skills Assessments</h3>
            <p className="text-2xl font-bold">{totalAssessments}</p>
          </div>
          <div className="md:col-span-2">
            <h3 className="text-sm font-medium text-muted-foreground mb-2">Pass Rate</h3>
            <div className="flex items-center gap-2">
              <Progress value={passRate} className="flex-1" />
              <span className="text-sm font-medium">{passRate}%</span>
            </div>
          </div>
          <div>
            <h3 className="text-sm font-medium text-muted-foreground mb-2">Average Score</h3>
            <div className="flex items-center gap-2">
              <Progress value={averageScore} className="flex-1" />
              <span className="text-sm font-medium">{averageScore}%</span>
            </div>
          </div>
          <div>
            <h3 className="text-sm font-medium text-muted-foreground mb-2">Skills Average</h3>
            <div className="flex items-center gap-2">
              <Progress value={skillsAverageScore} className="flex-1" />
              <span className="text-sm font-medium">{skillsAverageScore}%</span>
            </div>
          </div>
        </div>
      </Card>
      <Card className="p-6">
        <Bar data={chartData} options={options} />
      </Card>
    </div>
  );
};
````

## File: app/dashboard/admin/_components/SkillsStats.jsx
````javascript
"use client";
import { useState, useEffect } from "react";
import { Card } from "@/components/ui/card";
import {
  BarChart,
  Bar,
  XAxis,
  YAxis,
  CartesianGrid,
  Tooltip,
  ResponsiveContainer,
} from "recharts";
import { toast } from "sonner";
export const SkillsStats = () => {
  const [stats, setStats] = useState(null);
  const [loading, setLoading] = useState(true);
  useEffect(() => {
    const fetchStats = async () => {
      try {
        const response = await fetch("/api/admin/stats");
        if (!response.ok) {
          throw new Error("Failed to fetch skills stats");
        }
        const data = await response.json();
        setStats(data);
      } catch (error) {
        console.error("Error fetching skills stats:", error);
        toast.error("Failed to load skills statistics");
      } finally {
        setLoading(false);
      }
    };
    fetchStats();
  }, []);
  if (loading) {
    return <div>Loading skills statistics...</div>;
  }
  if (!stats || !stats.skillAssessments || stats.skillAssessments.length === 0) {
    return (
      <Card className="p-4">
        <h2 className="text-xl font-semibold mb-4">Skills Assessment Statistics</h2>
        <p>No skills assessment records found.</p>
      </Card>
    );
  }
  const skillLevelData = stats.skillAssessments.reduce((acc, assessment) => {
    const level = assessment.skillLevel || "Unknown";
    acc[level] = (acc[level] || 0) + 1;
    return acc;
  }, {});
  const chartData = Object.entries(skillLevelData).map(([name, value]) => ({
    name,
    count: value,
  }));
  return (
    <Card className="p-4">
      <h2 className="text-xl font-semibold mb-4">Skills Assessment Statistics</h2>
      <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
        <Card className="p-4">
          <h3 className="text-sm font-medium">Total Assessments</h3>
          <p className="text-2xl font-bold">{stats.overview.totalAssessments}</p>
        </Card>
        <Card className="p-4">
          <h3 className="text-sm font-medium">Average Score</h3>
          <p className="text-2xl font-bold">{stats.overview.skillsAverageScore}%</p>
        </Card>
      </div>
      <div className="h-[300px] mt-4">
        <h3 className="text-lg font-medium mb-2">Skill Level Distribution</h3>
        <ResponsiveContainer width="100%" height="100%">
          <BarChart data={chartData}>
            <CartesianGrid strokeDasharray="3 3" />
            <XAxis dataKey="name" />
            <YAxis />
            <Tooltip />
            <Bar dataKey="count" fill="#8884d8" />
          </BarChart>
        </ResponsiveContainer>
      </div>
    </Card>
  );
};
````

## File: app/dashboard/admin/_components/UserStats.jsx
````javascript
"use client";
import { Card } from "@/components/ui/card";
import { Bar } from "react-chartjs-2";
import {
  Chart as ChartJS,
  CategoryScale,
  LinearScale,
  BarElement,
  Title,
  Tooltip,
  Legend
} from 'chart.js';
ChartJS.register(
  CategoryScale,
  LinearScale,
  BarElement,
  Title,
  Tooltip,
  Legend
);
export const UserStats = ({ users }) => {
  const usersByMonth = users.reduce((acc, user) => {
    const date = new Date(user.createdAt);
    const month = date.toLocaleString('default', { month: 'short' });
    acc[month] = (acc[month] || 0) + 1;
    return acc;
  }, {});
  const chartData = {
    labels: Object.keys(usersByMonth),
    datasets: [
      {
        label: 'New Users',
        data: Object.values(usersByMonth),
        backgroundColor: 'rgba(59, 130, 246, 0.5)',
        borderColor: 'rgb(59, 130, 246)',
        borderWidth: 1,
      },
    ],
  };
  const options = {
    responsive: true,
    plugins: {
      legend: {
        position: 'top',
      },
      title: {
        display: true,
        text: 'User Registration Trends',
      },
    },
  };
  const calculateStats = () => {
    const totalUsers = users.length;
    const activeUsers = users.filter(user => user.isActive).length;
    const completedInterviews = users.reduce((acc, user) => 
      acc + (user.interviews?.length || 0), 0
    );
    return { totalUsers, activeUsers, completedInterviews };
  };
  const stats = calculateStats();
  return (
    <div className="space-y-6">
      <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
        <Card className="p-6">
          <h3 className="text-lg font-semibold mb-2">Total Users</h3>
          <p className="text-3xl font-bold">{stats.totalUsers}</p>
        </Card>
        <Card className="p-6">
          <h3 className="text-lg font-semibold mb-2">Active Users</h3>
          <p className="text-3xl font-bold">{stats.activeUsers}</p>
        </Card>
        <Card className="p-6">
          <h3 className="text-lg font-semibold mb-2">Total Interviews</h3>
          <p className="text-3xl font-bold">{stats.completedInterviews}</p>
        </Card>
      </div>
      <Card className="p-6">
        <Bar data={chartData} options={options} />
      </Card>
    </div>
  );
};
````

## File: app/dashboard/admin/_components/UserTable.jsx
````javascript
"use client";
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table";
import { Button } from "@/components/ui/button";
import { 
  CheckCircle2, 
  XCircle,
  MoreHorizontal, 
  UserCog
} from "lucide-react";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
export const UserTable = ({ users }) => {
  const formatDate = (date) => {
    return new Date(date).toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'short',
      day: 'numeric'
    });
  };
  const handleAction = async (userId, action) => {
    try {
      const response = await fetch(`/api/admin/users/${userId}`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ action })
      });
      if (!response.ok) {
        throw new Error('Failed to perform action');
      }
      // Refresh data or show success message
    } catch (error) {
      console.error(error);
      // Show error message
    }
  };
  return (
    <div className="rounded-md border">
      <Table>
        <TableHeader>
          <TableRow>
            <TableHead>User</TableHead>
            <TableHead>Status</TableHead>
            <TableHead>Interviews</TableHead>
            <TableHead>Tests</TableHead>
            <TableHead>Joined</TableHead>
            <TableHead>Last Active</TableHead>
            <TableHead className="text-right">Actions</TableHead>
          </TableRow>
        </TableHeader>
        <TableBody>
          {users.map((user) => (
            <TableRow key={user.id}>
              <TableCell className="font-medium">
                <div className="flex items-center space-x-2">
                  <div className="w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center">
                    <UserCog className="w-4 h-4 text-primary" />
                  </div>
                  <div>
                    <div>{user.name}</div>
                    <div className="text-sm text-muted-foreground">
                      {user.email}
                    </div>
                  </div>
                </div>
              </TableCell>
              <TableCell>
                {user.isActive ? (
                  <div className="flex items-center text-green-600">
                    <CheckCircle2 className="w-4 h-4 mr-1" />
                    Active
                  </div>
                ) : (
                  <div className="flex items-center text-red-600">
                    <XCircle className="w-4 h-4 mr-1" />
                    Inactive
                  </div>
                )}
              </TableCell>
              <TableCell>{user.interviews?.length || 0}</TableCell>
              <TableCell>{user.aptitudeTests?.length || 0}</TableCell>
              <TableCell>{formatDate(user.createdAt)}</TableCell>
              <TableCell>{formatDate(user.lastActive)}</TableCell>
              <TableCell className="text-right">
                <DropdownMenu>
                  <DropdownMenuTrigger asChild>
                    <Button variant="ghost" className="h-8 w-8 p-0">
                      <MoreHorizontal className="h-4 w-4" />
                    </Button>
                  </DropdownMenuTrigger>
                  <DropdownMenuContent align="end">
                    <DropdownMenuLabel>Actions</DropdownMenuLabel>
                    <DropdownMenuSeparator />
                    <DropdownMenuItem
                      onClick={() => handleAction(user.id, 'view')}
                    >
                      View Details
                    </DropdownMenuItem>
                    <DropdownMenuItem
                      onClick={() => handleAction(user.id, user.isActive ? 'deactivate' : 'activate')}
                    >
                      {user.isActive ? 'Deactivate' : 'Activate'} User
                    </DropdownMenuItem>
                    <DropdownMenuItem
                      onClick={() => handleAction(user.id, 'delete')}
                      className="text-red-600"
                    >
                      Delete User
                    </DropdownMenuItem>
                  </DropdownMenuContent>
                </DropdownMenu>
              </TableCell>
            </TableRow>
          ))}
        </TableBody>
      </Table>
    </div>
  );
};
````

## File: app/dashboard/admin/page.jsx
````javascript
"use client";
import { AdminDashboard } from "./_components/AdminDashboard";
const AdminPage = () => {
  return <AdminDashboard />;
};
export default AdminPage;
````

## File: app/dashboard/analytics/page.jsx
````javascript
"use client";
import { useEffect, useState } from 'react';
import { db } from "@/utils/db";
import { MockInterview, UserAnswer } from "@/utils/schema";
import { useUser } from "@clerk/nextjs";
import { eq, desc } from "drizzle-orm";
import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, BarChart, Bar, Area, AreaChart } from 'recharts';
import Header from "../_components/Header";
import { motion } from "framer-motion";
function formatDate(dateString) {
  return new Date(dateString).toLocaleDateString('en-US', {
    month: 'short',
    day: 'numeric'
  });
}
const fadeInUp = {
  initial: { y: 20, opacity: 0 },
  animate: { y: 0, opacity: 1 },
  transition: { duration: 0.5 }
};
const StatCard = ({ title, value, trend }) => (
  <motion.div
    className="bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow"
    whileHover={{ scale: 1.02 }}
    initial={{ opacity: 0, y: 20 }}
    animate={{ opacity: 1, y: 0 }}
    transition={{ duration: 0.3 }}
  >
    <h3 className="text-sm font-medium text-gray-500">{title}</h3>
    <div className="mt-2 flex items-baseline">
      <p className="text-3xl font-semibold text-gray-900">{value}</p>
      {trend && (
        <p className={`ml-2 text-sm ${trend >= 0 ? 'text-green-600' : 'text-red-600'}`}>
          {trend > 0 ? '↑' : '↓'} {Math.abs(trend)}%
        </p>
      )}
    </div>
  </motion.div>
);
export default function AnalyticsPage() {
  const { user } = useUser();
  const [data, setData] = useState({
    performanceData: [],
    interviewsByDay: [],
    loading: true,
    error: null,
    stats: {
      totalInterviews: 0,
      averageScore: 0,
      improvement: 0
    }
  });
  useEffect(() => {
    const fetchAnalytics = async () => {
      if (!user?.emailAddresses?.[0]?.emailAddress) return;
      try {
        // Fetch user answers for performance data
        const answers = await db
          .select()
          .from(UserAnswer)
          .where(eq(UserAnswer.userEmail, user.emailAddresses[0].emailAddress))
          .orderBy(desc(UserAnswer.createdAt));
        // Process performance data
        const performanceByInterview = new Map();
        answers.forEach(answer => {
          if (!answer.rating || !answer.createdAt) return;
          const score = parseInt(answer.rating, 10);
          if (isNaN(score)) return;
          if (!performanceByInterview.has(answer.mockIdRef)) {
            performanceByInterview.set(answer.mockIdRef, {
              date: answer.createdAt,
              scores: []
            });
          }
          performanceByInterview.get(answer.mockIdRef).scores.push(score);
        });
        // Calculate average scores and format data for charts
        const performanceData = Array.from(performanceByInterview.entries())
          .map(([mockId, data]) => ({
            date: formatDate(data.date),
            score: Math.round(data.scores.reduce((a, b) => a + b, 0) / data.scores.length),
            mockId
          }))
          .sort((a, b) => new Date(a.date) - new Date(b.date));
        // Calculate interviews by day
        const interviewsByDay = performanceData.reduce((acc, curr) => {
          const existingDay = acc.find(day => day.date === curr.date);
          if (existingDay) {
            existingDay.count += 1;
          } else {
            acc.push({ date: curr.date, count: 1 });
          }
          return acc;
        }, []);
        // Calculate stats
        const totalInterviews = performanceData.length;
        const averageScore = Math.round(
          performanceData.reduce((acc, curr) => acc + curr.score, 0) / totalInterviews
        );
        const improvement = performanceData.length >= 2 
          ? Math.round(((performanceData[performanceData.length - 1].score - performanceData[0].score) / performanceData[0].score) * 100)
          : 0;
        setData({
          performanceData,
          interviewsByDay,
          loading: false,
          error: null,
          stats: {
            totalInterviews,
            averageScore,
            improvement
          }
        });
      } catch (error) {
        console.error('Error fetching analytics:', error);
        setData(prev => ({
          ...prev,
          loading: false,
          error: 'Failed to load analytics data'
        }));
      }
    };
    fetchAnalytics();
  }, [user]);
  if (data.loading) {
    return (
      <div className="min-h-screen bg-gray-50/50">
        <Header />
        <main className="pt-24 pb-10 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
          <div className="animate-pulse space-y-8">
            <div className="h-8 w-64 bg-gray-200 rounded"></div>
            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
              {[1, 2, 3].map(i => (
                <div key={i} className="h-32 bg-gray-200 rounded-xl"></div>
              ))}
            </div>
            <div className="h-[400px] bg-gray-200 rounded-xl"></div>
            <div className="h-[300px] bg-gray-200 rounded-xl"></div>
          </div>
        </main>
      </div>
    );
  }
  return (
    <div className="min-h-screen bg-gradient-to-b from-gray-50 to-gray-100">
      <Header />
      <main className="pt-24 pb-10 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5 }}
          className="mb-12"
        >
          <h1 className="text-4xl font-bold bg-gradient-to-r from-primary to-purple-600 bg-clip-text text-transparent">
            Performance Analytics
          </h1>
          <p className="text-gray-600 mt-2">
            Track your interview performance and progress over time
          </p>
        </motion.div>
        {data.error ? (
          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            className="text-center text-red-500 p-4 bg-red-50 rounded-xl"
          >
            {data.error}
          </motion.div>
        ) : (
          <div className="space-y-8">
            {/* Stats Grid */}
            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
              <StatCard
                title="Total Interviews"
                value={data.stats.totalInterviews}
              />
              <StatCard
                title="Average Score"
                value={`${data.stats.averageScore}%`}
              />
              <StatCard
                title="Overall Improvement"
                value={`${Math.abs(data.stats.improvement)}%`}
                trend={data.stats.improvement}
              />
            </div>
            {/* Performance Over Time */}
            <motion.div
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.5, delay: 0.2 }}
              className="bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow"
            >
              <h2 className="text-xl font-semibold mb-4">Performance Over Time</h2>
              <div className="h-[400px]">
                <ResponsiveContainer width="100%" height="100%">
                  <AreaChart data={data.performanceData}>
                    <defs>
                      <linearGradient id="colorScore" x1="0" y1="0" x2="0" y2="1">
                        <stop offset="5%" stopColor="#6366f1" stopOpacity={0.3}/>
                        <stop offset="95%" stopColor="#6366f1" stopOpacity={0}/>
                      </linearGradient>
                    </defs>
                    <CartesianGrid strokeDasharray="3 3" stroke="#f0f0f0" />
                    <XAxis dataKey="date" stroke="#6b7280" />
                    <YAxis domain={[0, 100]} stroke="#6b7280" />
                    <Tooltip
                      contentStyle={{
                        backgroundColor: 'rgba(255, 255, 255, 0.9)',
                        border: '1px solid #e5e7eb',
                        borderRadius: '0.5rem'
                      }}
                    />
                    <Area
                      type="monotone"
                      dataKey="score"
                      stroke="#6366f1"
                      strokeWidth={2}
                      fill="url(#colorScore)"
                      name="Score (%)"
                      dot={{ r: 4, fill: "#6366f1" }}
                      activeDot={{ r: 6, fill: "#4f46e5" }}
                    />
                  </AreaChart>
                </ResponsiveContainer>
              </div>
            </motion.div>
            {/* Interviews by Day */}
            <motion.div
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.5, delay: 0.4 }}
              className="bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow"
            >
              <h2 className="text-xl font-semibold mb-4">Interviews by Day</h2>
              <div className="h-[300px]">
                <ResponsiveContainer width="100%" height="100%">
                  <BarChart data={data.interviewsByDay}>
                    <CartesianGrid strokeDasharray="3 3" stroke="#f0f0f0" />
                    <XAxis dataKey="date" stroke="#6b7280" />
                    <YAxis allowDecimals={false} stroke="#6b7280" />
                    <Tooltip
                      contentStyle={{
                        backgroundColor: 'rgba(255, 255, 255, 0.9)',
                        border: '1px solid #e5e7eb',
                        borderRadius: '0.5rem'
                      }}
                    />
                    <Bar
                      dataKey="count"
                      fill="#6366f1"
                      name="Number of Interviews"
                      radius={[4, 4, 0, 0]}
                    />
                  </BarChart>
                </ResponsiveContainer>
              </div>
            </motion.div>
          </div>
        )}
      </main>
    </div>
  );
}
````

## File: app/dashboard/aptitude/_components/AptitudeClient.jsx
````javascript
"use client";
import { useState } from "react";
import { Card } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Progress } from "@/components/ui/progress";
import { toast } from "sonner";
import { Loader2, Brain, Calculator, Code, BookOpen } from "lucide-react";
import ScoreBoard from "./ScoreBoard";
const TOPICS = [
  { 
    id: 'reasoning', 
    name: 'Logical Reasoning', 
    description: 'Test your analytical and logical thinking skills',
    icon: Brain
  },
  { 
    id: 'math', 
    name: 'Mathematical Aptitude', 
    description: 'Evaluate your mathematical and numerical abilities',
    icon: Calculator
  },
  { 
    id: 'technical', 
    name: 'Technical Knowledge', 
    description: 'Assess your technical and programming concepts',
    icon: Code
  },
  { 
    id: 'verbal', 
    name: 'Verbal Ability', 
    description: 'Test your English language and comprehension skills',
    icon: BookOpen
  }
];
const AptitudeClient = () => {
  const [questions, setQuestions] = useState([]);
  const [currentQuestion, setCurrentQuestion] = useState(0);
  const [answers, setAnswers] = useState({});
  const [loading, setLoading] = useState(false);
  const [submitting, setSubmitting] = useState(false);
  const [selectedTopic, setSelectedTopic] = useState(null);
  const [testStarted, setTestStarted] = useState(false);
  const [topicSelectionLoading, setTopicSelectionLoading] = useState(false);
  const [scores, setScores] = useState({});
  const [showResults, setShowResults] = useState(false);
  const fetchQuestions = async (topic) => {
    try {
      setLoading(true);
      const response = await fetch(`/api/aptitude/questions?topic=${topic}`);
      if (!response.ok) {
        throw new Error('Failed to fetch questions');
      }
      const data = await response.json();
      if (data.error) throw new Error(data.error);
      if (!data.questions || data.questions.length === 0) {
        throw new Error('No questions received');
      }
      setQuestions(data.questions);
      setTestStarted(true);
      setShowResults(false);
    } catch (error) {
      toast.error(error.message || "Failed to load questions");
      console.error(error);
      setTestStarted(false);
      setSelectedTopic(null);
    } finally {
      setLoading(false);
      setTopicSelectionLoading(false);
    }
  };
  const handleStartTest = async (topic) => {
    try {
      setTopicSelectionLoading(true);
      setSelectedTopic(topic);
      await fetchQuestions(topic);
    } catch (error) {
      toast.error("Failed to start test");
      setSelectedTopic(null);
      setTopicSelectionLoading(false);
    }
  };
  const handleAnswer = (questionId, answer) => {
    setAnswers(prev => ({
      ...prev,
      [questionId]: answer
    }));
  };
  const handleNext = () => {
    if (currentQuestion < questions.length - 1) {
      setCurrentQuestion(prev => prev + 1);
    }
  };
  const handlePrevious = () => {
    if (currentQuestion > 0) {
      setCurrentQuestion(prev => prev - 1);
    }
  };
  const handleSubmit = async () => {
    const answeredQuestions = Object.keys(answers).length;
    if (answeredQuestions < questions.length) {
      toast.error(`Please answer all questions (${answeredQuestions}/${questions.length} completed)`);
      return;
    }
    try {
      setSubmitting(true);
      const response = await fetch("/api/aptitude/submit", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({ 
          answers,
          topic: selectedTopic 
        }),
      });
      if (!response.ok) {
        throw new Error('Failed to submit test');
      }
      const data = await response.json();
      if (data.error) throw new Error(data.error);
      // Update scores with the new score
      setScores(prev => ({
        ...prev,
        [selectedTopic]: {
          correct: data.score.correct,
          total: data.score.total,
          percentage: data.score.percentage
        }
      }));
      toast.success("Test submitted successfully!");
      setShowResults(true);
      setTestStarted(false);
      setQuestions([]);
      setAnswers({});
      setCurrentQuestion(0);
    } catch (error) {
      toast.error(error.message || "Failed to submit test");
      console.error(error);
    } finally {
      setSubmitting(false);
    }
  };
  const handleStartNewTest = () => {
    setSelectedTopic(null);
    setShowResults(false);
    setTestStarted(false);
  };
  if (loading) {
    return (
      <div className="flex items-center justify-center min-h-[60vh]">
        <div className="text-center">
          <Loader2 className="h-8 w-8 animate-spin text-primary mx-auto mb-4" />
          <p className="text-muted-foreground">Loading questions...</p>
        </div>
      </div>
    );
  }
  if (showResults) {
    return (
      <div className="container max-w-3xl mx-auto py-8">
        <ScoreBoard scores={scores} />
        <div className="mt-6 text-center">
          <Button onClick={handleStartNewTest}>
            Take Another Test
          </Button>
        </div>
      </div>
    );
  }
  if (!testStarted) {
    return (
      <div className="container max-w-4xl mx-auto py-8">
        <div className="mb-8">
          <ScoreBoard scores={scores} />
        </div>
        <h1 className="text-2xl font-bold mb-6">Choose Your Aptitude Test</h1>
        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
          {TOPICS.map((topic) => {
            const Icon = topic.icon;
            return (
              <Button
                key={topic.id}
                variant="outline"
                className={`h-auto p-6 hover:border-primary ${
                  topicSelectionLoading && selectedTopic === topic.id
                    ? 'opacity-50 cursor-not-allowed'
                    : 'hover:bg-primary/5'
                }`}
                onClick={() => !topicSelectionLoading && handleStartTest(topic.id)}
                disabled={topicSelectionLoading}
              >
                <div className="flex flex-col items-center text-left w-full">
                  <Icon className="h-8 w-8 mb-4 text-primary" />
                  <h2 className="text-xl font-semibold mb-2">{topic.name}</h2>
                  <p className="text-muted-foreground text-sm">{topic.description}</p>
                  {topicSelectionLoading && selectedTopic === topic.id && (
                    <Loader2 className="h-4 w-4 animate-spin mt-2" />
                  )}
                </div>
              </Button>
            );
          })}
        </div>
      </div>
    );
  }
  const currentQ = questions[currentQuestion];
  const progress = ((currentQuestion + 1) / questions.length) * 100;
  return (
    <div className="container max-w-3xl mx-auto py-8">
      <Card className="p-6">
        <div className="mb-6">
          <div className="flex justify-between items-center mb-4">
            <h1 className="text-2xl font-bold">
              Aptitude Test: {TOPICS.find(t => t.id === selectedTopic)?.name}
            </h1>
            <span className="text-sm text-muted-foreground">
              {Object.keys(answers).length}/{questions.length} Answered
            </span>
          </div>
          <Progress value={progress} className="h-2" />
          <p className="text-sm text-muted-foreground mt-2">
            Question {currentQuestion + 1} of {questions.length}
          </p>
        </div>
        {currentQ && (
          <div className="space-y-6">
            <div className="space-y-4">
              <h2 className="text-lg font-semibold">{currentQ.question}</h2>
              <div className="space-y-2">
                {currentQ.options.map((option, index) => (
                  <Button
                    key={index}
                    variant={answers[currentQ.id] === option ? "default" : "outline"}
                    className="w-full justify-start text-left"
                    onClick={() => handleAnswer(currentQ.id, option)}
                  >
                    {option}
                  </Button>
                ))}
              </div>
            </div>
            <div className="flex justify-between pt-4">
              <Button
                variant="outline"
                onClick={handlePrevious}
                disabled={currentQuestion === 0}
              >
                Previous
              </Button>
              {currentQuestion === questions.length - 1 ? (
                <Button
                  onClick={handleSubmit}
                  disabled={submitting}
                >
                  {submitting ? (
                    <>
                      <Loader2 className="mr-2 h-4 w-4 animate-spin" />
                      Submitting...
                    </>
                  ) : (
                    "Submit Test"
                  )}
                </Button>
              ) : (
                <Button
                  onClick={handleNext}
                  disabled={!answers[currentQ.id]}
                >
                  Next
                </Button>
              )}
            </div>
          </div>
        )}
      </Card>
    </div>
  );
};
export default AptitudeClient;
````

## File: app/dashboard/aptitude/_components/ScoreBoard.jsx
````javascript
"use client";
import { Card } from "@/components/ui/card";
import { Progress } from "@/components/ui/progress";
import { Brain, Calculator, Code, BookOpen } from "lucide-react";
const TOPIC_ICONS = {
  reasoning: Brain,
  math: Calculator,
  technical: Code,
  verbal: BookOpen,
};
const ScoreBoard = ({ scores }) => {
  if (!scores || Object.keys(scores).length === 0) {
    return null;
  }
  const getTopicIcon = (topicId) => {
    const Icon = TOPIC_ICONS[topicId];
    return Icon ? <Icon className="h-5 w-5 text-primary" /> : null;
  };
  const calculatePercentage = (correct, total) => {
    return total > 0 ? Math.round((correct / total) * 100) : 0;
  };
  return (
    <Card className="p-6">
      <h2 className="text-xl font-bold mb-4">Your Test Results</h2>
      <div className="space-y-4">
        {Object.entries(scores).map(([topic, score]) => {
          const percentage = calculatePercentage(score.correct, score.total);
          return (
            <div key={topic} className="space-y-2">
              <div className="flex items-center justify-between">
                <div className="flex items-center gap-2">
                  {getTopicIcon(topic)}
                  <span className="font-medium capitalize">
                    {topic.replace(/_/g, ' ')}
                  </span>
                </div>
                <span className="text-sm text-muted-foreground">
                  {score.correct}/{score.total} ({percentage}%)
                </span>
              </div>
              <Progress value={percentage} className="h-2" />
              <div className="text-sm text-muted-foreground">
                {percentage >= 70 ? (
                  <span className="text-green-600">Excellent performance!</span>
                ) : percentage >= 50 ? (
                  <span className="text-yellow-600">Good effort!</span>
                ) : (
                  <span className="text-red-600">Needs improvement</span>
                )}
              </div>
            </div>
          );
        })}
      </div>
    </Card>
  );
};
export default ScoreBoard;
````

## File: app/dashboard/aptitude/page.jsx
````javascript
import AptitudeClient from "./_components/AptitudeClient";
export default function AptitudePage() {
  return <AptitudeClient />;
}
````

## File: app/dashboard/interview/[interviewId]/feedback/page.jsx
````javascript
"use client";
import { db } from "@/utils/db";
import { UserAnswer } from "@/utils/schema";
import { eq } from "drizzle-orm";
import React, { useEffect, useState } from "react";
import { ChevronDown } from "lucide-react";
import {
  Collapsible,
  CollapsibleContent,
  CollapsibleTrigger,
} from "@/components/ui/collapsible";
import { Button } from "@/components/ui/button";
import { useRouter } from "next/navigation";
import { useMemo } from "react";
const Feedback = ({ params }) => {
  const router = useRouter();
  const [feedbackList, setFeedbackList] = useState([]);
  useEffect(() => {
    GetFeedback();
  }, []);
  const GetFeedback = async () => {
    const result = await db
      .select()
      .from(UserAnswer)
      .where(eq(UserAnswer.mockIdRef, params.interviewId))
      .orderBy(UserAnswer.id);
    console.log(result);
    setFeedbackList(result);
  };
  const overallRating = useMemo(() => {
    if (feedbackList && feedbackList.length > 0) {
      const totalRating = feedbackList.reduce(
        (sum, item) => sum + Number(item.rating),
        0
      );
      // console.log("total",totalRating);
      // console.log("length",feedbackList.length);
      return (totalRating / feedbackList.length).toFixed(1);
    }
    return 0;
  }, [feedbackList]);
  return (
    <div className="p-10">
      {feedbackList?.length == 0 ? (
        <h2 className="font-bold text-xl text-gray-500 my-5">
          No Interview feedback Record Found
        </h2>
      ) : (
        <>
         <h2 className="text-3xl font-bold text-green-500">Congratulations</h2>
         <h2 className="font-bold text-2xl">Here is your interview feedback</h2>
          <h2 className="text-primary text-lg my-3">
            Your overall interview rating{" "}
            <strong
              className={`${
                overallRating >= 5 ? "text-green-500" : "text-red-600"
              }`}
            >
              {overallRating}
              <span className="text-black">/10</span>
            </strong>
          </h2>
          <h2 className="text-sm text-gray-500">
            Find below interview question with correct answer, Your answer and
            feedback for improvement
          </h2>
          {feedbackList &&
            feedbackList.map((item, index) => (
              <Collapsible key={index} className="mt-7">
                <CollapsibleTrigger className="p-2 bg-secondary rounded-lg my-2 text-left flex justify-between gap-7 w-full">
                  {item.question} <ChevronDown className="h-5 w-5" />{" "}
                </CollapsibleTrigger>
                <CollapsibleContent>
                  <div className="flex flex-col gap-2">
                    <h2 className="text-red-500 p-2 border rounded-lg">
                      <strong>Rating: </strong>
                      {item.rating}
                    </h2>
                    <h2 className="p-2 border rounded-lg bg-red-50 text-sm text-red-900">
                      <strong>Your Answer: </strong>
                      {item.userAns}
                    </h2>
                    <h2 className="p-2 border rounded-lg bg-green-50 text-sm text-green-900">
                      <strong>Correct Answer: </strong>
                      {item.correctAns}
                    </h2>
                    <h2 className="p-2 border rounded-lg bg-blue-50 text-sm text-primary-900">
                      <strong>Feedback: </strong>
                      {item.feedback}
                    </h2>
                  </div>
                </CollapsibleContent>
              </Collapsible>
            ))}
        </>
      )}
      <Button onClick={() => router.replace("/dashboard")}>Go Home</Button>
    </div>
  );
};
export default Feedback;
````

## File: app/dashboard/interview/[interviewId]/start/_components/api/clips/route.js
````javascript
import { NextResponse } from "next/server";
const D_ID_API_URL = "https://api.d-id.com/clips";
const D_ID_API_KEY = process.env.D_ID_API_KEY;
async function createClip({
  text,
  voiceId,
  bgColor,
  presenterId,
}) {
  const requestBody = {
    script: {
      type: "text",
      input: text,
      subtitles: false,
      provider: {
        type: "elevenlabs",
        voice_id: voiceId,
      },
    },
    config: {
      result_format: "mp4",
      fluent: true,
      driver_expressions: {
        expressions: [],
        transition_frames: 0,
      },
    },
    presenter_id: presenterId,
    background: {
      color: bgColor,
    },
  };
  const res = await fetch(D_ID_API_URL, {
    method: "POST",
    headers: {
      Authorization: `Basic ${D_ID_API_KEY}`,
      "Content-Type": "application/json",
      accept: "application/json",
    },
    body: JSON.stringify(requestBody),
  });
  if (!res.ok) {
    const errorText = await res.text();
    throw new Error(`D-ID API request failed: ${res.statusText}. ${errorText}`);
  }
  return res.json();
}
async function checkClipStatus(clipId) {
  const pollRes = await fetch(`${D_ID_API_URL}/${clipId}`, {
    headers: {
      Authorization: `Basic ${D_ID_API_KEY}`,
      accept: "application/json",
    },
  });
  if (!pollRes.ok) {
    throw new Error(`Failed to poll D-ID API: ${pollRes.statusText}`);
  }
  return pollRes.json();
}
async function pollClipStatus(clipId) {
  let attempts = 0;
  const maxAttempts = 30;
  const delayMs = 1000;
  while (attempts < maxAttempts) {
    const result = await checkClipStatus(clipId);
    if (result.status === "done") {
      return result;
    }
    if (result.status === "error") {
      throw new Error(`D-ID API error: ${result.error}`);
    }
    await new Promise((resolve) => setTimeout(resolve, delayMs));
    attempts++;
  }
  throw new Error("Timeout waiting for D-ID clip to complete");
}
export async function POST(request) {
  if (!D_ID_API_KEY) {
    return NextResponse.json(
      { error: "D-ID API key is missing from .env" },
      { status: 500 }
    );
  }
  try {
    const { text, presenterId, voiceId, bgColor } = await request.json();
    const createResponse = await createClip({
      text,
      presenterId,
      voiceId,
      bgColor,
    });
    const result = await pollClipStatus(createResponse.id);
    return NextResponse.json(result);
  } catch (error) {
    console.error("Error creating D-ID clip:", error);
    return NextResponse.json(
      { error: "Failed to create D-ID clip" },
      { status: 500 }
    );
  }
}
````

## File: app/dashboard/interview/[interviewId]/start/_components/HumanAvatar.jsx
````javascript
"use client";
import React, { useEffect, useState } from "react";
import { motion } from "framer-motion";
export function HumanAvatar({ isSpeaking, text }) {
  const [videoUrl, setVideoUrl] = useState(null);
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState(null);
  useEffect(() => {
    if (isSpeaking && text) {
      speakWithAvatar(text);
    }
  }, [isSpeaking, text]);
  const speakWithAvatar = async (text) => {
    try {
      setIsLoading(true);
      setError(null);
      console.log("Sending request to create talk with text:", text);
      const response = await fetch("/api/clips", {
        method: "POST",
        headers: { 
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          text,
        }),
      });
      if (!response.ok) {
        const errorData = await response.json();
        throw new Error(errorData.error || "Failed to create talk");
      }
      const data = await response.json();
      console.log("Received response:", data);
      if (!data.result_url) {
        throw new Error("No result URL in the response");
      }
      setVideoUrl(data.result_url);
    } catch (error) {
      console.error("Error in avatar speech:", error);
      setError(error.message);
    } finally {
      setIsLoading(false);
    }
  };
  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      className="relative w-full max-w-2xl mx-auto rounded-lg overflow-hidden bg-gray-100"
      style={{ 
        aspectRatio: "16/9",
        maxHeight: "400px"
      }}
    >
      {videoUrl ? (
        <video
          key={videoUrl}
          src={videoUrl}
          autoPlay
          playsInline
          className="w-full h-full object-contain"
          style={{
            background: "#F3F4F6"
          }}
        >
          <track kind="captions" />
        </video>
      ) : (
        <div className="w-full h-full flex items-center justify-center text-gray-500">
          {isLoading ? (
            "Generating response..."
          ) : error ? (
            `Error: ${error}`
          ) : (
            "Ready to speak"
          )}
        </div>
      )}
    </motion.div>
  );
}
````

## File: app/dashboard/interview/[interviewId]/start/_components/InterviewClient.jsx
````javascript
"use client";
import React, { useState, useCallback, useEffect } from "react";
import QuestionSection from "./QuestionSection";
import RecordAnswerSection from "./RecordAnswerSection";
import { Button } from "@/components/ui/button";
import Link from "next/link";
import { Loader2 } from "lucide-react";
export default function InterviewClient({ interview }) {
  const [activeQuestionIndex, setActiveQuestionIndex] = useState(0);
  const [loading, setLoading] = useState(false);
  const handlePrevQuestion = useCallback(() => {
    setActiveQuestionIndex(prev => Math.max(0, prev - 1));
  }, []);
  const handleNextQuestion = useCallback(() => {
    if (!interview?.questions) return;
    setActiveQuestionIndex(prev => 
      Math.min(interview.questions.length - 1, prev + 1)
    );
  }, [interview?.questions]);
  if (!interview || !interview.questions || interview.questions.length === 0) {
    return (
      <div className="flex flex-col items-center justify-center min-h-[50vh] p-8">
        <div className="text-destructive mb-4">⚠️ No questions available for this interview</div>
        <Link href="/dashboard">
          <Button variant="outline">Return to Dashboard</Button>
        </Link>
      </div>
    );
  }
  const currentQuestion = interview.questions[activeQuestionIndex];
  return (
    <div className="container mx-auto px-4 py-8">
      <div className="mb-8">
        <h2 className="text-2xl font-bold">
          Question {activeQuestionIndex + 1} of {interview.questions.length}
        </h2>
      </div>
      <div className="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
        <QuestionSection
          question={currentQuestion.Question}
          expectedAnswer={currentQuestion.Answer}
          timeLimit={60}
        />
        <RecordAnswerSection
          mockInterviewQuestion={interview.questions}
          activeQuestionIndex={activeQuestionIndex}
          interviewData={interview}
        />
      </div>
      <div className="flex justify-center gap-4 mt-8">
        <Button
          onClick={handlePrevQuestion}
          disabled={activeQuestionIndex === 0}
          variant="outline"
          size="lg"
          className="min-w-[200px]"
        >
          ← Previous Question
        </Button>
        {activeQuestionIndex === interview.questions.length - 1 ? (
          <Link href={`/dashboard/interview/${interview.mockId}/feedback`}>
            <Button variant="default" size="lg" className="min-w-[200px]">
              End Interview
            </Button>
          </Link>
        ) : (
          <Button
            onClick={handleNextQuestion}
            variant="default"
            size="lg"
            className="min-w-[200px]"
          >
            Next Question →
          </Button>
        )}
      </div>
    </div>
  );
}
````

## File: app/dashboard/interview/[interviewId]/start/_components/QuestionSection.jsx
````javascript
"use client";
import { Lightbulb, Volume2, VolumeX, Pause, Play } from "lucide-react";
import React, { useEffect, useState, useRef } from "react";
import { motion, AnimatePresence } from "framer-motion";
import { Button } from "@/components/ui/button";
import { toast } from "sonner";
const QuestionSection = ({ 
  question, 
  expectedAnswer, 
  timeLimit,
  avatarUrl,
  audioUrl,
  useFallback 
}) => {
  const [isSpeaking, setIsSpeaking] = useState(false);
  const [isPaused, setIsPaused] = useState(false);
  const [showAnswer, setShowAnswer] = useState(false);
  const audioRef = useRef(null);
  useEffect(() => {
    // Reset states when question changes
    setIsSpeaking(false);
    setIsPaused(false);
    setShowAnswer(false);
  }, [question]);
  const handlePlayAudio = async () => {
    try {
      if (!audioUrl) {
        toast.error("Audio not available for this question");
        return;
      }
      if (!audioRef.current) {
        audioRef.current = new Audio(audioUrl);
        audioRef.current.addEventListener('ended', () => {
          setIsSpeaking(false);
          setIsPaused(false);
        });
      }
      if (isPaused) {
        audioRef.current.play();
        setIsPaused(false);
      } else if (isSpeaking) {
        audioRef.current.pause();
        setIsPaused(true);
      } else {
        audioRef.current.currentTime = 0;
        audioRef.current.play();
      }
      setIsSpeaking(!isPaused);
    } catch (error) {
      console.error('Error playing audio:', error);
      toast.error("Failed to play audio");
      setIsSpeaking(false);
    }
  };
  return (
    <div className="p-6 bg-white rounded-lg shadow-lg">
      <div className="flex flex-col space-y-6">
        {/* Question Section */}
        <div className="space-y-4">
          <div className="flex justify-between items-center">
            <h3 className="text-lg font-semibold">Question</h3>
            <div className="flex space-x-2">
              <Button
                variant="outline"
                size="sm"
                onClick={handlePlayAudio}
                disabled={!audioUrl}
                className="hover:bg-gray-100"
              >
                {isSpeaking ? (
                  isPaused ? <Play className="h-4 w-4" /> : <Pause className="h-4 w-4" />
                ) : (
                  <Volume2 className="h-4 w-4" />
                )}
              </Button>
              <Button
                variant="outline"
                size="sm"
                onClick={() => setShowAnswer(!showAnswer)}
                className="hover:bg-gray-100"
              >
                <Lightbulb className="h-4 w-4" />
              </Button>
            </div>
          </div>
          <div className="p-6 bg-[#0A0F1C] rounded-lg text-white">
            <p className="text-lg">{question}</p>
            <div className="mt-4 text-sm text-gray-400">
              Time Limit: {timeLimit} seconds
            </div>
          </div>
          <AnimatePresence>
            {showAnswer && (
              <motion.div
                initial={{ opacity: 0, height: 0 }}
                animate={{ opacity: 1, height: "auto" }}
                exit={{ opacity: 0, height: 0 }}
                className="overflow-hidden"
              >
                <div className="p-6 bg-blue-50 rounded-lg border border-blue-100">
                  <h4 className="font-medium mb-3 text-blue-900">Expected Answer Points:</h4>
                  <p className="text-gray-800 leading-relaxed">{expectedAnswer}</p>
                </div>
              </motion.div>
            )}
          </AnimatePresence>
        </div>
      </div>
    </div>
  );
};
export default QuestionSection;
````

## File: app/dashboard/interview/[interviewId]/start/_components/RecordAnswerSection.jsx
````javascript
"use client";
import { Button } from "@/components/ui/button";
import Image from "next/image";
import React, { useContext, useEffect, useState, useRef } from "react";
import Webcam from "react-webcam";
import { Mic } from "lucide-react";
import { toast } from "sonner";
import { chatSession } from "@/utils/GeminiAiModel";
import { db } from "@/utils/db";
import { UserAnswer } from "@/utils/schema";
import { useUser } from "@clerk/nextjs";
import moment from "moment";
import { WebCamContext } from "@/app/dashboard/layout";
import { GoogleGenerativeAI } from "@google/generative-ai";
import RobotAvatar from "./RobotAvatar";
import WebcamWithFaceDetection from './WebcamWithFaceDetection';
const RecordAnswerSection = ({
  mockInterviewQuestion,
  activeQuestionIndex,
  interviewData,
}) => {
  const [userAnswer, setUserAnswer] = useState("");
  const { user } = useUser();
  const [loading, setLoading] = useState(false);
  const [isRecording, setIsRecording] = useState(false);
  const [shouldProcessAnswer, setShouldProcessAnswer] = useState(false);
  const { webCamEnabled, setWebCamEnabled } = useContext(WebCamContext);
  const [faceDetectionStatus, setFaceDetectionStatus] = useState({
    isValid: false,
    multipleFaces: false,
    noFace: true,
    faceOutOfFrame: false
  });
  const mediaRecorderRef = useRef(null);
  const chunksRef = useRef([]);
  const genAI = new GoogleGenerativeAI(process.env.NEXT_PUBLIC_GEMINI_API_KEY);
  useEffect(() => {
    let timeoutId;
    if (shouldProcessAnswer && userAnswer.length > 10 && !isRecording) {
      timeoutId = setTimeout(() => {
        updateUserAnswer();
        setShouldProcessAnswer(false);
      }, 500);
    }
    return () => {
      if (timeoutId) clearTimeout(timeoutId);
    };
  }, [shouldProcessAnswer, userAnswer, isRecording]);
  const startRecording = async () => {
    try {
      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
      mediaRecorderRef.current = new MediaRecorder(stream);
      chunksRef.current = [];
      mediaRecorderRef.current.ondataavailable = (event) => {
        if (event.data.size > 0) {
          chunksRef.current.push(event.data);
        }
      };
      mediaRecorderRef.current.onstop = async () => {
        const audioBlob = new Blob(chunksRef.current, { type: 'audio/webm' });
        await transcribeAudio(audioBlob);
      };
      mediaRecorderRef.current.start();
      setIsRecording(true);
      setShouldProcessAnswer(false);
    } catch (error) {
      console.error("Error starting recording:", error);
      toast("Error starting recording. Please check your microphone permissions.");
    }
  };
  const stopRecording = () => {
    if (mediaRecorderRef.current && isRecording) {
      mediaRecorderRef.current.stop();
      setIsRecording(false);
      setShouldProcessAnswer(true);
    }
  };
  const transcribeAudio = async (audioBlob) => {
    try {
      setLoading(true);
      const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });
      const reader = new FileReader();
      reader.readAsDataURL(audioBlob);
      reader.onloadend = async () => {
        const base64Audio = reader.result.split(',')[1];
        const result = await model.generateContent([
          "Transcribe the following audio:",
          { inlineData: { data: base64Audio, mimeType: "audio/webm" } },
        ]);
        const transcription = result.response.text();
        setUserAnswer((prevAnswer) => prevAnswer + " " + transcription);
        setLoading(false);
      };
    } catch (error) {
      console.error("Error transcribing audio:", error);
      toast("Error transcribing audio. Please try again.");
      setLoading(false);
    }
  };
  const updateUserAnswer = async () => {
    if (loading) return;
    try {
      setLoading(true);
      if (!mockInterviewQuestion || !mockInterviewQuestion[activeQuestionIndex]) {
        throw new Error("No active question found");
      }
      const currentQuestion = mockInterviewQuestion[activeQuestionIndex];
      if (!currentQuestion.Question || !currentQuestion.Answer) {
        throw new Error("Question or answer is missing");
      }
      if (!userAnswer || userAnswer.trim().length === 0) {
        throw new Error("User answer is required");
      }
      if (!interviewData?.mockId) {
        throw new Error("Interview ID is missing");
      }
      const feedbackPrompt = `Analyze this interview response and provide feedback:
Question: "${currentQuestion.Question}"
User's Answer: "${userAnswer.trim()}"
Expected Answer: "${currentQuestion.Answer}"
Rate the answer on a scale of 1-10 and provide constructive feedback.
Remember to respond with ONLY a JSON object in this exact format:
{
  "rating": <number 1-10>,
  "feedback": "<constructive feedback>"
}`;
      const result = await chatSession.sendMessage(feedbackPrompt);
      const response = result.response.text();
      // Clean and validate the response
      const cleanResponse = response
        .trim()
        .replace(/^```json\s*/, '')
        .replace(/\s*```$/, '')
        .replace(/^json\s*/, '')
        .trim();
      let jsonFeedbackResp;
      try {
        jsonFeedbackResp = JSON.parse(cleanResponse);
      } catch (e) {
        console.error("JSON Parse Error:", e);
        console.log("Raw response:", response);
        console.log("Cleaned response:", cleanResponse);
        throw new Error("Failed to parse AI response");
      }
      // Validate the feedback format
      if (typeof jsonFeedbackResp !== 'object') {
        throw new Error("Invalid response format: not an object");
      }
      if (!('rating' in jsonFeedbackResp) || !('feedback' in jsonFeedbackResp)) {
        throw new Error("Invalid response format: missing required fields");
      }
      const rating = Number(jsonFeedbackResp.rating);
      if (isNaN(rating) || rating < 1 || rating > 10) {
        throw new Error("Invalid rating: must be a number between 1 and 10");
      }
      if (typeof jsonFeedbackResp.feedback !== 'string' || jsonFeedbackResp.feedback.trim().length === 0) {
        throw new Error("Invalid feedback: must be a non-empty string");
      }
      await db.insert(UserAnswer).values({
        mockIdRef: interviewData.mockId,
        question: currentQuestion.Question,
        correctAns: currentQuestion.Answer,
        userAns: userAnswer.trim(),
        feedback: jsonFeedbackResp.feedback.trim(),
        rating: rating,
        userEmail: user?.primaryEmailAddress?.emailAddress,
        createdAt: moment().format("YYYY-MM-DD"),
      });
      toast.success("Answer recorded successfully!");
      setUserAnswer("");
      setShouldProcessAnswer(false);
    } catch (error) {
      console.error("Error in updateUserAnswer:", error);
      toast.error(error.message || "Failed to process answer");
    } finally {
      setLoading(false);
    }
  };
  return (
    <div className="flex flex-col items-center justify-center gap-6 w-full max-w-3xl mx-auto p-4">
      <div className="w-full bg-[#0A0F1C] rounded-lg p-6">
        <RobotAvatar
          question={mockInterviewQuestion?.[activeQuestionIndex]?.Question}
          isRecording={isRecording}
          onStartRecording={startRecording}
        />
      </div>
      <div className="w-full bg-black rounded-lg p-4">
        {webCamEnabled ? (
          <WebcamWithFaceDetection
            onFaceDetectionStatus={setFaceDetectionStatus}
          />
        ) : (
          <div className="flex justify-center items-center h-[300px] bg-gray-900 rounded-lg">
            <Image src={"/camera.jpg"} width={200} height={200} alt="Camera placeholder" className="rounded-lg" />
          </div>
        )}
      </div>
      <div className="flex gap-4 justify-center w-full">
        <Button 
          onClick={() => setWebCamEnabled((prev) => !prev)}
          className="min-w-[150px]"
        >
          {webCamEnabled ? "Close WebCam" : "Enable WebCam"}
        </Button>
        <Button
          variant="outline"
          onClick={isRecording ? stopRecording : startRecording}
          disabled={loading || (webCamEnabled && !faceDetectionStatus.isValid)}
          className="min-w-[150px]"
        >
          {isRecording ? (
            <span className="text-red-400 flex items-center gap-2">
              <Mic className="w-4 h-4" /> Stop Recording...
            </span>
          ) : (
            <span className="flex items-center gap-2">
              <Mic className="w-4 h-4" /> Record Answer
            </span>
          )}
        </Button>
      </div>
    </div>
  );
};
export default RecordAnswerSection;
````

## File: app/dashboard/interview/[interviewId]/start/_components/RobotAvatar.jsx
````javascript
"use client";
import React, { useEffect, useState, useRef } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
const RobotAvatar = ({ question, isRecording }) => {
  const [isSpeaking, setIsSpeaking] = useState(false);
  const synth = window.speechSynthesis;
  const utteranceRef = useRef(null);
  useEffect(() => {
    if (question) {
      utteranceRef.current = new SpeechSynthesisUtterance(question);
      utteranceRef.current.onend = () => {
        setIsSpeaking(false);
      };
      setIsSpeaking(true);
      synth.speak(utteranceRef.current);
    }
    return () => {
      if (utteranceRef.current) {
        synth.cancel();
      }
    };
  }, [question]);
  return (
    <div className="relative w-full aspect-video bg-[#0A0F1C] rounded-lg overflow-hidden flex flex-col items-center justify-center p-8">
      <motion.div
        className="w-32 h-32 relative"
        animate={isSpeaking ? {
          scale: [1, 1.05, 1],
          transition: { repeat: Infinity, duration: 2 }
        } : {}}
      >
        {/* Robot Head */}
        <motion.div
          className="absolute inset-0 border-4 border-blue-500 rounded-full"
          animate={isSpeaking ? {
            borderColor: ['#3B82F6', '#60A5FA', '#3B82F6'],
            transition: { repeat: Infinity, duration: 1.5 }
          } : {}}
        />
        {/* Robot Eyes */}
        <motion.div 
          className="absolute top-1/3 left-1/4 w-3 h-3 bg-blue-500 rounded-full"
          animate={isSpeaking ? {
            scale: [1, 1.2, 1],
            transition: { repeat: Infinity, duration: 1 }
          } : {}}
        />
        <motion.div 
          className="absolute top-1/3 right-1/4 w-3 h-3 bg-blue-500 rounded-full"
          animate={isSpeaking ? {
            scale: [1, 1.2, 1],
            transition: { repeat: Infinity, duration: 1 }
          } : {}}
        />
        {/* Robot Mouth */}
        <motion.div 
          className="absolute bottom-1/3 left-1/2 -translate-x-1/2 w-12 h-1 bg-blue-500 rounded"
          animate={isSpeaking ? {
            scaleX: [1, 1.2, 1],
            transition: { repeat: Infinity, duration: 0.5 }
          } : {}}
        />
      </motion.div>
      {/* Question Text */}
      <motion.div 
        className="mt-8 text-center text-white max-w-lg"
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.5 }}
      >
        <p className="text-lg">{question}</p>
      </motion.div>
    </div>
  );
};
export default RobotAvatar;
````

## File: app/dashboard/interview/[interviewId]/start/_components/WebcamWithFaceDetection.jsx
````javascript
"use client";
import React, { useEffect, useRef, useState } from 'react';
import Webcam from 'react-webcam';
import { AlertCircle, CheckCircle2, Loader2 } from 'lucide-react';
import { toast } from 'sonner';
import * as faceapi from 'face-api.js';
const WebcamWithFaceDetection = ({ onFaceDetectionStatus }) => {
  const webcamRef = useRef(null);
  const canvasRef = useRef(null);
  const [isModelLoading, setIsModelLoading] = useState(true);
  const [multipleFaces, setMultipleFaces] = useState(false);
  const [noFace, setNoFace] = useState(true);
  const [faceOutOfFrame, setFaceOutOfFrame] = useState(false);
  const [debugInfo, setDebugInfo] = useState('');
  const detectorRef = useRef(null);
  // Load face-api.js models
  useEffect(() => {
    let isMounted = true;
    const loadModels = async () => {
      try {
        setDebugInfo('Loading face detection models...');
        // Configure face-api.js
        faceapi.env.monkeyPatch({
          Canvas: HTMLCanvasElement,
          Image: HTMLImageElement,
          ImageData: ImageData,
          Video: HTMLVideoElement,
          createCanvasElement: () => document.createElement('canvas'),
          createImageElement: () => document.createElement('img')
        });
        // Load models sequentially
        await faceapi.nets.tinyFaceDetector.load('/models');
        if (!isMounted) return;
        setDebugInfo('Loaded face detector...');
        await faceapi.nets.faceLandmark68TinyNet.load('/models');
        if (!isMounted) return;
        setDebugInfo('Loaded landmarks detector...');
        // Initialize detector with optimized settings
        detectorRef.current = new faceapi.TinyFaceDetectorOptions({
          inputSize: 224,
          scoreThreshold: 0.3
        });
        setDebugInfo('All models loaded successfully');
        setIsModelLoading(false);
      } catch (error) {
        console.error('Error loading models:', error);
        setDebugInfo(`Error: ${error.message}`);
        toast.error('Failed to load face detection models. Please refresh the page.');
      }
    };
    loadModels();
    return () => { isMounted = false; };
  }, []);
  // Run face detection
  useEffect(() => {
    if (!detectorRef.current || !webcamRef.current?.video || isModelLoading) return;
    let animationFrame;
    let isProcessing = false;
    const detectFaces = async () => {
      if (isProcessing || webcamRef.current?.video?.readyState !== 4) return;
      try {
        isProcessing = true;
        const video = webcamRef.current.video;
        const canvas = canvasRef.current;
        const displaySize = { width: video.videoWidth, height: video.videoHeight };
        // Match canvas size to video
        if (canvas.width !== displaySize.width || canvas.height !== displaySize.height) {
          faceapi.matchDimensions(canvas, displaySize);
        }
        // Detect faces with optimized settings
        const detections = await faceapi
          .detectAllFaces(video, detectorRef.current)
          .withFaceLandmarks(true);
        // Clear previous drawings
        const ctx = canvas.getContext('2d');
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        if (detections && detections.length > 0) {
          // Draw detections
          const resizedDetections = faceapi.resizeResults(detections, displaySize);
          faceapi.draw.drawDetections(canvas, resizedDetections);
          faceapi.draw.drawFaceLandmarks(canvas, resizedDetections);
          // Update status
          setNoFace(false);
          setMultipleFaces(detections.length > 1);
          // Check face position for single face
          if (detections.length === 1) {
            const face = detections[0];
            const { x, y, width, height } = face.detection.box;
            // Calculate if face is properly centered
            const isInFrame = 
              x > 0.1 * canvas.width && 
              (x + width) < 0.9 * canvas.width &&
              y > 0.1 * canvas.height && 
              (y + height) < 0.9 * canvas.height;
            setFaceOutOfFrame(!isInFrame);
          }
          setDebugInfo(`Found ${detections.length} face(s)`);
        } else {
          setMultipleFaces(false);
          setNoFace(true);
          setFaceOutOfFrame(false);
          setDebugInfo('No faces detected');
        }
        // Update parent component
        onFaceDetectionStatus?.({
          isValid: detections && detections.length === 1 && !faceOutOfFrame,
          multipleFaces: detections && detections.length > 1,
          noFace: !detections || detections.length === 0,
          faceOutOfFrame
        });
      } catch (error) {
        console.error('Detection error:', error);
        setDebugInfo(`Error: ${error.message}`);
      } finally {
        isProcessing = false;
      }
    };
    const runDetection = () => {
      detectFaces();
      animationFrame = requestAnimationFrame(runDetection);
    };
    runDetection();
    return () => {
      if (animationFrame) {
        cancelAnimationFrame(animationFrame);
      }
    };
  }, [isModelLoading]);
  return (
    <div className="relative w-full">
      <div className="relative">
        <Webcam
          ref={webcamRef}
          mirrored={true}
          videoConstraints={{
            width: 640,
            height: 480,
            facingMode: "user",
            frameRate: 30
          }}
          className="w-full rounded-lg"
          onUserMedia={() => setDebugInfo('Camera ready')}
          onUserMediaError={(err) => {
            setDebugInfo(`Camera error: ${err.message}`);
            toast.error('Failed to access camera');
          }}
        />
        <canvas
          ref={canvasRef}
          className="absolute top-0 left-0 w-full h-full"
          style={{ zIndex: 1 }}
        />
      </div>
      {/* Status Overlay */}
      <div className="absolute top-4 right-4 flex flex-col gap-2 z-10">
        {multipleFaces && (
          <div className="flex items-center gap-2 bg-red-500 text-white px-3 py-1 rounded-full text-sm shadow-lg">
            <AlertCircle className="w-4 h-4" />
            Multiple faces detected
          </div>
        )}
        {noFace && (
          <div className="flex items-center gap-2 bg-yellow-500 text-white px-3 py-1 rounded-full text-sm shadow-lg">
            <AlertCircle className="w-4 h-4" />
            No face detected
          </div>
        )}
        {faceOutOfFrame && (
          <div className="flex items-center gap-2 bg-yellow-500 text-white px-3 py-1 rounded-full text-sm shadow-lg">
            <AlertCircle className="w-4 h-4" />
            Center your face
          </div>
        )}
        {!multipleFaces && !noFace && !faceOutOfFrame && (
          <div className="flex items-center gap-2 bg-green-500 text-white px-3 py-1 rounded-full text-sm shadow-lg">
            <CheckCircle2 className="w-4 h-4" />
            Face detected
          </div>
        )}
      </div>
      {/* Loading State */}
      {isModelLoading && (
        <div className="absolute inset-0 flex items-center justify-center bg-black/50 rounded-lg z-20">
          <div className="flex flex-col items-center gap-2 text-white">
            <Loader2 className="w-8 h-8 animate-spin" />
            <div>Loading face detection...</div>
            <div className="text-sm opacity-75">{debugInfo}</div>
          </div>
        </div>
      )}
      {/* Debug Info */}
      <div className="absolute bottom-4 left-4 text-xs text-white bg-black/50 px-2 py-1 rounded">
        {debugInfo}
      </div>
    </div>
  );
};
export default WebcamWithFaceDetection;
````

## File: app/dashboard/interview/[interviewId]/start/page.jsx
````javascript
'use client';
import React, { useEffect, useState } from "react";
import { useParams, useRouter } from "next/navigation";
import Link from "next/link";
import { Button } from "@/components/ui/button";
import InterviewClient from "./_components/InterviewClient";
import { Loader2 } from "lucide-react";
import { db } from "@/utils/db";
import { MockInterview } from "@/utils/schema";
import { eq } from "drizzle-orm";
export default function StartInterview() {
  const params = useParams();
  const router = useRouter();
  const [interview, setInterview] = useState(null);
  const [error, setError] = useState(null);
  const [loading, setLoading] = useState(true);
  useEffect(() => {
    async function loadInterview() {
      if (!params?.interviewId) {
        setError("No interview ID provided");
        setLoading(false);
        return;
      }
      try {
        const result = await db
          .select()
          .from(MockInterview)
          .where(eq(MockInterview.mockId, params.interviewId));
        if (!result || result.length === 0) {
          throw new Error("Interview not found");
        }
        const interviewData = result[0];
        let questions = [];
        try {
          const parsedJson = JSON.parse(interviewData.jsonMockResp);
          if (parsedJson.questions && Array.isArray(parsedJson.questions)) {
            questions = parsedJson.questions;
          }
        } catch (e) {
          console.error("Error parsing questions:", e);
        }
        setInterview({
          ...interviewData,
          questions: questions
        });
      } catch (err) {
        console.error('Error loading interview:', err);
        setError(err.message || 'Failed to load interview');
      } finally {
        setLoading(false);
      }
    }
    loadInterview();
  }, [params?.interviewId]);
  if (loading) {
    return (
      <div className="flex flex-col items-center justify-center min-h-[50vh]">
        <Loader2 className="h-8 w-8 animate-spin" />
        <p className="mt-4">Loading interview...</p>
      </div>
    );
  }
  if (error) {
    return (
      <div className="flex flex-col items-center justify-center min-h-[50vh] p-8">
        <div className="text-destructive mb-4">⚠️ {error}</div>
        <Link href="/dashboard">
          <Button variant="outline">Return to Dashboard</Button>
        </Link>
      </div>
    );
  }
  return <InterviewClient interview={interview} />;
}
````

## File: app/dashboard/interview/[interviewId]/page.jsx
````javascript
"use client";
import { db } from "@/utils/db";
import { MockInterview } from "@/utils/schema";
import { eq } from "drizzle-orm";
import { Lightbulb, WebcamIcon } from "lucide-react";
import React, { useEffect, useState } from "react";
import { Button } from "@/components/ui/button";
import Webcam from "react-webcam";
import Link from "next/link";
import { useContext } from 'react';
import { WebCamContext } from "../../layout";
import { useParams } from "next/navigation";
const Interview = () => {
  const params = useParams();
  const { webCamEnabled, setWebCamEnabled } = useContext(WebCamContext);
  const [interviewData, setInterviewData] = useState();
  const [loading, setLoading] = useState(true);
  useEffect(() => {
    if (params?.interviewId) {
      GetInterviewDetails();
    }
  }, [params?.interviewId]);
  const GetInterviewDetails = async () => {
    try {
      const result = await db
        .select()
        .from(MockInterview)
        .where(eq(MockInterview.mockId, params.interviewId));
      setInterviewData(result[0]);
    } catch (error) {
      console.error("Error fetching interview:", error);
    } finally {
      setLoading(false);
    }
  };
  if (loading) {
    return <div>Loading...</div>;
  }
  return (
    <div className="my-10">
      <h2 className="font-bold text-2xl text-center">Let's Get Started</h2>
      <div className="grid grid-cols-1 md:grid-cols-2 gap-10 ">
        <div className="flex flex-col my-5 gap-5">
          <div className="flex flex-col p-5 rounded-lg border gap-5">
            <h2 className="text-lg">
              <strong>Job Role/Job Position: </strong>
              {interviewData?.jobPosition}
            </h2>
            <h2 className="text-lg">
              <strong>Job Description/Job Stack: </strong>
              {interviewData?.jobDesc}
            </h2>
            <h2 className="text-lg">
              <strong>Years of Experience: </strong>
              {interviewData?.jobExperience}
            </h2>
          </div>
          <div className="p-5 border rounded-lg border-yellow-300 bg-yellow-100">
            <h2 className="flex gap-2 items-center text-yellow-700 mb-2">
              <Lightbulb />
              <strong>Information</strong>
            </h2>
            <h2 className="mt-3 text-yellow-500">
              {process.env.NEXT_PUBLIC_INFORMATION}
            </h2>
          </div>
        </div>
        <div>
          {webCamEnabled ? (
            <div className="flex items-center justify-center p-10">
              <Webcam
                onUserMedia={() => setWebCamEnabled(true)}
                onUserMediaError={() => setWebCamEnabled(false)}
                height={300}
                width={300}
                mirrored={true}
              />
            </div>
          ) : (
            <div>
              <WebcamIcon className="h-72 w-full my-6 p-20 bg-secondary rounded-lg border" />
            </div>
          )}
          <div>
            <Button
              className="w-full"
              onClick={() => setWebCamEnabled((prev) => !prev)}
            >
              {webCamEnabled ? "Close WebCam" : "Enable WebCam"}
            </Button>
          </div>
        </div>
      </div>
      <div className="flex justify-center my-4 md:my-0 md:justify-end md:items-end">
        <Link href={`/dashboard/interview/${params.interviewId}/start`}>
          <Button>Start Interview</Button>
        </Link>
      </div>
    </div>
  );
};
export default Interview;
````

## File: app/dashboard/profile/page.jsx
````javascript
"use client";
import { useState, useEffect } from 'react';
import { useUser } from "@clerk/nextjs";
import Header from "../_components/Header";
import { db } from "@/utils/db";
import { MockInterview, UserAnswer } from "@/utils/schema";
import { eq } from "drizzle-orm";
import { 
  User, Mail, Calendar, Award, Clock, 
  Briefcase, Star, BarChart2, Settings 
} from "lucide-react";
import Image from "next/image";
export default function ProfilePage() {
  const { user } = useUser();
  const [stats, setStats] = useState({
    totalInterviews: 0,
    avgScore: 0,
    totalTime: 0,
    loading: true,
    error: null
  });
  useEffect(() => {
    const fetchUserStats = async () => {
      if (!user?.emailAddresses?.[0]?.emailAddress) return;
      try {
        // Fetch interviews
        const interviews = await db
          .select()
          .from(MockInterview)
          .where(eq(MockInterview.createdBy, user.emailAddresses[0].emailAddress));
        // Fetch answers
        const answers = await db
          .select()
          .from(UserAnswer)
          .where(eq(UserAnswer.userEmail, user.emailAddresses[0].emailAddress));
        // Calculate stats
        const totalInterviews = interviews.length;
        // Calculate average score
        const scores = answers
          .map(answer => parseInt(answer.rating || '0', 10))
          .filter(score => !isNaN(score));
        const avgScore = scores.length 
          ? scores.reduce((a, b) => a + b, 0) / scores.length 
          : 0;
        // Estimate total time (assuming 15 minutes per interview)
        const totalTime = totalInterviews * 15;
        setStats({
          totalInterviews,
          avgScore: Math.round(avgScore),
          totalTime,
          loading: false,
          error: null
        });
      } catch (error) {
        console.error('Error fetching user stats:', error);
        setStats(prev => ({
          ...prev,
          loading: false,
          error: 'Failed to load user statistics'
        }));
      }
    };
    fetchUserStats();
  }, [user]);
  const StatCard = ({ icon: Icon, title, value }) => (
    <div className="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
      <div className="flex items-center space-x-3">
        <div className="bg-primary/10 p-3 rounded-lg">
          <Icon className="text-primary" size={24} />
        </div>
        <div>
          <p className="text-gray-500 text-sm">{title}</p>
          <p className="text-xl font-semibold mt-1">{value}</p>
        </div>
      </div>
    </div>
  );
  if (!user) {
    return (
      <div className="min-h-screen bg-gray-50/50">
        <Header />
        <main className="pt-24 pb-10 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
          <div className="text-center">
            <p className="text-gray-500">Please sign in to view your profile</p>
          </div>
        </main>
      </div>
    );
  }
  return (
    <div className="min-h-screen bg-gray-50/50">
      <Header />
      <main className="pt-24 pb-10 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
        {/* Profile Header */}
        <div className="bg-white rounded-xl shadow-sm border border-gray-100 p-8 mb-8">
          <div className="flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-8">
            <div className="relative w-32 h-32">
              {user.imageUrl ? (
                <Image
                  src={user.imageUrl}
                  alt="Profile"
                  fill
                  className="rounded-full object-cover"
                  priority
                />
              ) : (
                <div className="w-full h-full rounded-full bg-primary/10 flex items-center justify-center">
                  <User size={48} className="text-primary" />
                </div>
              )}
            </div>
            <div className="flex-1 text-center md:text-left">
              <h1 className="text-3xl font-bold">{user.fullName}</h1>
              <p className="text-gray-500 mt-1">{user.emailAddresses[0].emailAddress}</p>
              <div className="mt-4 flex flex-wrap gap-3 justify-center md:justify-start">
                <span className="bg-primary/10 text-primary px-3 py-1 rounded-full text-sm">
                  Professional
                </span>
                {stats.totalInterviews >= 10 && (
                  <span className="bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm">
                    Experienced
                  </span>
                )}
                {stats.avgScore >= 80 && (
                  <span className="bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm">
                    Top Performer
                  </span>
                )}
              </div>
            </div>
          </div>
        </div>
        {/* Stats Grid */}
        {stats.loading ? (
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            {[...Array(4)].map((_, i) => (
              <div key={i} className="bg-white rounded-xl p-6 shadow-sm animate-pulse">
                <div className="flex items-center space-x-3">
                  <div className="bg-gray-200 p-3 rounded-lg h-12 w-12"></div>
                  <div className="space-y-2">
                    <div className="h-4 w-24 bg-gray-200 rounded"></div>
                    <div className="h-6 w-16 bg-gray-300 rounded"></div>
                  </div>
                </div>
              </div>
            ))}
          </div>
        ) : (
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <StatCard
              icon={Briefcase}
              title="Total Interviews"
              value={stats.totalInterviews}
            />
            <StatCard
              icon={Star}
              title="Average Score"
              value={`${stats.avgScore}%`}
            />
            <StatCard
              icon={Clock}
              title="Total Time"
              value={`${stats.totalTime} mins`}
            />
            <StatCard
              icon={Award}
              title="Level"
              value={stats.totalInterviews >= 10 ? "Advanced" : "Beginner"}
            />
          </div>
        )}
        {/* Account Details */}
        <div className="mt-8 bg-white rounded-xl shadow-sm border border-gray-100 p-8">
          <h2 className="text-xl font-semibold mb-6">Account Details</h2>
          <div className="space-y-4">
            <div className="flex items-center space-x-3">
              <User className="text-gray-400" size={20} />
              <span className="text-gray-600">{user.fullName}</span>
            </div>
            <div className="flex items-center space-x-3">
              <Mail className="text-gray-400" size={20} />
              <span className="text-gray-600">{user.emailAddresses[0].emailAddress}</span>
            </div>
            <div className="flex items-center space-x-3">
              <Calendar className="text-gray-400" size={20} />
              <span className="text-gray-600">
                Joined {new Date(user.createdAt).toLocaleDateString()}
              </span>
            </div>
          </div>
        </div>
      </main>
    </div>
  );
}
````

## File: app/dashboard/settings/page.jsx
````javascript
"use client";
import { useState, useEffect } from 'react';
import { useUser } from "@clerk/nextjs";
import Header from "../_components/Header";
import { Bell, Moon, Sun, Volume2, MessageSquare, Clock, Shield } from "lucide-react";
import { Switch } from "@/components/ui/switch";
import { Label } from "@/components/ui/label";
import { Slider } from "@/components/ui/slider";
import { Button } from "@/components/ui/button";
import { toast } from "sonner";
export default function SettingsPage() {
  const { user } = useUser();
  const [settings, setSettings] = useState(null);
  const [loading, setLoading] = useState(false);
  const [saving, setSaving] = useState(false);
  useEffect(() => {
    const fetchSettings = async () => {
      if (!user) return;
      try {
        setLoading(true);
        const response = await fetch('/api/settings', {
          headers: {
            'Cache-Control': 'no-cache'
          }
        });
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        const data = await response.json();
        if (data.error) {
          throw new Error(data.error);
        }
        setSettings(data);
        // Apply initial dark mode setting
        if (data.darkMode) {
          document.documentElement.classList.add('dark');
        }
      } catch (error) {
        console.error('Error fetching settings:', error);
        toast.error("Failed to load settings. Please try refreshing the page.");
      } finally {
        setLoading(false);
      }
    };
    fetchSettings();
  }, [user]);
  const handleSettingChange = async (key, value) => {
    if (!settings || !user) return;
    // Optimistically update UI
    setSettings(prev => ({
      ...prev,
      [key]: value
    }));
    try {
      const response = await fetch('/api/settings', {
        method: 'PUT',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ [key]: value }),
      });
      if (!response.ok) {
        throw new Error('Failed to update setting');
      }
      const updatedSettings = await response.json();
      if (updatedSettings.error) {
        throw new Error(updatedSettings.error);
      }
      // Apply dark mode changes
      if (key === 'darkMode') {
        document.documentElement.classList.toggle('dark', value);
      }
      // Handle sound changes
      if (key === 'sound') {
        if (!value) {
          // Mute all audio elements if sound is disabled
          document.querySelectorAll('audio').forEach(audio => {
            audio.muted = true;
          });
        } else {
          // Unmute audio elements if sound is enabled
          document.querySelectorAll('audio').forEach(audio => {
            audio.muted = false;
            audio.volume = settings.volume / 100;
          });
        }
      }
      // Handle volume changes
      if (key === 'volume') {
        document.querySelectorAll('audio').forEach(audio => {
          audio.volume = value / 100;
        });
      }
      // Handle notification changes
      if (key === 'notifications' && value) {
        if (Notification.permission === 'default') {
          const permission = await Notification.requestPermission();
          if (permission !== 'granted') {
            throw new Error('Notification permission denied');
          }
        }
      }
      toast.success(`${key.charAt(0).toUpperCase() + key.slice(1)} updated successfully`);
    } catch (error) {
      console.error('Error updating setting:', error);
      toast.error(`Failed to update ${key}. Please try again.`);
      // Revert the setting
      setSettings(prev => ({
        ...prev,
        [key]: !value
      }));
    }
  };
  const handleSave = async () => {
    setSaving(true);
    try {
      const response = await fetch('/api/settings', {
        method: 'PUT',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(settings),
      });
      if (!response.ok) throw new Error('Failed to save settings');
      toast.success("Settings saved successfully");
    } catch (error) {
      console.error('Error saving settings:', error);
      toast.error("Failed to save settings");
    } finally {
      setSaving(false);
    }
  };
  const SettingItem = ({ icon: Icon, title, description, children }) => (
    <div className="flex items-start space-x-4 p-4 rounded-lg hover:bg-gray-50 transition-colors">
      <div className="bg-primary/10 p-2 rounded-lg">
        <Icon className="text-primary h-5 w-5" />
      </div>
      <div className="flex-1">
        <div className="flex items-center justify-between">
          <div>
            <h3 className="font-medium">{title}</h3>
            <p className="text-sm text-gray-500">{description}</p>
          </div>
          {children}
        </div>
      </div>
    </div>
  );
  if (!user) {
    return (
      <div className="min-h-screen bg-gray-50/50">
        <Header />
        <main className="pt-24 pb-10 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
          <div className="text-center">
            <p className="text-gray-500">Please sign in to access settings</p>
          </div>
        </main>
      </div>
    );
  }
  if (loading || !settings) {
    return (
      <div className="min-h-screen bg-gray-50/50">
        <Header />
        <main className="pt-24 pb-10 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
          <div className="bg-white rounded-xl shadow-sm border border-gray-100 p-8">
            <div className="animate-pulse space-y-4">
              <div className="h-8 bg-gray-200 rounded w-1/4"></div>
              <div className="h-4 bg-gray-200 rounded w-1/2"></div>
              <div className="space-y-3">
                {[...Array(5)].map((_, i) => (
                  <div key={i} className="h-20 bg-gray-100 rounded"></div>
                ))}
              </div>
            </div>
          </div>
        </main>
      </div>
    );
  }
  return (
    <div className="min-h-screen bg-gray-50/50">
      <Header />
      <main className="pt-24 pb-10 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
        <div className="bg-white rounded-xl shadow-sm border border-gray-100">
          <div className="p-6 border-b border-gray-100">
            <h1 className="text-2xl font-semibold">Settings</h1>
            <p className="text-gray-500 mt-1">Manage your interview preferences and account settings</p>
          </div>
          <div className="divide-y divide-gray-100">
            <SettingItem
              icon={Moon}
              title="Dark Mode"
              description="Enable dark mode for better visibility in low light"
            >
              <Switch
                checked={settings.darkMode}
                onCheckedChange={(checked) => handleSettingChange('darkMode', checked)}
              />
            </SettingItem>
            <SettingItem
              icon={Bell}
              title="Notifications"
              description="Receive notifications about your interviews and feedback"
            >
              <Switch
                checked={settings.notifications}
                onCheckedChange={(checked) => handleSettingChange('notifications', checked)}
              />
            </SettingItem>
            <SettingItem
              icon={Volume2}
              title="Sound"
              description="Enable sound effects and voice responses"
            >
              <div className="space-y-4">
                <div className="flex items-center justify-end space-x-2">
                  <Label htmlFor="sound">Sound Effects</Label>
                  <Switch
                    id="sound"
                    checked={settings.sound}
                    onCheckedChange={(checked) => handleSettingChange('sound', checked)}
                  />
                </div>
                {settings.sound && (
                  <div className="w-[200px]">
                    <Slider
                      value={[settings.volume]}
                      onValueChange={([value]) => handleSettingChange('volume', value)}
                      max={100}
                      step={1}
                    />
                  </div>
                )}
              </div>
            </SettingItem>
            <SettingItem
              icon={MessageSquare}
              title="Voice Response"
              description="Enable AI voice responses during interviews"
            >
              <Switch
                checked={settings.voiceResponse}
                onCheckedChange={(checked) => handleSettingChange('voiceResponse', checked)}
              />
            </SettingItem>
            <SettingItem
              icon={Clock}
              title="Interview Duration"
              description="Set default duration for interview sessions"
            >
              <div className="w-[200px]">
                <Slider
                  value={[settings.interviewDuration]}
                  onValueChange={([value]) => handleSettingChange('interviewDuration', value)}
                  max={60}
                  step={5}
                />
                <div className="text-right mt-1 text-sm text-gray-500">
                  {settings.interviewDuration} minutes
                </div>
              </div>
            </SettingItem>
            <SettingItem
              icon={Shield}
              title="Privacy Mode"
              description="Enable enhanced privacy features for your interviews"
            >
              <Switch
                checked={settings.privacyMode}
                onCheckedChange={(checked) => handleSettingChange('privacyMode', checked)}
              />
            </SettingItem>
          </div>
          <div className="p-6 border-t border-gray-100">
            <div className="flex justify-end">
              <Button
                onClick={handleSave}
                disabled={saving}
              >
                {saving ? "Saving..." : "Save Changes"}
              </Button>
            </div>
          </div>
        </div>
      </main>
    </div>
  );
}
````

## File: app/dashboard/skills/_components/SkillsAssessment.jsx
````javascript
"use client";
import { useState } from "react";
import { Card } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Progress } from "@/components/ui/progress";
import Editor from "@monaco-editor/react";
import { toast } from "sonner";
import { Loader2, Brain, Code2, CheckCircle2, AlertCircle } from "lucide-react";
const FOCUS_AREAS = [
  'Code Quality',
  'Performance',
  'Security',
  'Best Practices',
  'Design Patterns',
  'Testing',
  'Documentation',
  'Error Handling'
];
const SKILL_LEVELS = [
  { id: 'beginner', label: 'Beginner' },
  { id: 'intermediate', label: 'Intermediate' },
  { id: 'advanced', label: 'Advanced' }
];
export const SkillsAssessment = () => {
  const [code, setCode] = useState('');
  const [selectedAreas, setSelectedAreas] = useState([]);
  const [skillLevel, setSkillLevel] = useState('intermediate');
  const [loading, setLoading] = useState(false);
  const [result, setResult] = useState(null);
  const [analysis, setAnalysis] = useState(null);
  const [question, setQuestion] = useState(null);
  const [isAssessing, setIsAssessing] = useState(false);
  const [isSubmitting, setIsSubmitting] = useState(false);
  const handleAreaToggle = (area) => {
    setSelectedAreas(prev => 
      prev.includes(area)
        ? prev.filter(a => a !== area)
        : [...prev, area]
    );
  };
  const handleAssessment = async () => {
    if (selectedAreas.length === 0) {
      toast.error("Please select at least one focus area");
      return;
    }
    try {
      setIsAssessing(true);
      setLoading(true);
      // Reset previous results
      setResult(null);
      setAnalysis(null);
      setCode('');
      const questionResponse = await fetch("/api/skills/question", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          focusAreas: selectedAreas,
          skillLevel,
        }),
      });
      if (!questionResponse.ok) {
        const errorData = await questionResponse.json();
        throw new Error(errorData.details || "Failed to generate question");
      }
      const questionData = await questionResponse.json();
      if (!questionData.question) {
        throw new Error("No question received from the API");
      }
      setQuestion(questionData.question);
      toast.success("Question generated! Please write your solution in the editor.");
    } catch (error) {
      console.error("Question generation error:", error);
      toast.error(error.message || "Failed to generate question");
    } finally {
      setIsAssessing(false);
      setLoading(false);
    }
  };
  const handleSubmitSolution = async () => {
    if (isAssessing) {
      toast.error("Please wait for question generation to complete");
      return;
    }
    if (!code.trim()) {
      toast.error("Please write your solution before submitting");
      return;
    }
    if (!question) {
      toast.error("Please generate a question first");
      return;
    }
    try {
      setIsSubmitting(true);
      setLoading(true);
      const response = await fetch("/api/skills/assess", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          code,
          question,
          focusAreas: selectedAreas,
          skillLevel,
        }),
      });
      if (!response.ok) {
        const errorData = await response.json();
        throw new Error(errorData.details || "Failed to assess code");
      }
      const data = await response.json();
      if (!data.result || !data.analysis) {
        throw new Error("Invalid response format from assessment");
      }
      // Save the assessment result
      await fetch("/api/skills/results", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          focusAreas: selectedAreas,
          skillLevel,
          overallScore: data.result.overallScore,
          categoryScores: data.result.categories,
          correctness: data.result.correctness || false
        }),
      });
      setResult(data.result);
      setAnalysis(data.analysis);
      toast.success("Assessment completed!");
    } catch (error) {
      console.error("Assessment error:", error);
      toast.error(error.message || "Failed to assess code");
    } finally {
      setIsSubmitting(false);
      setLoading(false);
    }
  };
  return (
    <div className="container mx-auto py-8">
      <div className="max-w-5xl mx-auto">
        <h1 className="text-3xl font-bold mb-8">Skills Assessment</h1>
        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div className="md:col-span-2">
            <Card className="p-6">
              <div className="mb-4">
                <h2 className="text-xl font-semibold mb-2">Coding Challenge</h2>
                {question ? (
                  <div className="mb-4 p-4 bg-muted rounded-lg">
                    <h3 className="font-medium mb-2">Question:</h3>
                    <p className="text-sm whitespace-pre-wrap">{question}</p>
                  </div>
                ) : (
                  <p className="text-sm text-muted-foreground mb-4">
                    Select focus areas and click "Start Assessment" to get a question
                  </p>
                )}
                <Editor
                  height="400px"
                  defaultLanguage="javascript"
                  value={code}
                  onChange={setCode}
                  theme="vs-dark"
                  options={{
                    minimap: { enabled: false },
                    fontSize: 14,
                    lineNumbers: "on",
                    wordWrap: "on",
                  }}
                />
              </div>
              {question && (
                <Button
                  className="w-full"
                  onClick={handleSubmitSolution}
                  disabled={loading || !code.trim() || isAssessing}
                >
                  {isSubmitting ? (
                    <>
                      <Loader2 className="mr-2 h-4 w-4 animate-spin" />
                      Evaluating Solution...
                    </>
                  ) : (
                    <>
                      <CheckCircle2 className="mr-2 h-4 w-4" />
                      Submit Solution
                    </>
                  )}
                </Button>
              )}
            </Card>
          </div>
          <div className="space-y-6">
            <Card className="p-6">
              <h2 className="text-xl font-semibold mb-4">Assessment Options</h2>
              <div className="mb-6">
                <h3 className="text-sm font-medium mb-2">Skill Level</h3>
                <div className="grid grid-cols-1 gap-2">
                  {SKILL_LEVELS.map((level) => (
                    <Button
                      key={level.id}
                      variant={skillLevel === level.id ? "default" : "outline"}
                      onClick={() => setSkillLevel(level.id)}
                      className="justify-start"
                    >
                      {level.label}
                    </Button>
                  ))}
                </div>
              </div>
              <div>
                <h3 className="text-sm font-medium mb-2">Focus Areas</h3>
                <div className="grid grid-cols-1 gap-2">
                  {FOCUS_AREAS.map((area) => (
                    <Button
                      key={area}
                      variant={selectedAreas.includes(area) ? "default" : "outline"}
                      onClick={() => handleAreaToggle(area)}
                      className="justify-start"
                    >
                      {area}
                    </Button>
                  ))}
                </div>
              </div>
            </Card>
            <div className="flex justify-between gap-4 mt-4">
              <Button
                className="flex-1"
                onClick={handleAssessment}
                disabled={loading || selectedAreas.length === 0 || isSubmitting}
              >
                {isAssessing ? (
                  <>
                    <Loader2 className="mr-2 h-4 w-4 animate-spin" />
                    Generating Question...
                  </>
                ) : (
                  <>
                    <Brain className="mr-2 h-4 w-4" />
                    Start Assessment
                  </>
                )}
              </Button>
              {question && (
                <Button
                  className="flex-1"
                  onClick={handleSubmitSolution}
                  disabled={loading || !code.trim() || isAssessing}
                >
                  {isSubmitting ? (
                    <>
                      <Loader2 className="mr-2 h-4 w-4 animate-spin" />
                      Evaluating Solution...
                    </>
                  ) : (
                    <>
                      <CheckCircle2 className="mr-2 h-4 w-4" />
                      Submit Solution
                    </>
                  )}
                </Button>
              )}
            </div>
          </div>
        </div>
        {result && (
          <div className="mt-8 space-y-6">
            <Card className="p-6">
              <h2 className="text-xl font-semibold mb-4">Assessment Results</h2>
              <div className="space-y-6">
                <div>
                  <div className="flex justify-between mb-2">
                    <span className="font-medium">Overall Score</span>
                    <span className="font-bold">{result.overallScore}%</span>
                  </div>
                  <Progress value={result.overallScore} className="h-2" />
                </div>
                {result.categories?.map((category) => (
                  <div key={category.name}>
                    <div className="flex justify-between mb-2">
                      <span className="font-medium">{category.name}</span>
                      <span>{category.score}%</span>
                    </div>
                    <Progress value={category.score} className="h-2" />
                  </div>
                ))}
              </div>
            </Card>
            {analysis && (
              <Card className="p-6">
                <h2 className="text-xl font-semibold mb-4">Detailed Analysis</h2>
                <div className="space-y-4">
                  {analysis.map((item, index) => (
                    <div key={index} className="flex items-start gap-2">
                      {item.type === 'success' ? (
                        <CheckCircle2 className="h-5 w-5 text-green-500 mt-0.5" />
                      ) : (
                        <AlertCircle className="h-5 w-5 text-yellow-500 mt-0.5" />
                      )}
                      <p className="text-sm">{item.message}</p>
                    </div>
                  ))}
                </div>
              </Card>
            )}
          </div>
        )}
      </div>
    </div>
  );
};
````

## File: app/dashboard/skills/page.jsx
````javascript
"use client";
import { SkillsAssessment } from "./_components/SkillsAssessment";
const SkillsPage = () => {
  return <SkillsAssessment />;
};
export default SkillsPage;
````

## File: app/dashboard/layout.jsx
````javascript
"use client";
import Header from "./_components/Header"
import { createContext, useState } from "react";
export const WebCamContext = createContext();
function DashboardLayout({children}) {
    const [webCamEnabled, setWebCamEnabled] = useState(false);
    return(
        <div>
            <Header />
        <div  className="mx-5 md:mx-20 lg:mx-36">
        <WebCamContext.Provider value={{ webCamEnabled, setWebCamEnabled }}>
            {children}
          </WebCamContext.Provider>
        </div>
        </div>
    )
}
export default DashboardLayout
````

## File: app/dashboard/page.jsx
````javascript
"use client";
import { motion } from "framer-motion";
import { Brain, Sparkles, Bot, ArrowRight, Activity } from "lucide-react";
import Header from "./_components/Header";
import AddNewInterview from "./_components/AddNewInterview";
import InterviewList from "./_components/InterviewList";
import DashboardAnalytics from "./_components/DashboardAnalytics";
const fadeInUp = {
  initial: { y: 20, opacity: 0 },
  animate: { y: 0, opacity: 1 },
  transition: { duration: 0.5 }
};
function Dashboard() {
  return (
    <div className="min-h-screen bg-gradient-to-b from-gray-50 to-gray-100">
      <Header />
      <main className="pt-24 pb-10 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
        {/* Hero Section */}
        <motion.div 
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5 }}
          className="mb-12 relative"
        >
          <div className="absolute inset-0 bg-gradient-to-r from-primary/5 to-purple-600/5 rounded-3xl" />
          <div className="relative p-8">
            <div className="flex items-center gap-3 mb-4">
              <Brain className="h-8 w-8 text-primary" />
              <h1 className="text-4xl font-bold bg-gradient-to-r from-primary to-purple-600 bg-clip-text text-transparent">
                Welcome to AI-Cruit
              </h1>
            </div>
            <p className="text-gray-600 text-lg max-w-2xl">
              Enhance your interview skills with our AI-powered platform. Practice, learn, and improve with personalized feedback.
            </p>
            <div className="flex gap-4 mt-6">
              <motion.div 
                whileHover={{ scale: 1.02 }}
                className="flex items-center gap-2 bg-primary/10 text-primary px-4 py-2 rounded-full text-sm font-medium"
              >
                <Sparkles className="h-4 w-4" />
                AI-Powered Feedback
              </motion.div>
              <motion.div 
                whileHover={{ scale: 1.02 }}
                className="flex items-center gap-2 bg-purple-100 text-purple-600 px-4 py-2 rounded-full text-sm font-medium"
              >
                <Bot className="h-4 w-4" />
                Smart Analytics
              </motion.div>
            </div>
          </div>
        </motion.div>
        {/* Stats Grid */}
        <motion.div 
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5, delay: 0.2 }}
          className="mb-12"
        >
          <DashboardAnalytics />
        </motion.div>
        {/* Main Content */}
        <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
          {/* New Interview Card */}
          <motion.div 
            initial={{ opacity: 0, x: -20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ duration: 0.5, delay: 0.4 }}
            className="lg:col-span-1"
          >
            <div className="bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow relative overflow-hidden group">
              <div className="absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity" />
              <div className="relative">
                <div className="flex items-center gap-3 mb-4">
                  <div className="p-2 bg-primary/10 rounded-lg">
                    <Activity className="h-5 w-5 text-primary" />
                  </div>
                  <h2 className="text-xl font-semibold">Start New Interview</h2>
                </div>
                <AddNewInterview />
              </div>
            </div>
          </motion.div>
          {/* Interview List */}
          <motion.div 
            initial={{ opacity: 0, x: 20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ duration: 0.5, delay: 0.6 }}
            className="lg:col-span-2"
          >
            <div className="bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow relative overflow-hidden group">
              <div className="absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity" />
              <div className="relative">
                <div className="flex items-center justify-between mb-6">
                  <div className="flex items-center gap-3">
                    <div className="p-2 bg-primary/10 rounded-lg">
                      <Bot className="h-5 w-5 text-primary" />
                    </div>
                    <h2 className="text-xl font-semibold">Recent Interviews</h2>
                  </div>
                  <motion.button 
                    whileHover={{ x: 5 }}
                    className="text-primary flex items-center gap-2 text-sm font-medium"
                  >
                    View All
                    <ArrowRight className="h-4 w-4" />
                  </motion.button>
                </div>
                <InterviewList />
              </div>
            </div>
          </motion.div>
        </div>
      </main>
    </div>
  );
}
export default Dashboard;
````

## File: app/sign-in/[[...sign-in]]/page.jsx
````javascript
import { SignIn } from "@clerk/nextjs";
export default function Page() {
  return(
    <section className="bg-white">
    <div className="lg:grid lg:min-h-screen lg:grid-cols-12">
      <section className="relative flex h-32 items-end bg-gray-900 lg:col-span-5 lg:h-full xl:col-span-6">
        <img
          alt=""
          src="https://images.unsplash.com/photo-1617195737496-bc30194e3a19?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80"
          className="absolute inset-0 h-full w-full object-cover opacity-80"
        />
        <div className="hidden lg:relative lg:block lg:p-12">
          <a className="block text-white" href="#">
            <span className="sr-only">Home</span>
            <svg
              className="h-8 sm:h-10"
              viewBox="0 0 28 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0.41 10.3847C1.14777 7.4194 2.85643 4.7861 5.2639 2.90424C7.6714 1.02234 10.6393 0 13.695 0C16.7507 0 19.7186 1.02234 22.1261 2.90424C24.5336 4.7861 26.2422 7.4194 26.98 10.3847H25.78C23.7557 10.3549 21.7729 10.9599 20.11 12.1147C20.014 12.1842 19.9138 12.2477 19.81 12.3047H19.67C19.5662 12.2477 19.466 12.1842 19.37 12.1147C17.6924 10.9866 15.7166 10.3841 13.695 10.3841C11.6734 10.3841 9.6976 10.9866 8.02 12.1147C7.924 12.1842 7.8238 12.2477 7.72 12.3047H7.58C7.4762 12.2477 7.376 12.1842 7.28 12.1147C5.6171 10.9599 3.6343 10.3549 1.61 10.3847H0.41ZM23.62 16.6547C24.236 16.175 24.9995 15.924 25.78 15.9447H27.39V12.7347H25.78C24.4052 12.7181 23.0619 13.146 21.95 13.9547C21.3243 14.416 20.5674 14.6649 19.79 14.6649C19.0126 14.6649 18.2557 14.416 17.63 13.9547C16.4899 13.1611 15.1341 12.7356 13.745 12.7356C12.3559 12.7356 11.0001 13.1611 9.86 13.9547C9.2343 14.416 8.4774 14.6649 7.7 14.6649C6.9226 14.6649 6.1657 14.416 5.54 13.9547C4.4144 13.1356 3.0518 12.7072 1.66 12.7347H0V15.9447H1.61C2.39051 15.924 3.154 16.175 3.77 16.6547C4.908 17.4489 6.2623 17.8747 7.65 17.8747C9.0377 17.8747 10.392 17.4489 11.53 16.6547C12.1468 16.1765 12.9097 15.9257 13.69 15.9447C14.4708 15.9223 15.2348 16.1735 15.85 16.6547C16.9901 17.4484 18.3459 17.8738 19.735 17.8738C21.1241 17.8738 22.4799 17.4484 23.62 16.6547ZM23.62 22.3947C24.236 21.915 24.9995 21.664 25.78 21.6847H27.39V18.4747H25.78C24.4052 18.4581 23.0619 18.886 21.95 19.6947C21.3243 20.156 20.5674 20.4049 19.79 20.4049C19.0126 20.4049 18.2557 20.156 17.63 19.6947C16.4899 18.9011 15.1341 18.4757 13.745 18.4757C12.3559 18.4757 11.0001 18.9011 9.86 19.6947C9.2343 20.156 8.4774 20.4049 7.7 20.4049C6.9226 20.4049 6.1657 20.156 5.54 19.6947C4.4144 18.8757 3.0518 18.4472 1.66 18.4747H0V21.6847H1.61C2.39051 21.664 3.154 21.915 3.77 22.3947C4.908 23.1889 6.2623 23.6147 7.65 23.6147C9.0377 23.6147 10.392 23.1889 11.53 22.3947C12.1468 21.9165 12.9097 21.6657 13.69 21.6847C14.4708 21.6623 15.2348 21.9135 15.85 22.3947C16.9901 23.1884 18.3459 23.6138 19.735 23.6138C21.1241 23.6138 22.4799 23.1884 23.62 22.3947Z"
                fill="currentColor"
              />
            </svg>
          </a>
          <h2 className="mt-6 text-2xl font-bold text-white sm:text-3xl md:text-4xl">
            Welcome to AI-Cruit
          </h2>
          <p className="mt-4 leading-relaxed text-white/90">
          Revolutionizing Interviews with AI-Powered Insights.
          </p>
        </div>
      </section>
      <main
        className="flex items-center justify-center px-8 py-8 sm:px-12 lg:col-span-7 lg:px-16 lg:py-12 xl:col-span-6"
      >
        <div className="max-w-xl lg:max-w-3xl">
          <div className="relative -mt-16 block lg:hidden">
            <a
              className="inline-flex size-16 items-center justify-center rounded-full bg-white text-blue-600 sm:size-20"
              href="#"
            >
              <span className="sr-only">Home</span>
              <svg
                className="h-8 sm:h-10"
                viewBox="0 0 28 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M0.41 10.3847C1.14777 7.4194 2.85643 4.7861 5.2639 2.90424C7.6714 1.02234 10.6393 0 13.695 0C16.7507 0 19.7186 1.02234 22.1261 2.90424C24.5336 4.7861 26.2422 7.4194 26.98 10.3847H25.78C23.7557 10.3549 21.7729 10.9599 20.11 12.1147C20.014 12.1842 19.9138 12.2477 19.81 12.3047H19.67C19.5662 12.2477 19.466 12.1842 19.37 12.1147C17.6924 10.9866 15.7166 10.3841 13.695 10.3841C11.6734 10.3841 9.6976 10.9866 8.02 12.1147C7.924 12.1842 7.8238 12.2477 7.72 12.3047H7.58C7.4762 12.2477 7.376 12.1842 7.28 12.1147C5.6171 10.9599 3.6343 10.3549 1.61 10.3847H0.41ZM23.62 16.6547C24.236 16.175 24.9995 15.924 25.78 15.9447H27.39V12.7347H25.78C24.4052 12.7181 23.0619 13.146 21.95 13.9547C21.3243 14.416 20.5674 14.6649 19.79 14.6649C19.0126 14.6649 18.2557 14.416 17.63 13.9547C16.4899 13.1611 15.1341 12.7356 13.745 12.7356C12.3559 12.7356 11.0001 13.1611 9.86 13.9547C9.2343 14.416 8.4774 14.6649 7.7 14.6649C6.9226 14.6649 6.1657 14.416 5.54 13.9547C4.4144 13.1356 3.0518 12.7072 1.66 12.7347H0V15.9447H1.61C2.39051 15.924 3.154 16.175 3.77 16.6547C4.908 17.4489 6.2623 17.8747 7.65 17.8747C9.0377 17.8747 10.392 17.4489 11.53 16.6547C12.1468 16.1765 12.9097 15.9257 13.69 15.9447C14.4708 15.9223 15.2348 16.1735 15.85 16.6547C16.9901 17.4484 18.3459 17.8738 19.735 17.8738C21.1241 17.8738 22.4799 17.4484 23.62 16.6547ZM23.62 22.3947C24.236 21.915 24.9995 21.664 25.78 21.6847H27.39V18.4747H25.78C24.4052 18.4581 23.0619 18.886 21.95 19.6947C21.3243 20.156 20.5674 20.4049 19.79 20.4049C19.0126 20.4049 18.2557 20.156 17.63 19.6947C16.4899 18.9011 15.1341 18.4757 13.745 18.4757C12.3559 18.4757 11.0001 18.9011 9.86 19.6947C9.2343 20.156 8.4774 20.4049 7.7 20.4049C6.9226 20.4049 6.1657 20.156 5.54 19.6947C4.4144 18.8757 3.0518 18.4472 1.66 18.4747H0V21.6847H1.61C2.39051 21.664 3.154 21.915 3.77 22.3947C4.908 23.1889 6.2623 23.6147 7.65 23.6147C9.0377 23.6147 10.392 23.1889 11.53 22.3947C12.1468 21.9165 12.9097 21.6657 13.69 21.6847C14.4708 21.6623 15.2348 21.9135 15.85 22.3947C16.9901 23.1884 18.3459 23.6138 19.735 23.6138C21.1241 23.6138 22.4799 23.1884 23.62 22.3947Z"
                  fill="currentColor"
                />
              </svg>
            </a>
            <h1 className="mt-2 text-2xl font-bold text-gray-900 sm:text-3xl md:text-4xl">
              Welcome to AI-Cruit
            </h1>
            <p className="mt-4 leading-relaxed text-gray-500">
            Revolutionizing Interviews with AI-Powered Insights.
            </p>
          </div>
         <SignIn/>
        </div>
      </main>
    </div>
  </section>
  )
}
````

## File: app/sign-up/[[...sign-up]]/page.jsx
````javascript
import { SignUp } from "@clerk/nextjs";
export default function Page() {
  return (
    <section className="bg-white">
  <div className="lg:grid lg:min-h-screen lg:grid-cols-12">
    <section className="relative flex h-32 items-end bg-gray-900 lg:col-span-5 lg:h-full xl:col-span-6">
      <img
        alt=""
        src="https://images.unsplash.com/photo-1617195737496-bc30194e3a19?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80"
        className="absolute inset-0 h-full w-full object-cover opacity-80"
      />
      <div className="hidden lg:relative lg:block lg:p-12">
        <a className="block text-white" href="#">
          <span className="sr-only">Home</span>
          <svg
            className="h-8 sm:h-10"
            viewBox="0 0 28 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M0.41 10.3847C1.14777 7.4194 2.85643 4.7861 5.2639 2.90424C7.6714 1.02234 10.6393 0 13.695 0C16.7507 0 19.7186 1.02234 22.1261 2.90424C24.5336 4.7861 26.2422 7.4194 26.98 10.3847H25.78C23.7557 10.3549 21.7729 10.9599 20.11 12.1147C20.014 12.1842 19.9138 12.2477 19.81 12.3047H19.67C19.5662 12.2477 19.466 12.1842 19.37 12.1147C17.6924 10.9866 15.7166 10.3841 13.695 10.3841C11.6734 10.3841 9.6976 10.9866 8.02 12.1147C7.924 12.1842 7.8238 12.2477 7.72 12.3047H7.58C7.4762 12.2477 7.376 12.1842 7.28 12.1147C5.6171 10.9599 3.6343 10.3549 1.61 10.3847H0.41ZM23.62 16.6547C24.236 16.175 24.9995 15.924 25.78 15.9447H27.39V12.7347H25.78C24.4052 12.7181 23.0619 13.146 21.95 13.9547C21.3243 14.416 20.5674 14.6649 19.79 14.6649C19.0126 14.6649 18.2557 14.416 17.63 13.9547C16.4899 13.1611 15.1341 12.7356 13.745 12.7356C12.3559 12.7356 11.0001 13.1611 9.86 13.9547C9.2343 14.416 8.4774 14.6649 7.7 14.6649C6.9226 14.6649 6.1657 14.416 5.54 13.9547C4.4144 13.1356 3.0518 12.7072 1.66 12.7347H0V15.9447H1.61C2.39051 15.924 3.154 16.175 3.77 16.6547C4.908 17.4489 6.2623 17.8747 7.65 17.8747C9.0377 17.8747 10.392 17.4489 11.53 16.6547C12.1468 16.1765 12.9097 15.9257 13.69 15.9447C14.4708 15.9223 15.2348 16.1735 15.85 16.6547C16.9901 17.4484 18.3459 17.8738 19.735 17.8738C21.1241 17.8738 22.4799 17.4484 23.62 16.6547ZM23.62 22.3947C24.236 21.915 24.9995 21.664 25.78 21.6847H27.39V18.4747H25.78C24.4052 18.4581 23.0619 18.886 21.95 19.6947C21.3243 20.156 20.5674 20.4049 19.79 20.4049C19.0126 20.4049 18.2557 20.156 17.63 19.6947C16.4899 18.9011 15.1341 18.4757 13.745 18.4757C12.3559 18.4757 11.0001 18.9011 9.86 19.6947C9.2343 20.156 8.4774 20.4049 7.7 20.4049C6.9226 20.4049 6.1657 20.156 5.54 19.6947C4.4144 18.8757 3.0518 18.4472 1.66 18.4747H0V21.6847H1.61C2.39051 21.664 3.154 21.915 3.77 22.3947C4.908 23.1889 6.2623 23.6147 7.65 23.6147C9.0377 23.6147 10.392 23.1889 11.53 22.3947C12.1468 21.9165 12.9097 21.6657 13.69 21.6847C14.4708 21.6623 15.2348 21.9135 15.85 22.3947C16.9901 23.1884 18.3459 23.6138 19.735 23.6138C21.1241 23.6138 22.4799 23.1884 23.62 22.3947Z"
              fill="currentColor"
            />
          </svg>
        </a>
        <h2 className="mt-6 text-2xl font-bold text-white sm:text-3xl md:text-4xl">
          Welcome to AI-Cruit
        </h2>
        <p className="mt-4 leading-relaxed text-white/90">
        Revolutionizing Interviews with AI-Powered Insights.
        </p>
      </div>
    </section>
    <main
      className="flex items-center justify-center px-8 py-8 sm:px-12 lg:col-span-7 lg:px-16 lg:py-12 xl:col-span-6"
    >
      <div className="max-w-xl lg:max-w-3xl">
        <div className="relative -mt-16 block lg:hidden">
          <a
            className="inline-flex size-16 items-center justify-center rounded-full bg-white text-blue-600 sm:size-20"
            href="#"
          >
            <span className="sr-only">Home</span>
            <svg
              className="h-8 sm:h-10"
              viewBox="0 0 28 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0.41 10.3847C1.14777 7.4194 2.85643 4.7861 5.2639 2.90424C7.6714 1.02234 10.6393 0 13.695 0C16.7507 0 19.7186 1.02234 22.1261 2.90424C24.5336 4.7861 26.2422 7.4194 26.98 10.3847H25.78C23.7557 10.3549 21.7729 10.9599 20.11 12.1147C20.014 12.1842 19.9138 12.2477 19.81 12.3047H19.67C19.5662 12.2477 19.466 12.1842 19.37 12.1147C17.6924 10.9866 15.7166 10.3841 13.695 10.3841C11.6734 10.3841 9.6976 10.9866 8.02 12.1147C7.924 12.1842 7.8238 12.2477 7.72 12.3047H7.58C7.4762 12.2477 7.376 12.1842 7.28 12.1147C5.6171 10.9599 3.6343 10.3549 1.61 10.3847H0.41ZM23.62 16.6547C24.236 16.175 24.9995 15.924 25.78 15.9447H27.39V12.7347H25.78C24.4052 12.7181 23.0619 13.146 21.95 13.9547C21.3243 14.416 20.5674 14.6649 19.79 14.6649C19.0126 14.6649 18.2557 14.416 17.63 13.9547C16.4899 13.1611 15.1341 12.7356 13.745 12.7356C12.3559 12.7356 11.0001 13.1611 9.86 13.9547C9.2343 14.416 8.4774 14.6649 7.7 14.6649C6.9226 14.6649 6.1657 14.416 5.54 13.9547C4.4144 13.1356 3.0518 12.7072 1.66 12.7347H0V15.9447H1.61C2.39051 15.924 3.154 16.175 3.77 16.6547C4.908 17.4489 6.2623 17.8747 7.65 17.8747C9.0377 17.8747 10.392 17.4489 11.53 16.6547C12.1468 16.1765 12.9097 15.9257 13.69 15.9447C14.4708 15.9223 15.2348 16.1735 15.85 16.6547C16.9901 17.4484 18.3459 17.8738 19.735 17.8738C21.1241 17.8738 22.4799 17.4484 23.62 16.6547ZM23.62 22.3947C24.236 21.915 24.9995 21.664 25.78 21.6847H27.39V18.4747H25.78C24.4052 18.4581 23.0619 18.886 21.95 19.6947C21.3243 20.156 20.5674 20.4049 19.79 20.4049C19.0126 20.4049 18.2557 20.156 17.63 19.6947C16.4899 18.9011 15.1341 18.4757 13.745 18.4757C12.3559 18.4757 11.0001 18.9011 9.86 19.6947C9.2343 20.156 8.4774 20.4049 7.7 20.4049C6.9226 20.4049 6.1657 20.156 5.54 19.6947C4.4144 18.8757 3.0518 18.4472 1.66 18.4747H0V21.6847H1.61C2.39051 21.664 3.154 21.915 3.77 22.3947C4.908 23.1889 6.2623 23.6147 7.65 23.6147C9.0377 23.6147 10.392 23.1889 11.53 22.3947C12.1468 21.9165 12.9097 21.6657 13.69 21.6847C14.4708 21.6623 15.2348 21.9135 15.85 22.3947C16.9901 23.1884 18.3459 23.6138 19.735 23.6138C21.1241 23.6138 22.4799 23.1884 23.62 22.3947Z"
                fill="currentColor"
              />
            </svg>
          </a>
          <h1 className="mt-2 text-2xl font-bold text-gray-900 sm:text-3xl md:text-4xl">
            Welcome to AI-Cruit
          </h1>
          <p className="mt-4 leading-relaxed text-gray-500">
          Revolutionizing Interviews with AI-Powered Insights.”
          </p>
        </div>
       <SignUp/>
      </div>
    </main>
  </div>
</section>
  )
}
````

## File: app/globals.css
````css
@tailwind base;
@tailwind components;
@tailwind utilities;
body {
  font-family: Arial, Helvetica, sans-serif;
}
@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
  }
  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}
@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}
````

## File: app/layout.js
````javascript
import localFont from "next/font/local";
import "./globals.css";
import { ClerkProvider } from "@clerk/nextjs";
const geistSans = localFont({
  src: "./fonts/GeistVF.woff",
  variable: "--font-geist-sans",
  weight: "100 900",
});
const geistMono = localFont({
  src: "./fonts/GeistMonoVF.woff",
  variable: "--font-geist-mono",
  weight: "100 900",
});
export const metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};
export default function RootLayout({ children }) {
  return (
    <ClerkProvider>
    <html lang="en">
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased`}
        >
        {children}
      </body>
    </html>
</ClerkProvider>
  );
}
````

## File: app/page.js
````javascript
"use client";
import { Button } from "@/components/ui/button";
import Image from "next/image";
import { useEffect, useRef } from "react";
import gsap from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";
import { useRouter } from "next/navigation";
export default function Home() {
  const mainRef = useRef(null);
  const textRef = useRef(null);
  const buttonRef = useRef(null);
  const imageRef = useRef(null);
  const router = useRouter();
  useEffect(() => {
    gsap.registerPlugin(ScrollTrigger);
    // Initial animation timeline
    const tl = gsap.timeline({ defaults: { ease: "power3.out" } });
    tl.fromTo(
      textRef.current,
      { y: 100, opacity: 0 },
      { y: 0, opacity: 1, duration: 1 }
    )
      .fromTo(
        buttonRef.current,
        { y: 50, opacity: 0 },
        { y: 0, opacity: 1, duration: 0.8 },
        "-=0.5"
      )
      .fromTo(
        imageRef.current,
        { scale: 0.8, opacity: 0 },
        { scale: 1, opacity: 1, duration: 1 },
        "-=0.8"
      );
    // Scroll animation
    gsap.to(mainRef.current, {
      scrollTrigger: {
        trigger: mainRef.current,
        start: "top top",
        end: "bottom top",
        scrub: 1,
      },
      backgroundPosition: "50% 100%",
    });
  }, []);
  return (
      <section className="bg-white">
      <div className="lg:grid lg:min-h-screen lg:grid-cols-12">
        <section className="relative flex h-32 items-end bg-gray-900 lg:col-span-5 lg:h-full xl:col-span-6">
          <img
            alt="Robot Assistant"
            src="https://images.unsplash.com/photo-1485827404703-89b55fcc595e"
            className="absolute inset-0 h-full w-full object-cover opacity-80"
          />
          <div className="hidden lg:relative lg:block lg:p-12">
            <a className="block text-white" href="#">
              <span className="sr-only">Home</span>
              <svg
                className="h-8 sm:h-10"
                viewBox="0 0 28 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M0.41 10.3847C1.14777 7.4194 2.85643 4.7861 5.2639 2.90424C7.6714 1.02234 10.6393 0 13.695 0C16.7507 0 19.7186 1.02234 22.1261 2.90424C24.5336 4.7861 26.2422 7.4194 26.98 10.3847H25.78C23.7557 10.3549 21.7729 10.9599 20.11 12.1147C20.014 12.1842 19.9138 12.2477 19.81 12.3047H19.67C19.5662 12.2477 19.466 12.1842 19.37 12.1147C17.6924 10.9866 15.7166 10.3841 13.695 10.3841C11.6734 10.3841 9.6976 10.9866 8.02 12.1147C7.924 12.1842 7.8238 12.2477 7.72 12.3047H7.58C7.4762 12.2477 7.376 12.1842 7.28 12.1147C5.6171 10.9599 3.6343 10.3549 1.61 10.3847H0.41ZM23.62 16.6547C24.236 16.175 24.9995 15.924 25.78 15.9447H27.39V12.7347H25.78C24.4052 12.7181 23.0619 13.146 21.95 13.9547C21.3243 14.416 20.5674 14.6649 19.79 14.6649C19.0126 14.6649 18.2557 14.416 17.63 13.9547C16.4899 13.1611 15.1341 12.7356 13.745 12.7356C12.3559 12.7356 11.0001 13.1611 9.86 13.9547C9.2343 14.416 8.4774 14.6649 7.7 14.6649C6.9226 14.6649 6.1657 14.416 5.54 13.9547C4.4144 13.1356 3.0518 12.7072 1.66 12.7347H0V15.9447H1.61C2.39051 15.924 3.154 16.175 3.77 16.6547C4.908 17.4489 6.2623 17.8747 7.65 17.8747C9.0377 17.8747 10.392 17.4489 11.53 16.6547C12.1468 16.1765 12.9097 15.9257 13.69 15.9447C14.4708 15.9223 15.2348 16.1735 15.85 16.6547C16.9901 17.4484 18.3459 17.8738 19.735 17.8738C21.1241 17.8738 22.4799 17.4484 23.62 16.6547ZM23.62 22.3947C24.236 21.915 24.9995 21.664 25.78 21.6847H27.39V18.4747H25.78C24.4052 18.4581 23.0619 18.886 21.95 19.6947C21.3243 20.156 20.5674 20.4049 19.79 20.4049C19.0126 20.4049 18.2557 20.156 17.63 19.6947C16.4899 18.9011 15.1341 18.4757 13.745 18.4757C12.3559 18.4757 11.0001 18.9011 9.86 19.6947C9.2343 20.156 8.4774 20.4049 7.7 20.4049C6.9226 20.4049 6.1657 20.156 5.54 19.6947C4.4144 18.8757 3.0518 18.4472 1.66 18.4747H0V21.6847H1.61C2.39051 21.664 3.154 21.915 3.77 22.3947C4.908 23.1889 6.2623 23.6147 7.65 23.6147C9.0377 23.6147 10.392 23.1889 11.53 22.3947C12.1468 21.9165 12.9097 21.6657 13.69 21.6847C14.4708 21.6623 15.2348 21.9135 15.85 22.3947C16.9901 23.1884 18.3459 23.6138 19.735 23.6138C21.1241 23.6138 22.4799 23.1884 23.62 22.3947Z"
                    fill="currentColor"
                  />
                </svg>
              </a>
            <h2 className="mt-6 text-2xl font-bold text-white sm:text-3xl md:text-4xl">
              Welcome to AI-Cruit
            </h2>
            <p className="mt-4 leading-relaxed text-white/90">
            Revolutionizing Interviews with AI-Powered Insights.
            </p>
          </div>
        </section>
        <main
          className="flex items-center justify-center px-8 py-8 sm:px-12 lg:col-span-7 lg:px-16 lg:py-12 xl:col-span-6"
        >
          <div className="max-w-xl lg:max-w-3xl">
            <div className="relative -mt-16 block lg:hidden">
              <a
                className="inline-flex size-16 items-center justify-center rounded-full bg-white text-blue-600 sm:size-20"
                href="#"
              >
                <span className="sr-only">Home</span>
                <svg
                  className="h-8 sm:h-10"
                  viewBox="0 0 28 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M0.41 10.3847C1.14777 7.4194 2.85643 4.7861 5.2639 2.90424C7.6714 1.02234 10.6393 0 13.695 0C16.7507 0 19.7186 1.02234 22.1261 2.90424C24.5336 4.7861 26.2422 7.4194 26.98 10.3847H25.78C23.7557 10.3549 21.7729 10.9599 20.11 12.1147C20.014 12.1842 19.9138 12.2477 19.81 12.3047H19.67C19.5662 12.2477 19.466 12.1842 19.37 12.1147C17.6924 10.9866 15.7166 10.3841 13.695 10.3841C11.6734 10.3841 9.6976 10.9866 8.02 12.1147C7.924 12.1842 7.8238 12.2477 7.72 12.3047H7.58C7.4762 12.2477 7.376 12.1842 7.28 12.1147C5.6171 10.9599 3.6343 10.3549 1.61 10.3847H0.41ZM23.62 16.6547C24.236 16.175 24.9995 15.924 25.78 15.9447H27.39V12.7347H25.78C24.4052 12.7181 23.0619 13.146 21.95 13.9547C21.3243 14.416 20.5674 14.6649 19.79 14.6649C19.0126 14.6649 18.2557 14.416 17.63 13.9547C16.4899 13.1611 15.1341 12.7356 13.745 12.7356C12.3559 12.7356 11.0001 13.1611 9.86 13.9547C9.2343 14.416 8.4774 14.6649 7.7 14.6649C6.9226 14.6649 6.1657 14.416 5.54 13.9547C4.4144 13.1356 3.0518 12.7072 1.66 12.7347H0V15.9447H1.61C2.39051 15.924 3.154 16.175 3.77 16.6547C4.908 17.4489 6.2623 17.8747 7.65 17.8747C9.0377 17.8747 10.392 17.4489 11.53 16.6547C12.1468 16.1765 12.9097 15.9257 13.69 15.9447C14.4708 15.9223 15.2348 16.1735 15.85 16.6547C16.9901 17.4484 18.3459 17.8738 19.735 17.8738C21.1241 17.8738 22.4799 17.4484 23.62 16.6547ZM23.62 22.3947C24.236 21.915 24.9995 21.664 25.78 21.6847H27.39V18.4747H25.78C24.4052 18.4581 23.0619 18.886 21.95 19.6947C21.3243 20.156 20.5674 20.4049 19.79 20.4049C19.0126 20.4049 18.2557 20.156 17.63 19.6947C16.4899 18.9011 15.1341 18.4757 13.745 18.4757C12.3559 18.4757 11.0001 18.9011 9.86 19.6947C9.2343 20.156 8.4774 20.4049 7.7 20.4049C6.9226 20.4049 6.1657 20.156 5.54 19.6947C4.4144 18.8757 3.0518 18.4472 1.66 18.4747H0V21.6847H1.61C2.39051 21.664 3.154 21.915 3.77 22.3947C4.908 23.1889 6.2623 23.6147 7.65 23.6147C9.0377 23.6147 10.392 23.1889 11.53 22.3947C12.1468 21.9165 12.9097 21.6657 13.69 21.6847C14.4708 21.6623 15.2348 21.9135 15.85 22.3947C16.9901 23.1884 18.3459 23.6138 19.735 23.6138C21.1241 23.6138 22.4799 23.1884 23.62 22.3947Z"
                    fill="currentColor"
                  />
                </svg>
              </a>
              <h1 className="mt-2 text-2xl font-bold text-gray-900 sm:text-3xl md:text-4xl">
                Welcome to AI-Cruit
              </h1>
              <p className="mt-4 leading-relaxed text-gray-500">
              Revolutionizing Interviews with AI-Powered Insights.”
              </p>
            </div>
      <div className="container mx-auto px-4 py-20">
        <div className="flex flex-col lg:flex-row items-center justify-between gap-12">
          <div className="flex-1 space-y-8">
            <h1
              ref={textRef}
              className="text-5xl lg:text-7xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-pink-600"
            >
              Welcome to the Future
            </h1>
            <p className="text-gray-300 text-lg max-w-xl">
              Experience the next generation of digital innovation with our cutting-edge solutions.
            </p>
            <div ref={buttonRef}>
              <Button onClick={()=> router.push("/dashboard")} className="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-8 py-6 text-lg rounded-full transition-all duration-300 transform hover:scale-105">
                Get Started
              </Button>
            </div>
          </div>
          </div>
        </div>
      </div>
    </main>
          </div>
    </section>
  );
}
````

## File: components/ui/button.jsx
````javascript
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva } from "class-variance-authority";
import { cn } from "@/lib/utils"
const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
  {
    variants: {
      variant: {
        default:
          "bg-primary text-primary-foreground shadow hover:bg-primary/90",
        destructive:
          "bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",
        outline:
          "border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",
        secondary:
          "bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-9 px-4 py-2",
        sm: "h-8 rounded-md px-3 text-xs",
        lg: "h-10 rounded-md px-8",
        icon: "h-9 w-9",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)
const Button = React.forwardRef(({ className, variant, size, asChild = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "button"
  return (
    (<Comp
      className={cn(buttonVariants({ variant, size, className }))}
      ref={ref}
      {...props} />)
  );
})
Button.displayName = "Button"
export { Button, buttonVariants }
````

## File: components/ui/card.jsx
````javascript
"use client";
import * as React from "react"
import { cn } from "@/lib/utils"
const Card = ({ children, className }) => {
  return (
    <div className={`bg-white rounded-lg shadow-md p-4 ${className}`}>  
      {children}
    </div>
  );
};
const CardHeader = React.forwardRef(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex flex-col space-y-1.5 p-6", className)}
    {...props} />
))
CardHeader.displayName = "CardHeader"
const CardTitle = React.forwardRef(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("font-semibold leading-none tracking-tight", className)}
    {...props} />
))
CardTitle.displayName = "CardTitle"
const CardDescription = React.forwardRef(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props} />
))
CardDescription.displayName = "CardDescription"
const CardContent = React.forwardRef(({ className, ...props }, ref) => (
  <div ref={ref} className={cn("p-6 pt-0", className)} {...props} />
))
CardContent.displayName = "CardContent"
const CardFooter = React.forwardRef(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex items-center p-6 pt-0", className)}
    {...props} />
))
CardFooter.displayName = "CardFooter"
export { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }
````

## File: components/ui/collapsible.jsx
````javascript
"use client"
import * as CollapsiblePrimitive from "@radix-ui/react-collapsible"
const Collapsible = CollapsiblePrimitive.Root
const CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger
const CollapsibleContent = CollapsiblePrimitive.CollapsibleContent
export { Collapsible, CollapsibleTrigger, CollapsibleContent }
````

## File: components/ui/dialog.jsx
````javascript
"use client"
import * as React from "react"
import * as DialogPrimitive from "@radix-ui/react-dialog"
import { X } from "lucide-react"
import { cn } from "@/lib/utils"
const Dialog = DialogPrimitive.Root
const DialogTrigger = DialogPrimitive.Trigger
const DialogPortal = DialogPrimitive.Portal
const DialogClose = DialogPrimitive.Close
const DialogOverlay = React.forwardRef(({ className, ...props }, ref) => (
  <DialogPrimitive.Overlay
    ref={ref}
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props} />
))
DialogOverlay.displayName = DialogPrimitive.Overlay.displayName
const DialogContent = React.forwardRef(({ className, children, ...props }, ref) => (
  <DialogPortal>
    <DialogOverlay />
    <DialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        className
      )}
      {...props}>
      {children}
      <DialogPrimitive.Close
        className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </DialogPrimitive.Close>
    </DialogPrimitive.Content>
  </DialogPortal>
))
DialogContent.displayName = DialogPrimitive.Content.displayName
const DialogHeader = ({
  className,
  ...props
}) => (
  <div
    className={cn("flex flex-col space-y-1.5 text-center sm:text-left", className)}
    {...props} />
)
DialogHeader.displayName = "DialogHeader"
const DialogFooter = ({
  className,
  ...props
}) => (
  <div
    className={cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", className)}
    {...props} />
)
DialogFooter.displayName = "DialogFooter"
const DialogTitle = React.forwardRef(({ className, ...props }, ref) => (
  <DialogPrimitive.Title
    ref={ref}
    className={cn("text-lg font-semibold leading-none tracking-tight", className)}
    {...props} />
))
DialogTitle.displayName = DialogPrimitive.Title.displayName
const DialogDescription = React.forwardRef(({ className, ...props }, ref) => (
  <DialogPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props} />
))
DialogDescription.displayName = DialogPrimitive.Description.displayName
export {
  Dialog,
  DialogPortal,
  DialogOverlay,
  DialogTrigger,
  DialogClose,
  DialogContent,
  DialogHeader,
  DialogFooter,
  DialogTitle,
  DialogDescription,
}
````

## File: components/ui/dropdown-menu.jsx
````javascript
"use client"
import * as React from "react"
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu"
import { Check, ChevronRight, Circle } from "lucide-react"
import { cn } from "@/lib/utils"
const DropdownMenu = DropdownMenuPrimitive.Root
const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger
const DropdownMenuGroup = DropdownMenuPrimitive.Group
const DropdownMenuPortal = DropdownMenuPrimitive.Portal
const DropdownMenuSub = DropdownMenuPrimitive.Sub
const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup
const DropdownMenuSubTrigger = React.forwardRef(({ className, inset, children, ...props }, ref) => (
  <DropdownMenuPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
      inset && "pl-8",
      className
    )}
    {...props}>
    {children}
    <ChevronRight className="ml-auto" />
  </DropdownMenuPrimitive.SubTrigger>
))
DropdownMenuSubTrigger.displayName =
  DropdownMenuPrimitive.SubTrigger.displayName
const DropdownMenuSubContent = React.forwardRef(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props} />
))
DropdownMenuSubContent.displayName =
  DropdownMenuPrimitive.SubContent.displayName
const DropdownMenuContent = React.forwardRef(({ className, sideOffset = 4, ...props }, ref) => (
  <DropdownMenuPrimitive.Portal>
    <DropdownMenuPrimitive.Content
      ref={ref}
      sideOffset={sideOffset}
      className={cn(
        "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md",
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className
      )}
      {...props} />
  </DropdownMenuPrimitive.Portal>
))
DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName
const DropdownMenuItem = React.forwardRef(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",
      inset && "pl-8",
      className
    )}
    {...props} />
))
DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName
const DropdownMenuCheckboxItem = React.forwardRef(({ className, children, checked, ...props }, ref) => (
  <DropdownMenuPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    checked={checked}
    {...props}>
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.CheckboxItem>
))
DropdownMenuCheckboxItem.displayName =
  DropdownMenuPrimitive.CheckboxItem.displayName
const DropdownMenuRadioItem = React.forwardRef(({ className, children, ...props }, ref) => (
  <DropdownMenuPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}>
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.RadioItem>
))
DropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName
const DropdownMenuLabel = React.forwardRef(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Label
    ref={ref}
    className={cn("px-2 py-1.5 text-sm font-semibold", inset && "pl-8", className)}
    {...props} />
))
DropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName
const DropdownMenuSeparator = React.forwardRef(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props} />
))
DropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName
const DropdownMenuShortcut = ({
  className,
  ...props
}) => {
  return (
    (<span
      className={cn("ml-auto text-xs tracking-widest opacity-60", className)}
      {...props} />)
  );
}
DropdownMenuShortcut.displayName = "DropdownMenuShortcut"
export {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuGroup,
  DropdownMenuPortal,
  DropdownMenuSub,
  DropdownMenuSubContent,
  DropdownMenuSubTrigger,
  DropdownMenuRadioGroup,
}
````

## File: components/ui/input.jsx
````javascript
import * as React from "react"
import { cn } from "@/lib/utils"
const Input = React.forwardRef(({ className, type, ...props }, ref) => {
  return (
    (<input
      type={type}
      className={cn(
        "flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        className
      )}
      ref={ref}
      {...props} />)
  );
})
Input.displayName = "Input"
export { Input }
````

## File: components/ui/label.jsx
````javascript
"use client"
import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"
import { cn } from "@/lib/utils"
const Label = React.forwardRef(({ className, ...props }, ref) => (
  <LabelPrimitive.Root
    ref={ref}
    className={cn(
      "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",
      className
    )}
    {...props}
  />
))
Label.displayName = LabelPrimitive.Root.displayName
export { Label }
````

## File: components/ui/progress.jsx
````javascript
"use client"
import * as React from "react"
import * as ProgressPrimitive from "@radix-ui/react-progress"
import { cn } from "@/lib/utils"
const Progress = React.forwardRef(({ className, value, ...props }, ref) => (
  <ProgressPrimitive.Root
    ref={ref}
    className={cn(
      "relative h-2 w-full overflow-hidden rounded-full bg-primary/20",
      className
    )}
    {...props}>
    <ProgressPrimitive.Indicator
      className="h-full w-full flex-1 bg-primary transition-all"
      style={{ transform: `translateX(-${100 - (value || 0)}%)` }} />
  </ProgressPrimitive.Root>
))
Progress.displayName = ProgressPrimitive.Root.displayName
export { Progress }
````

## File: components/ui/select.jsx
````javascript
"use client"
import * as React from "react"
import * as SelectPrimitive from "@radix-ui/react-select"
import { Check, ChevronDown, ChevronUp } from "lucide-react"
import { cn } from "@/lib/utils"
const Select = SelectPrimitive.Root
const SelectGroup = SelectPrimitive.Group
const SelectValue = SelectPrimitive.Value
const SelectTrigger = React.forwardRef(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Trigger
    ref={ref}
    className={cn(
      "flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",
      className
    )}
    {...props}
  >
    {children}
    <SelectPrimitive.Icon asChild>
      <ChevronDown className="h-4 w-4 opacity-50" />
    </SelectPrimitive.Icon>
  </SelectPrimitive.Trigger>
))
SelectTrigger.displayName = SelectPrimitive.Trigger.displayName
const SelectScrollUpButton = React.forwardRef(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollUpButton
    ref={ref}
    className={cn("flex cursor-default items-center justify-center py-1", className)}
    {...props}
  >
    <ChevronUp className="h-4 w-4" />
  </SelectPrimitive.ScrollUpButton>
))
SelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName
const SelectScrollDownButton = React.forwardRef(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollDownButton
    ref={ref}
    className={cn("flex cursor-default items-center justify-center py-1", className)}
    {...props}
  >
    <ChevronDown className="h-4 w-4" />
  </SelectPrimitive.ScrollDownButton>
))
SelectScrollDownButton.displayName =
  SelectPrimitive.ScrollDownButton.displayName
const SelectContent = React.forwardRef(({ className, children, position = "popper", ...props }, ref) => (
  <SelectPrimitive.Portal>
    <SelectPrimitive.Content
      ref={ref}
      className={cn(
        "relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        position === "popper" &&
          "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
        className
      )}
      position={position}
      {...props}
    >
      <SelectScrollUpButton />
      <SelectPrimitive.Viewport
        className={cn("p-1", position === "popper" &&
          "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]")}
      >
        {children}
      </SelectPrimitive.Viewport>
      <SelectScrollDownButton />
    </SelectPrimitive.Content>
  </SelectPrimitive.Portal>
))
SelectContent.displayName = SelectPrimitive.Content.displayName
const SelectLabel = React.forwardRef(({ className, ...props }, ref) => (
  <SelectPrimitive.Label
    ref={ref}
    className={cn("py-1.5 pl-8 pr-2 text-sm font-semibold", className)}
    {...props}
  />
))
SelectLabel.displayName = SelectPrimitive.Label.displayName
const SelectItem = React.forwardRef(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <SelectPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </SelectPrimitive.ItemIndicator>
    </span>
    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
  </SelectPrimitive.Item>
))
SelectItem.displayName = SelectPrimitive.Item.displayName
const SelectSeparator = React.forwardRef(({ className, ...props }, ref) => (
  <SelectPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
SelectSeparator.displayName = SelectPrimitive.Separator.displayName
export {
  Select,
  SelectGroup,
  SelectValue,
  SelectTrigger,
  SelectContent,
  SelectLabel,
  SelectItem,
  SelectSeparator,
  SelectScrollUpButton,
  SelectScrollDownButton,
}
````

## File: components/ui/skeleton.jsx
````javascript
import { cn } from "@/lib/utils"
function Skeleton({
  className,
  ...props
}) {
  return (
    (<div
      className={cn("animate-pulse rounded-md bg-primary/10", className)}
      {...props} />)
  );
}
export { Skeleton }
````

## File: components/ui/slider.jsx
````javascript
"use client"
import * as React from "react"
import * as SliderPrimitive from "@radix-ui/react-slider"
import { cn } from "@/lib/utils"
const Slider = React.forwardRef(({ className, ...props }, ref) => (
  <SliderPrimitive.Root
    ref={ref}
    className={cn(
      "relative flex w-full touch-none select-none items-center",
      className
    )}
    {...props}
  >
    <SliderPrimitive.Track
      className="relative h-2 w-full grow overflow-hidden rounded-full bg-secondary"
    >
      <SliderPrimitive.Range className="absolute h-full bg-primary" />
    </SliderPrimitive.Track>
    <SliderPrimitive.Thumb
      className="block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"
    />
  </SliderPrimitive.Root>
))
Slider.displayName = SliderPrimitive.Root.displayName
export { Slider }
````

## File: components/ui/switch.jsx
````javascript
"use client"
import * as React from "react"
import * as SwitchPrimitives from "@radix-ui/react-switch"
const Switch = React.forwardRef(({ className, ...props }, ref) => (
  <SwitchPrimitives.Root
    className="peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input"
    {...props}
    ref={ref}
  >
    <SwitchPrimitives.Thumb
      className="pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0"
    />
  </SwitchPrimitives.Root>
))
Switch.displayName = SwitchPrimitives.Root.displayName
export { Switch }
````

## File: components/ui/table.jsx
````javascript
import * as React from "react"
import { cn } from "@/lib/utils"
const Table = React.forwardRef(({ className, ...props }, ref) => (
  <div className="relative w-full overflow-auto">
    <table
      ref={ref}
      className={cn("w-full caption-bottom text-sm", className)}
      {...props} />
  </div>
))
Table.displayName = "Table"
const TableHeader = React.forwardRef(({ className, ...props }, ref) => (
  <thead ref={ref} className={cn("[&_tr]:border-b", className)} {...props} />
))
TableHeader.displayName = "TableHeader"
const TableBody = React.forwardRef(({ className, ...props }, ref) => (
  <tbody
    ref={ref}
    className={cn("[&_tr:last-child]:border-0", className)}
    {...props} />
))
TableBody.displayName = "TableBody"
const TableFooter = React.forwardRef(({ className, ...props }, ref) => (
  <tfoot
    ref={ref}
    className={cn("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0", className)}
    {...props} />
))
TableFooter.displayName = "TableFooter"
const TableRow = React.forwardRef(({ className, ...props }, ref) => (
  <tr
    ref={ref}
    className={cn(
      "border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",
      className
    )}
    {...props} />
))
TableRow.displayName = "TableRow"
const TableHead = React.forwardRef(({ className, ...props }, ref) => (
  <th
    ref={ref}
    className={cn(
      "h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
      className
    )}
    {...props} />
))
TableHead.displayName = "TableHead"
const TableCell = React.forwardRef(({ className, ...props }, ref) => (
  <td
    ref={ref}
    className={cn(
      "p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
      className
    )}
    {...props} />
))
TableCell.displayName = "TableCell"
const TableCaption = React.forwardRef(({ className, ...props }, ref) => (
  <caption
    ref={ref}
    className={cn("mt-4 text-sm text-muted-foreground", className)}
    {...props} />
))
TableCaption.displayName = "TableCaption"
export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
}
````

## File: components/ui/tabs.jsx
````javascript
"use client"
import * as React from "react"
import * as TabsPrimitive from "@radix-ui/react-tabs"
import { cn } from "@/lib/utils"
const Tabs = TabsPrimitive.Root
const TabsList = React.forwardRef(({ className, ...props }, ref) => (
  <TabsPrimitive.List
    ref={ref}
    className={cn(
      "inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",
      className
    )}
    {...props} />
))
TabsList.displayName = TabsPrimitive.List.displayName
const TabsTrigger = React.forwardRef(({ className, ...props }, ref) => (
  <TabsPrimitive.Trigger
    ref={ref}
    className={cn(
      "inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",
      className
    )}
    {...props} />
))
TabsTrigger.displayName = TabsPrimitive.Trigger.displayName
const TabsContent = React.forwardRef(({ className, ...props }, ref) => (
  <TabsPrimitive.Content
    ref={ref}
    className={cn(
      "mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",
      className
    )}
    {...props} />
))
TabsContent.displayName = TabsPrimitive.Content.displayName
export { Tabs, TabsList, TabsTrigger, TabsContent }
````

## File: components/ui/textarea.jsx
````javascript
import * as React from "react"
import { cn } from "@/lib/utils"
const Textarea = React.forwardRef(({ className, ...props }, ref) => {
  return (
    (<textarea
      className={cn(
        "flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        className
      )}
      ref={ref}
      {...props} />)
  );
})
Textarea.displayName = "Textarea"
export { Textarea }
````

## File: components/ui/toast.jsx
````javascript
import { toast as sonnerToast } from 'sonner';
export const toast = {
  error: (message) => sonnerToast.error(message),
  success: (message) => sonnerToast.success(message),
  info: (message) => sonnerToast.info(message),
};
````

## File: drizzle/0004_user_settings.sql
````sql
CREATE TABLE IF NOT EXISTS "user_settings" (
  "id" serial PRIMARY KEY,
  "user_email" text NOT NULL,
  "dark_mode" boolean DEFAULT false,
  "notifications" boolean DEFAULT true,
  "sound" boolean DEFAULT true,
  "voice_response" boolean DEFAULT false,
  "interview_duration" integer DEFAULT 15,
  "auto_save" boolean DEFAULT true,
  "privacy_mode" boolean DEFAULT false,
  "volume" integer DEFAULT 80,
  "created_at" timestamp DEFAULT now(),
  "updated_at" timestamp DEFAULT now()
);
````

## File: lib/prisma.js
````javascript
import { PrismaClient } from '@prisma/client';
let prisma;
if (process.env.NODE_ENV === 'production') {
  prisma = new PrismaClient();
} else {
  if (!global.prisma) {
    global.prisma = new PrismaClient();
  }
  prisma = global.prisma;
}
export default prisma;
````

## File: lib/utils.js
````javascript
import { clsx } from "clsx";
import { twMerge } from "tailwind-merge"
export function cn(...inputs) {
  return twMerge(clsx(inputs));
}
````

## File: prisma/schema.prisma
````
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id            String          @id @default(cuid())
  email         String         @unique
  name          String?
  interviews    Interview[]
  aptitudeTests AptitudeTest[]
  createdAt     DateTime       @default(now())
  updatedAt     DateTime       @updatedAt
}

model Interview {
  id        String   @id @default(cuid())
  userId    String
  user      User     @relation(fields: [userId], references: [id])
  score     Int
  feedback  String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([userId])
}

model AptitudeTest {
  id        String   @id @default(cuid())
  userId    String
  user      User     @relation(fields: [userId], references: [id])
  score     Int
  category  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([userId])
}

model SkillAssessment {
  id             String   @id @default(cuid())
  userId         String
  skillLevel     String
  overallScore   Int
  categoryScores Json
  timestamp      DateTime @default(now())

  @@index([userId])
  @@index([timestamp])
}
````

## File: public/models/face_expression_model-weights_manifest.json
````json
[{"weights":[{"name":"dense0/conv0/filters","shape":[3,3,3,32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0057930146946626555,"min":-0.7125408074435067}},{"name":"dense0/conv0/bias","shape":[32],"dtype":"float32"},{"name":"dense0/conv1/depthwise_filter","shape":[3,3,32,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.006473719839956246,"min":-0.6408982641556684}},{"name":"dense0/conv1/pointwise_filter","shape":[1,1,32,32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.010509579321917366,"min":-1.408283629136927}},{"name":"dense0/conv1/bias","shape":[32],"dtype":"float32"},{"name":"dense0/conv2/depthwise_filter","shape":[3,3,32,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.005666389652326995,"min":-0.7252978754978554}},{"name":"dense0/conv2/pointwise_filter","shape":[1,1,32,32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.010316079270605948,"min":-1.1760330368490781}},{"name":"dense0/conv2/bias","shape":[32],"dtype":"float32"},{"name":"dense0/conv3/depthwise_filter","shape":[3,3,32,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0063220320963392074,"min":-0.853474333005793}},{"name":"dense0/conv3/pointwise_filter","shape":[1,1,32,32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.010322785377502442,"min":-1.4658355236053466}},{"name":"dense0/conv3/bias","shape":[32],"dtype":"float32"},{"name":"dense1/conv0/depthwise_filter","shape":[3,3,32,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0042531527724920535,"min":-0.5741756242864272}},{"name":"dense1/conv0/pointwise_filter","shape":[1,1,32,64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.010653339647779278,"min":-1.1825207009035}},{"name":"dense1/conv0/bias","shape":[64],"dtype":"float32"},{"name":"dense1/conv1/depthwise_filter","shape":[3,3,64,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.005166931012097527,"min":-0.6355325144879957}},{"name":"dense1/conv1/pointwise_filter","shape":[1,1,64,64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.011478300188101974,"min":-1.3888743227603388}},{"name":"dense1/conv1/bias","shape":[64],"dtype":"float32"},{"name":"dense1/conv2/depthwise_filter","shape":[3,3,64,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.006144821410085641,"min":-0.8479853545918185}},{"name":"dense1/conv2/pointwise_filter","shape":[1,1,64,64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.010541967317169788,"min":-1.3809977185492421}},{"name":"dense1/conv2/bias","shape":[64],"dtype":"float32"},{"name":"dense1/conv3/depthwise_filter","shape":[3,3,64,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.005769844849904378,"min":-0.686611537138621}},{"name":"dense1/conv3/pointwise_filter","shape":[1,1,64,64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.010939095534530341,"min":-1.2689350820055196}},{"name":"dense1/conv3/bias","shape":[64],"dtype":"float32"},{"name":"dense2/conv0/depthwise_filter","shape":[3,3,64,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0037769308277204924,"min":-0.40790852939381317}},{"name":"dense2/conv0/pointwise_filter","shape":[1,1,64,128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.01188667194516051,"min":-1.4382873053644218}},{"name":"dense2/conv0/bias","shape":[128],"dtype":"float32"},{"name":"dense2/conv1/depthwise_filter","shape":[3,3,128,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.006497045825509464,"min":-0.8381189114907208}},{"name":"dense2/conv1/pointwise_filter","shape":[1,1,128,128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.011632198913424622,"min":-1.3377028750438316}},{"name":"dense2/conv1/bias","shape":[128],"dtype":"float32"},{"name":"dense2/conv2/depthwise_filter","shape":[3,3,128,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.005947182225246056,"min":-0.7969224181829715}},{"name":"dense2/conv2/pointwise_filter","shape":[1,1,128,128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.011436844339557722,"min":-1.4524792311238306}},{"name":"dense2/conv2/bias","shape":[128],"dtype":"float32"},{"name":"dense2/conv3/depthwise_filter","shape":[3,3,128,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.006665432686899222,"min":-0.8998334127313949}},{"name":"dense2/conv3/pointwise_filter","shape":[1,1,128,128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.01283421422920975,"min":-1.642779421338848}},{"name":"dense2/conv3/bias","shape":[128],"dtype":"float32"},{"name":"dense3/conv0/depthwise_filter","shape":[3,3,128,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.004711699953266218,"min":-0.6737730933170692}},{"name":"dense3/conv0/pointwise_filter","shape":[1,1,128,256],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.010955964817720302,"min":-1.3914075318504784}},{"name":"dense3/conv0/bias","shape":[256],"dtype":"float32"},{"name":"dense3/conv1/depthwise_filter","shape":[3,3,256,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.00554193468654857,"min":-0.7149095745647656}},{"name":"dense3/conv1/pointwise_filter","shape":[1,1,256,256],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.016790372250126858,"min":-2.484975093018775}},{"name":"dense3/conv1/bias","shape":[256],"dtype":"float32"},{"name":"dense3/conv2/depthwise_filter","shape":[3,3,256,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.006361540626077091,"min":-0.8142772001378676}},{"name":"dense3/conv2/pointwise_filter","shape":[1,1,256,256],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.01777329678628959,"min":-1.7062364914838006}},{"name":"dense3/conv2/bias","shape":[256],"dtype":"float32"},{"name":"dense3/conv3/depthwise_filter","shape":[3,3,256,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.006900275922289082,"min":-0.8625344902861353}},{"name":"dense3/conv3/pointwise_filter","shape":[1,1,256,256],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.015449936717164282,"min":-1.9003422162112067}},{"name":"dense3/conv3/bias","shape":[256],"dtype":"float32"},{"name":"fc/weights","shape":[256,7],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.004834276554631252,"min":-0.7203072066400565}},{"name":"fc/bias","shape":[7],"dtype":"float32"}],"paths":["face_expression_model-shard1"]}]
````

## File: public/models/face_landmark_68_model-weights_manifest.json
````json
[{"weights":[{"name":"dense0/conv0/filters","shape":[3,3,3,32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.004853619781194949,"min":-0.5872879935245888}},{"name":"dense0/conv0/bias","shape":[32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.004396426443960153,"min":-0.7298067896973853}},{"name":"dense0/conv1/depthwise_filter","shape":[3,3,32,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.00635151559231328,"min":-0.5589333721235686}},{"name":"dense0/conv1/pointwise_filter","shape":[1,1,32,32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.009354315552057004,"min":-1.2628325995276957}},{"name":"dense0/conv1/bias","shape":[32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0029380727048013726,"min":-0.5846764682554731}},{"name":"dense0/conv2/depthwise_filter","shape":[3,3,32,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0049374802439820535,"min":-0.6171850304977566}},{"name":"dense0/conv2/pointwise_filter","shape":[1,1,32,32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.009941946758943446,"min":-1.3421628124573652}},{"name":"dense0/conv2/bias","shape":[32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0030300481062309416,"min":-0.5272283704841838}},{"name":"dense0/conv3/depthwise_filter","shape":[3,3,32,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.005672684837790097,"min":-0.7431217137505026}},{"name":"dense0/conv3/pointwise_filter","shape":[1,1,32,32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.010712201455060173,"min":-1.5639814124387852}},{"name":"dense0/conv3/bias","shape":[32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0030966934035806097,"min":-0.3839899820439956}},{"name":"dense1/conv0/depthwise_filter","shape":[3,3,32,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0039155554537679636,"min":-0.48161332081345953}},{"name":"dense1/conv0/pointwise_filter","shape":[1,1,32,64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.01023082966898002,"min":-1.094698774580862}},{"name":"dense1/conv0/bias","shape":[64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0027264176630506327,"min":-0.3871513081531898}},{"name":"dense1/conv1/depthwise_filter","shape":[3,3,64,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.004583378632863362,"min":-0.5454220573107401}},{"name":"dense1/conv1/pointwise_filter","shape":[1,1,64,64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.00915846403907327,"min":-1.117332612766939}},{"name":"dense1/conv1/bias","shape":[64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.003091680419211294,"min":-0.5966943209077797}},{"name":"dense1/conv2/depthwise_filter","shape":[3,3,64,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.005407439727409214,"min":-0.708374604290607}},{"name":"dense1/conv2/pointwise_filter","shape":[1,1,64,64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.00946493943532308,"min":-1.2399070660273235}},{"name":"dense1/conv2/bias","shape":[64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.004409168514550901,"min":-0.9788354102303}},{"name":"dense1/conv3/depthwise_filter","shape":[3,3,64,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.004478132958505668,"min":-0.6493292789833219}},{"name":"dense1/conv3/pointwise_filter","shape":[1,1,64,64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.011063695888893277,"min":-1.2501976354449402}},{"name":"dense1/conv3/bias","shape":[64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.003909627596537272,"min":-0.6646366914113363}},{"name":"dense2/conv0/depthwise_filter","shape":[3,3,64,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.003213915404151468,"min":-0.3374611174359041}},{"name":"dense2/conv0/pointwise_filter","shape":[1,1,64,128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.010917326048308728,"min":-1.4520043644250609}},{"name":"dense2/conv0/bias","shape":[128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.002800439152063108,"min":-0.38085972468058266}},{"name":"dense2/conv1/depthwise_filter","shape":[3,3,128,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0050568851770139206,"min":-0.6927932692509071}},{"name":"dense2/conv1/pointwise_filter","shape":[1,1,128,128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.01074961213504567,"min":-1.3222022926106174}},{"name":"dense2/conv1/bias","shape":[128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0030654204242369708,"min":-0.5487102559384177}},{"name":"dense2/conv2/depthwise_filter","shape":[3,3,128,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.00591809165244009,"min":-0.917304206128214}},{"name":"dense2/conv2/pointwise_filter","shape":[1,1,128,128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.01092823346455892,"min":-1.366029183069865}},{"name":"dense2/conv2/bias","shape":[128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.002681120470458386,"min":-0.36463238398234055}},{"name":"dense2/conv3/depthwise_filter","shape":[3,3,128,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0048311497650894465,"min":-0.5797379718107336}},{"name":"dense2/conv3/pointwise_filter","shape":[1,1,128,128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.011227761062921263,"min":-1.4483811771168429}},{"name":"dense2/conv3/bias","shape":[128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0034643323982463162,"min":-0.3360402426298927}},{"name":"dense3/conv0/depthwise_filter","shape":[3,3,128,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.003394978887894574,"min":-0.49227193874471326}},{"name":"dense3/conv0/pointwise_filter","shape":[1,1,128,256],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.010051267287310432,"min":-1.2765109454884247}},{"name":"dense3/conv0/bias","shape":[256],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.003142924752889895,"min":-0.4588670139219247}},{"name":"dense3/conv1/depthwise_filter","shape":[3,3,256,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.00448304671867221,"min":-0.5872791201460595}},{"name":"dense3/conv1/pointwise_filter","shape":[1,1,256,256],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.016063522357566685,"min":-2.3613377865623026}},{"name":"dense3/conv1/bias","shape":[256],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.00287135781026354,"min":-0.47664539650374765}},{"name":"dense3/conv2/depthwise_filter","shape":[3,3,256,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.006002906724518421,"min":-0.7923836876364315}},{"name":"dense3/conv2/pointwise_filter","shape":[1,1,256,256],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.017087187019048954,"min":-1.6061955797906016}},{"name":"dense3/conv2/bias","shape":[256],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.003124481205846749,"min":-0.46242321846531886}},{"name":"dense3/conv3/depthwise_filter","shape":[3,3,256,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.006576311588287353,"min":-1.0193282961845398}},{"name":"dense3/conv3/pointwise_filter","shape":[1,1,256,256],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.015590153955945782,"min":-1.99553970636106}},{"name":"dense3/conv3/bias","shape":[256],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.004453541601405424,"min":-0.6546706154065973}},{"name":"fc/weights","shape":[256,136],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.010417488509533453,"min":-1.500118345372817}},{"name":"fc/bias","shape":[136],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0025084222648658005,"min":0.07683877646923065}}],"paths":["face_landmark_68_model-shard1"]}]
````

## File: public/models/face_landmark_68_tiny_model-weights_manifest.json
````json
[{"weights":[{"name":"dense0/conv0/filters","shape":[3,3,3,32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.008194216092427571,"min":-0.9423348506291708}},{"name":"dense0/conv0/bias","shape":[32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.006839508168837603,"min":-0.8412595047670252}},{"name":"dense0/conv1/depthwise_filter","shape":[3,3,32,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.009194007106855804,"min":-1.2779669878529567}},{"name":"dense0/conv1/pointwise_filter","shape":[1,1,32,32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0036026100317637128,"min":-0.3170296827952067}},{"name":"dense0/conv1/bias","shape":[32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.000740380117706224,"min":-0.06367269012273527}},{"name":"dense0/conv2/depthwise_filter","shape":[3,3,32,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":1,"min":0}},{"name":"dense0/conv2/pointwise_filter","shape":[1,1,32,32],"dtype":"float32","quantization":{"dtype":"uint8","scale":1,"min":0}},{"name":"dense0/conv2/bias","shape":[32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0037702228508743585,"min":-0.6220867703942692}},{"name":"dense1/conv0/depthwise_filter","shape":[3,3,32,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0033707996209462483,"min":-0.421349952618281}},{"name":"dense1/conv0/pointwise_filter","shape":[1,1,32,64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.014611541991140328,"min":-1.8556658328748217}},{"name":"dense1/conv0/bias","shape":[64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.002832523046755323,"min":-0.30307996600281956}},{"name":"dense1/conv1/depthwise_filter","shape":[3,3,64,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.006593170586754294,"min":-0.6329443763284123}},{"name":"dense1/conv1/pointwise_filter","shape":[1,1,64,64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.012215249211180444,"min":-1.6001976466646382}},{"name":"dense1/conv1/bias","shape":[64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.002384825547536214,"min":-0.3028728445370992}},{"name":"dense1/conv2/depthwise_filter","shape":[3,3,64,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.005859645441466687,"min":-0.7617539073906693}},{"name":"dense1/conv2/pointwise_filter","shape":[1,1,64,64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.013121426806730382,"min":-1.7845140457153321}},{"name":"dense1/conv2/bias","shape":[64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0032247188044529336,"min":-0.46435950784122243}},{"name":"dense2/conv0/depthwise_filter","shape":[3,3,64,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.002659512618008782,"min":-0.32977956463308894}},{"name":"dense2/conv0/pointwise_filter","shape":[1,1,64,128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.015499923743453681,"min":-1.9839902391620712}},{"name":"dense2/conv0/bias","shape":[128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0032450980999890497,"min":-0.522460794098237}},{"name":"dense2/conv1/depthwise_filter","shape":[3,3,128,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.005911862382701799,"min":-0.792189559282041}},{"name":"dense2/conv1/pointwise_filter","shape":[1,1,128,128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.021025861478319356,"min":-2.2077154552235325}},{"name":"dense2/conv1/bias","shape":[128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.00349616945958605,"min":-0.46149436866535865}},{"name":"dense2/conv2/depthwise_filter","shape":[3,3,128,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.008104994250278847,"min":-1.013124281284856}},{"name":"dense2/conv2/pointwise_filter","shape":[1,1,128,128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.029337059282789044,"min":-3.5791212325002633}},{"name":"dense2/conv2/bias","shape":[128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0038808938334969913,"min":-0.4230174278511721}},{"name":"fc/weights","shape":[128,136],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.014016061670639936,"min":-1.8921683255363912}},{"name":"fc/bias","shape":[136],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0029505149698724935,"min":0.088760145008564}}],"paths":["face_landmark_68_tiny_model-shard1"]}]
````

## File: public/models/README.md
````markdown
This directory contains the face-api.js model files required for face detection.

Please download the following files from the face-api.js models and place them in this directory:
- tiny_face_detector_model-weights_manifest.json
- tiny_face_detector_model-shard1
- face_landmark_68_model-weights_manifest.json
- face_landmark_68_model-shard1
- face_expression_model-weights_manifest.json
- face_expression_model-shard1
````

## File: public/models/tiny_face_detector_model-weights_manifest.json
````json
[{"weights":[{"name":"conv0/filters","shape":[3,3,3,16],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.009007044399485869,"min":-1.2069439495311063}},{"name":"conv0/bias","shape":[16],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.005263455241334205,"min":-0.9211046672334858}},{"name":"conv1/depthwise_filter","shape":[3,3,16,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.004001977630690033,"min":-0.5042491814669441}},{"name":"conv1/pointwise_filter","shape":[1,1,16,32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.013836609615999109,"min":-1.411334180831909}},{"name":"conv1/bias","shape":[32],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0015159862590771096,"min":-0.30926119685173037}},{"name":"conv2/depthwise_filter","shape":[3,3,32,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.002666276225856706,"min":-0.317286870876948}},{"name":"conv2/pointwise_filter","shape":[1,1,32,64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.015265831292844286,"min":-1.6792414422128714}},{"name":"conv2/bias","shape":[64],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0020280554598453,"min":-0.37113414915168985}},{"name":"conv3/depthwise_filter","shape":[3,3,64,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.006100742489683862,"min":-0.8907084034938438}},{"name":"conv3/pointwise_filter","shape":[1,1,64,128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.016276211832083907,"min":-2.0508026908425725}},{"name":"conv3/bias","shape":[128],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.003394414279975143,"min":-0.7637432129944072}},{"name":"conv4/depthwise_filter","shape":[3,3,128,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.006716050119961009,"min":-0.8059260143953211}},{"name":"conv4/pointwise_filter","shape":[1,1,128,256],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.021875603993733724,"min":-2.8875797271728514}},{"name":"conv4/bias","shape":[256],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.0041141652009066415,"min":-0.8187188749804216}},{"name":"conv5/depthwise_filter","shape":[3,3,256,1],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.008423839597141042,"min":-0.9013508368940915}},{"name":"conv5/pointwise_filter","shape":[1,1,256,512],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.030007277283014035,"min":-3.8709387695088107}},{"name":"conv5/bias","shape":[512],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.008402082966823203,"min":-1.4871686851277068}},{"name":"conv8/filters","shape":[1,1,512,25],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.028336129469030042,"min":-4.675461362389957}},{"name":"conv8/bias","shape":[25],"dtype":"float32","quantization":{"dtype":"uint8","scale":0.002268134028303857,"min":-0.41053225912299807}}],"paths":["tiny_face_detector_model-shard1"]}]
````

## File: public/file.svg
````
<svg fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 13.5V5.41a1 1 0 0 0-.3-.7L9.8.29A1 1 0 0 0 9.08 0H1.5v13.5A2.5 2.5 0 0 0 4 16h8a2.5 2.5 0 0 0 2.5-2.5m-1.5 0v-7H8v-5H3v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1M9.5 5V2.12L12.38 5zM5.13 5h-.62v1.25h2.12V5zm-.62 3h7.12v1.25H4.5zm.62 3h-.62v1.25h7.12V11z" clip-rule="evenodd" fill="#666" fill-rule="evenodd"/></svg>
````

## File: public/globe.svg
````
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.27 14.1a6.5 6.5 0 0 0 3.67-3.45q-1.24.21-2.7.34-.31 1.83-.97 3.1M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.48-1.52a7 7 0 0 1-.96 0H7.5a4 4 0 0 1-.84-1.32q-.38-.89-.63-2.08a40 40 0 0 0 3.92 0q-.25 1.2-.63 2.08a4 4 0 0 1-.84 1.31zm2.94-4.76q1.66-.15 2.95-.43a7 7 0 0 0 0-2.58q-1.3-.27-2.95-.43a18 18 0 0 1 0 3.44m-1.27-3.54a17 17 0 0 1 0 3.64 39 39 0 0 1-4.3 0 17 17 0 0 1 0-3.64 39 39 0 0 1 4.3 0m1.1-1.17q1.45.13 2.69.34a6.5 6.5 0 0 0-3.67-3.44q.65 1.26.98 3.1M8.48 1.5l.01.02q.41.37.84 1.31.38.89.63 2.08a40 40 0 0 0-3.92 0q.25-1.2.63-2.08a4 4 0 0 1 .85-1.32 7 7 0 0 1 .96 0m-2.75.4a6.5 6.5 0 0 0-3.67 3.44 29 29 0 0 1 2.7-.34q.31-1.83.97-3.1M4.58 6.28q-1.66.16-2.95.43a7 7 0 0 0 0 2.58q1.3.27 2.95.43a18 18 0 0 1 0-3.44m.17 4.71q-1.45-.12-2.69-.34a6.5 6.5 0 0 0 3.67 3.44q-.65-1.27-.98-3.1" fill="#666"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h16v16H0z"/></clipPath></defs></svg>
````

## File: public/logo.svg
````
<svg id="logo-34" width="155" height="40" viewBox="0 0 155 40" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M51.5821 10.2839H48V26.4472H57.9164V23.2801H51.5821V10.2839Z" class="ccustom" fill="#243A5A"></path> <path d="M58.2585 20.9648C58.2585 24.4159 60.5738 26.7093 64.0685 26.7093C67.5414 26.7093 69.8567 24.4159 69.8567 20.9648C69.8567 17.5137 67.5414 15.1984 64.0685 15.1984C60.5738 15.1984 58.2585 17.5137 58.2585 20.9648ZM61.644 20.9429C61.644 19.3048 62.6051 18.2127 64.0685 18.2127C65.5101 18.2127 66.4712 19.3048 66.4712 20.9429C66.4712 22.603 65.5101 23.6951 64.0685 23.6951C62.6051 23.6951 61.644 22.603 61.644 20.9429Z" class="ccustom" fill="#243A5A"></path> <path d="M70.3978 20.7901C70.3978 24.0882 72.5384 26.3161 75.5744 26.3161C77.0379 26.3161 78.3047 25.7919 78.9381 24.9401V26.4472C78.9381 27.9543 77.9989 28.959 76.3389 28.959C74.8536 28.959 73.827 28.2601 73.7615 27.0151H70.3541C70.6599 30.0075 72.9752 32.0169 76.1423 32.0169C79.8773 32.0169 82.2363 29.5925 82.2363 25.7482V15.5261H79.2002L79.0255 16.64C78.4139 15.7445 77.1252 15.1548 75.64 15.1548C72.582 15.1548 70.3978 17.4482 70.3978 20.7901ZM73.8052 20.7027C73.8052 19.13 74.8536 18.0816 76.186 18.0816C77.7368 18.0816 78.8726 19.1082 78.8726 20.7027C78.8726 22.2972 77.7586 23.3893 76.2078 23.3893C74.8755 23.3893 73.8052 22.2972 73.8052 20.7027Z" class="ccustom" fill="#243A5A"></path> <path d="M83.2166 20.9648C83.2166 24.4159 85.5319 26.7093 89.0267 26.7093C92.4996 26.7093 94.8148 24.4159 94.8148 20.9648C94.8148 17.5137 92.4996 15.1984 89.0267 15.1984C85.5319 15.1984 83.2166 17.5137 83.2166 20.9648ZM86.6022 20.9429C86.6022 19.3048 87.5632 18.2127 89.0267 18.2127C90.4682 18.2127 91.4293 19.3048 91.4293 20.9429C91.4293 22.603 90.4682 23.6951 89.0267 23.6951C87.5632 23.6951 86.6022 22.603 86.6022 20.9429Z" class="ccustom" fill="#243A5A"></path> <path d="M97.7149 13.8224C98.7633 13.8224 99.6152 12.9705 99.6152 11.9003C99.6152 10.83 98.7633 10 97.7149 10C96.6446 10 95.7928 10.83 95.7928 11.9003C95.7928 12.9705 96.6446 13.8224 97.7149 13.8224ZM96.0112 26.4472H99.3968V15.5261H96.0112V26.4472Z" class="ccustom" fill="#243A5A"></path> <path d="M101.368 31.6893H104.688V25.3551C105.321 26.1851 106.763 26.753 108.27 26.753C111.524 26.753 113.49 24.263 113.403 20.8119C113.315 17.2953 111.284 15.1766 108.248 15.1766C106.697 15.1766 105.234 15.8537 104.622 16.8585L104.447 15.5261H101.368V31.6893ZM104.753 20.9866C104.753 19.3485 105.845 18.2564 107.418 18.2564C109.012 18.2564 110.017 19.3703 110.017 20.9866C110.017 22.603 109.012 23.7169 107.418 23.7169C105.845 23.7169 104.753 22.6248 104.753 20.9866Z" class="ccustom" fill="#243A5A"></path> <path d="M113.761 22.9961C113.848 25.2022 115.596 26.7311 118.348 26.7311C120.991 26.7311 122.826 25.3332 122.826 23.0835C122.826 21.4672 121.865 20.3969 120.073 19.96L118.13 19.4795C117.431 19.3048 116.994 19.13 116.994 18.5621C116.994 17.9942 117.452 17.6229 118.13 17.6229C118.894 17.6229 119.396 18.1253 119.375 18.8679H122.411C122.323 16.5963 120.598 15.1766 118.195 15.1766C115.771 15.1766 113.958 16.6182 113.958 18.8024C113.958 20.2658 114.766 21.4672 116.928 22.0351L118.85 22.5374C119.418 22.6903 119.658 22.9524 119.658 23.3237C119.658 23.8698 119.156 24.2193 118.304 24.2193C117.321 24.2193 116.797 23.7606 116.797 22.9961H113.761Z" class="ccustom" fill="#243A5A"></path> <path d="M127.974 26.7311C129.307 26.7311 130.639 26.1195 131.316 25.224L131.535 26.4472H134.702V15.5261H131.338V21.2051C131.338 22.8432 130.858 23.7387 129.307 23.7387C128.105 23.7387 127.319 23.1927 127.319 21.1614V15.5261H123.955V22.3845C123.955 24.9838 125.397 26.7311 127.974 26.7311Z" class="ccustom" fill="#243A5A"></path> <path d="M140.036 26.4472V20.4843C140.036 18.6495 141.019 18.1253 141.98 18.1253C143.05 18.1253 143.749 18.7806 143.749 20.1348V26.4472H147.069V20.4843C147.069 18.6277 148.03 18.1035 148.991 18.1035C150.061 18.1035 150.782 18.7587 150.782 20.1348V26.4472H154.059V19.3048C154.059 16.8148 152.748 15.1548 149.93 15.1548C148.358 15.1548 147.069 15.9192 146.501 17.0987C145.846 15.9192 144.71 15.1548 142.897 15.1548C141.696 15.1548 140.582 15.7008 139.927 16.5745L139.796 15.5261H136.65V26.4472H140.036Z" class="ccustom" fill="#243A5A"></path> <path d="M0 20C0 10.5719 0 5.85786 2.92893 2.92893C5.85786 0 10.5719 0 20 0C29.4281 0 34.1421 0 37.0711 2.92893C40 5.85786 40 10.5719 40 20C40 29.4281 40 34.1421 37.0711 37.0711C34.1421 40 29.4281 40 20 40C10.5719 40 5.85786 40 2.92893 37.0711C0 34.1421 0 29.4281 0 20Z" class="ccustom" fill="#243A5A"></path> <path d="M24 26C24.5523 26 25.0101 26.4521 24.9004 26.9934C24.7065 27.9494 24.2355 28.8355 23.5355 29.5355C22.5979 30.4732 21.3261 31 20 31C18.6739 31 17.4022 30.4732 16.4645 29.5355C15.7645 28.8355 15.2935 27.9494 15.0997 26.9934C14.9899 26.4521 15.4477 26 16 26L24 26Z" class="ccompli2" fill="#2DF8BB"></path> <path d="M26.1023 17.7765C25.5688 17.9194 25.2421 18.4775 25.5126 18.959C25.7973 19.4658 26.1911 19.9081 26.6702 20.2514C27.4224 20.7904 28.3382 21.052 29.2617 20.9914C30.1851 20.9309 31.059 20.5521 31.7344 19.9195C32.4099 19.2869 32.845 18.4396 32.9658 17.5221C33.0866 16.6046 32.8856 15.6736 32.3969 14.8877C31.9082 14.1019 31.1621 13.5098 30.2858 13.2123C29.4095 12.9148 28.4572 12.9304 27.5911 13.2564C27.0395 13.464 26.5447 13.7893 26.1385 14.2051C25.7526 14.6002 25.9237 15.2239 26.402 15.5L26.9093 15.7929C27.6808 16.2384 27.5287 17.3943 26.6681 17.6249L26.1023 17.7765Z" class="ccompli2" fill="#2DF8BB"></path> <path d="M13.8978 17.7765C14.4313 17.9194 14.758 18.4775 14.4875 18.959C14.2028 19.4658 13.809 19.9081 13.33 20.2514C12.5778 20.7904 11.6619 21.052 10.7385 20.9914C9.81502 20.9309 8.94113 20.5521 8.2657 19.9195C7.59027 19.2869 7.15508 18.4396 7.03429 17.5221C6.9135 16.6046 7.11457 15.6736 7.60326 14.8877C8.09194 14.1019 8.838 13.5098 9.71431 13.2123C10.5906 12.9148 11.543 12.9304 12.4091 13.2564C12.9606 13.464 13.4555 13.7893 13.8617 14.2051C14.2476 14.6002 14.0764 15.2239 13.5981 15.5L13.0908 15.7929C12.3193 16.2384 12.4715 17.3943 13.332 17.6249L13.8978 17.7765Z" class="ccompli2" fill="#2DF8BB"></path> </svg>
````

## File: public/next.svg
````
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 394 80"><path fill="#000" d="M262 0h68.5v12.7h-27.2v66.6h-13.6V12.7H262V0ZM149 0v12.7H94v20.4h44.3v12.6H94v21h55v12.6H80.5V0h68.7zm34.3 0h-17.8l63.8 79.4h17.9l-32-39.7 32-39.6h-17.9l-23 28.6-23-28.6zm18.3 56.7-9-11-27.1 33.7h17.8l18.3-22.7z"/><path fill="#000" d="M81 79.3 17 0H0v79.3h13.6V17l50.2 62.3H81Zm252.6-.4c-1 0-1.8-.4-2.5-1s-1.1-1.6-1.1-2.6.3-1.8 1-2.5 1.6-1 2.6-1 1.8.3 2.5 1a3.4 3.4 0 0 1 .6 4.3 3.7 3.7 0 0 1-3 1.8zm23.2-33.5h6v23.3c0 2.1-.4 4-1.3 5.5a9.1 9.1 0 0 1-3.8 3.5c-1.6.8-3.5 1.3-5.7 1.3-2 0-3.7-.4-5.3-1s-2.8-1.8-3.7-3.2c-.9-1.3-1.4-3-1.4-5h6c.1.8.3 1.6.7 2.2s1 1.2 1.6 1.5c.7.4 1.5.5 2.4.5 1 0 1.8-.2 2.4-.6a4 4 0 0 0 1.6-1.8c.3-.8.5-1.8.5-3V45.5zm30.9 9.1a4.4 4.4 0 0 0-2-3.3 7.5 7.5 0 0 0-4.3-1.1c-1.3 0-2.4.2-3.3.5-.9.4-1.6 1-2 1.6a3.5 3.5 0 0 0-.3 4c.3.5.7.9 1.3 1.2l1.8 1 2 .5 3.2.8c1.3.3 2.5.7 3.7 1.2a13 13 0 0 1 3.2 1.8 8.1 8.1 0 0 1 3 6.5c0 2-.5 3.7-1.5 5.1a10 10 0 0 1-4.4 3.5c-1.8.8-4.1 1.2-6.8 1.2-2.6 0-4.9-.4-6.8-1.2-2-.8-3.4-2-4.5-3.5a10 10 0 0 1-1.7-5.6h6a5 5 0 0 0 3.5 4.6c1 .4 2.2.6 3.4.6 1.3 0 2.5-.2 3.5-.6 1-.4 1.8-1 2.4-1.7a4 4 0 0 0 .8-2.4c0-.9-.2-1.6-.7-2.2a11 11 0 0 0-2.1-1.4l-3.2-1-3.8-1c-2.8-.7-5-1.7-6.6-3.2a7.2 7.2 0 0 1-2.4-5.7 8 8 0 0 1 1.7-5 10 10 0 0 1 4.3-3.5c2-.8 4-1.2 6.4-1.2 2.3 0 4.4.4 6.2 1.2 1.8.8 3.2 2 4.3 3.4 1 1.4 1.5 3 1.5 5h-5.8z"/></svg>
````

## File: public/vercel.svg
````
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1155 1000"><path d="m577.3 0 577.4 1000H0z" fill="#fff"/></svg>
````

## File: public/window.svg
````
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 2.5h13v10a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1zM0 1h16v11.5a2.5 2.5 0 0 1-2.5 2.5h-11A2.5 2.5 0 0 1 0 12.5zm3.75 4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5M7 4.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m1.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5" fill="#666"/></svg>
````

## File: scripts/download-face-models.js
````javascript
const https = require('https');
const fs = require('fs');
const path = require('path');
const modelsDir = path.join(process.cwd(), 'public', 'models');
// Create models directory if it doesn't exist
if (!fs.existsSync(modelsDir)) {
  fs.mkdirSync(modelsDir, { recursive: true });
}
const modelFiles = [
  {
    url: 'https://raw.githubusercontent.com/justadudewhohacks/face-api.js/master/weights/tiny_face_detector_model-weights_manifest.json',
    filename: 'tiny_face_detector_model-weights_manifest.json'
  },
  {
    url: 'https://raw.githubusercontent.com/justadudewhohacks/face-api.js/master/weights/tiny_face_detector_model-shard1',
    filename: 'tiny_face_detector_model-shard1'
  },
  {
    url: 'https://raw.githubusercontent.com/justadudewhohacks/face-api.js/master/weights/face_landmark_68_tiny_model-weights_manifest.json',
    filename: 'face_landmark_68_tiny_model-weights_manifest.json'
  },
  {
    url: 'https://raw.githubusercontent.com/justadudewhohacks/face-api.js/master/weights/face_landmark_68_tiny_model-shard1',
    filename: 'face_landmark_68_tiny_model-shard1'
  }
];
const downloadFile = (url, filename) => {
  return new Promise((resolve, reject) => {
    const filePath = path.join(modelsDir, filename);
    const file = fs.createWriteStream(filePath);
    https.get(url, (response) => {
      if (response.statusCode !== 200) {
        reject(new Error(`Failed to download ${filename}: ${response.statusCode} ${response.statusMessage}`));
        return;
      }
      response.pipe(file);
      file.on('finish', () => {
        file.close();
        console.log(`Downloaded ${filename}`);
        resolve();
      });
      file.on('error', (err) => {
        fs.unlink(filePath, () => {});
        reject(err);
      });
    }).on('error', (err) => {
      fs.unlink(filePath, () => {});
      reject(err);
    });
  });
};
async function downloadModels() {
  console.log('Downloading face-api.js models...');
  console.log('Target directory:', modelsDir);
  try {
    for (const file of modelFiles) {
      console.log(`Downloading ${file.filename}...`);
      await downloadFile(file.url, file.filename);
    }
    console.log('All models downloaded successfully!');
  } catch (error) {
    console.error('Error downloading models:', error);
    process.exit(1);
  }
}
downloadModels();
````

## File: scripts/verify-env.js
````javascript
const fs = require('fs');
const path = require('path');
function loadEnvFile() {
  const envPath = path.join(process.cwd(), '.env.local');
  try {
    const envContent = fs.readFileSync(envPath, 'utf8');
    const envVars = {};
    envContent.split('\n').forEach(line => {
      const [key, ...valueParts] = line.split('=');
      if (key && valueParts.length > 0) {
        envVars[key.trim()] = valueParts.join('=').trim();
      }
    });
    return envVars;
  } catch (error) {
    console.error('Error reading .env.local file:', error);
    return null;
  }
}
function verifyEnvVariables() {
  const env = loadEnvFile();
  if (!env) return;
  console.log('\nEnvironment Variables Check:');
  console.log('---------------------------');
  const requiredVars = ['D_ID_API_KEY'];
  requiredVars.forEach(varName => {
    const value = env[varName];
    if (!value) {
      console.log(`❌ ${varName} is missing`);
    } else {
      console.log(`✓ ${varName} is present (starts with: ${value.substring(0, 10)}...)`);
    }
  });
}
verifyEnvVariables();
````

## File: utils/db.js
````javascript
import { neon } from '@neondatabase/serverless';
import { drizzle } from 'drizzle-orm/neon-http';
import * as schema from './schema';
const sql = neon(process.env.NEXT_PUBLIC_DRIZZLE_URL);
export const db = drizzle(sql,{schema}
);
````

## File: utils/DIDApi.js
````javascript
const DID_API_KEY = process.env.NEXT_PUBLIC_DID_API_KEY;
const DID_API_URL = "https://api.d-id.com";
export async function createAvatarResponse(text) {
  if (!DID_API_KEY) {
    console.warn("D-ID API key not found. Skipping avatar generation.");
    return {
      audio_url: null,
      result_url: "https://create-images-results.d-id.com/api_docs/presenters/Emma_f.jpeg",
      fallback: true
    };
  }
  try {
    // First create a talk
    const createResponse = await fetch(`${DID_API_URL}/talks`, {
      method: "POST",
      headers: {
        "Authorization": `Basic ${DID_API_KEY}`,
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        script: {
          type: "text",
          input: text,
          provider: {
            type: "microsoft",
            voice_id: "en-US-GuyNeural"
          }
        },
        config: {
          stitch: true,
        },
        source_url: "https://create-images-results.d-id.com/api_docs/presenters/Emma_f.jpeg"
      }),
    });
    if (!createResponse.ok) {
      const errorData = await createResponse.json().catch(() => ({ description: "Unknown error" }));
      console.warn("D-ID API Error:", errorData.description);
      return {
        audio_url: null,
        result_url: "https://create-images-results.d-id.com/api_docs/presenters/Emma_f.jpeg",
        error: errorData.description,
        fallback: true
      };
    }
    const createData = await createResponse.json();
    // Return a fallback response that won't cause null reference errors
    return {
      id: createData.id,
      audio_url: createData.audio_url || null,
      result_url: createData.result_url || "https://create-images-results.d-id.com/api_docs/presenters/Emma_f.jpeg",
      fallback: !createData.audio_url
    };
  } catch (error) {
    console.warn("Error creating avatar response:", error.message);
    return {
      audio_url: null,
      result_url: "https://create-images-results.d-id.com/api_docs/presenters/Emma_f.jpeg",
      error: error.message,
      fallback: true
    };
  }
}
````

## File: utils/GeminiAiModel.js
````javascript
const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");
const apiKey = process.env.NEXT_PUBLIC_GEMINI_API_KEY;
if (!apiKey) {
  throw new Error("NEXT_PUBLIC_GEMINI_API_KEY is not set in environment variables");
}
const genAI = new GoogleGenerativeAI(apiKey);
const model = genAI.getGenerativeModel({
  model: "gemini-pro",
});
const generationConfig = {
  temperature: 0.3,
  topP: 0.1,
  topK: 16,
  maxOutputTokens: 2048,
};
const safetySettings = [
  {
    category: HarmCategory.HARM_CATEGORY_HARASSMENT,
    threshold: HarmBlockThreshold.BLOCK_LOW_AND_ABOVE,
  },
  {
    category: HarmCategory.HARM_CATEGORY_HATE_SPEECH,
    threshold: HarmBlockThreshold.BLOCK_LOW_AND_ABOVE,
  },
];
const systemPrompt = `You are an AI assistant that always responds in valid JSON format.
For interview questions, strictly use this format:
{
  "questions": [
    {
      "Question": "What is your experience with React hooks?",
      "Answer": "A good answer should demonstrate understanding of useState, useEffect, and other common hooks..."
    }
  ]
}
For feedback responses, strictly use this format:
{
  "rating": <number between 1-10>,
  "feedback": "detailed feedback text"
}
Rules:
1. Always respond with ONLY the JSON object
2. No additional text or formatting
3. No markdown code blocks
4. Ensure the JSON is properly formatted
5. For questions, each object MUST have both "Question" and "Answer" fields with non-empty strings
6. For feedback, rating must be a number between 1 and 10
7. All text fields must be non-empty strings`;
export const chatSession = model.startChat({
  generationConfig,
  safetySettings,
  history: [
    {
      role: "user",
      parts: [{ text: systemPrompt }],
    },
    {
      role: "model",
      parts: [{ text: '{"status":"ready"}' }],
    },
  ],
});
````

## File: utils/schema.js
````javascript
import { pgTable } from "drizzle-orm/pg-core";
import { serial, text, varchar, boolean, integer, timestamp } from "drizzle-orm/pg-core";
export const MockInterview = pgTable('mockInterview', {
    id: serial('id').primaryKey(),
    jsonMockResp: text('jsonMockResp').notNull(),
    jobPosition: varchar('jobPosition').notNull(),
    jobDesc: varchar('jobDesc').notNull(),
    jobExperience: varchar('jobExperience').notNull(),
    createdBy: varchar('createdBy').notNull(),
    createdAt: varchar('createdAt'),
    mockId: varchar('mockId').notNull()
});
export const Question = pgTable('question', {
    id: serial('id').primaryKey(),
    MockQuestionJsonResp: text('MockQuestionJsonResp').notNull(),
    jobPosition: varchar('jobPosition').notNull(),
    jobDesc: varchar('jobDesc').notNull(),
    jobExperience: varchar('jobExperience').notNull(),
    typeQuestion: varchar('typeQuestion').notNull(),
    company: varchar('company').notNull(),
    createdBy: varchar('createdBy').notNull(),
    createdAt: varchar('createdAt'),
    mockId: varchar('mockId').notNull()
});
export const UserAnswer = pgTable('userAnswer',{
    id: serial('id').primaryKey(),
    mockIdRef: varchar('mockId').notNull(),
    question: varchar('question').notNull(),
    correctAns: text('correctAns'),
    userAns: text('userAns'),
    feedback: text('feedback'),
    rating: varchar('rating'),
    userEmail: varchar('userEmail'),
    createdAt: varchar('createdAt')
})
export const Newsletter = pgTable('newsletter',{
    id: serial('id').primaryKey(),
    newName: varchar('newName'),
    newEmail: varchar('newEmail'),
    newMessage: text('newMessage'),
    createdAt: varchar('createdAt')
})
export const UserSettings = pgTable('user_settings', {
  id: serial('id').primaryKey(),
  userEmail: text('user_email').notNull(),
  darkMode: boolean('dark_mode').default(false),
  notifications: boolean('notifications').default(true),
  sound: boolean('sound').default(true),
  voiceResponse: boolean('voice_response').default(false),
  interviewDuration: integer('interview_duration').default(15),
  autoSave: boolean('auto_save').default(true),
  privacyMode: boolean('privacy_mode').default(false),
  volume: integer('volume').default(80),
  createdAt: timestamp('created_at').defaultNow(),
  updatedAt: timestamp('updated_at').defaultNow(),
});
````

## File: utils/uuid.js
````javascript
export const uuidv4 = () => {
  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
    var r = Math.random() * 16 | 0,
        v = c == 'x' ? r : (r & 0x3 | 0x8);
    return v.toString(16);
  });
};
````

## File: video/admin.mp4
````
version https://git-lfs.github.com/spec/v1
oid sha256:038bfc836171473bee1649981dd7734deeb8f8400508db8cc492636b89e02d31
size 16604407
````

## File: video/analytics.mp4
````
version https://git-lfs.github.com/spec/v1
oid sha256:fcf2f21d71d15db06195297afaae7e172cdec6a5cc64821cc95ab22ec49c7e6b
size 2225463
````

## File: video/aptitude.mp4
````
version https://git-lfs.github.com/spec/v1
oid sha256:f4f11cf3c0be472c9ae135114f3af8b5f125ab2c6668cf1a9564a24ad179703c
size 46256562
````

## File: video/dashboard.mp4
````
version https://git-lfs.github.com/spec/v1
oid sha256:f4115ab26cc32096e7d6aaf3e5827ededbb7a422c0511d06c5b69a1548375122
size 116136223
````

## File: video/skills.mp4
````
version https://git-lfs.github.com/spec/v1
oid sha256:c4df0cec7638ff934eacabd049927aa93a7705117baf1ca8a0f65f279a26b6e6
size 23186554
````

## File: .gitattributes
````
*.mp4 filter=lfs diff=lfs merge=lfs -text
````

## File: .gitignore
````
# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.

# dependencies
/node_modules
/.pnp
.pnp.*
.yarn/*
!.yarn/patches
!.yarn/plugins
!.yarn/releases
!.yarn/versions

# testing
/coverage

# next.js
/.next/
/out/

# production
/build

# misc
.DS_Store
*.pem

# debug
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# env files (can opt-in for committing if needed)
.env*

# vercel
.vercel

# typescript
*.tsbuildinfo
next-env.d.ts
````

## File: apicall.jsx
````javascript
"use client";
import { useState } from "react";
import { Card } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Progress } from "@/components/ui/progress";
import { toast } from "sonner";
import { Loader2, Brain, Calculator, Code, BookOpen } from "lucide-react";
const TOPICS = [
  { 
    id: 'reasoning', 
    name: 'Logical Reasoning', 
    description: 'Test your analytical and logical thinking skills',
    icon: Brain
  },
  { 
    id: 'math', 
    name: 'Mathematical Aptitude', 
    description: 'Evaluate your mathematical and numerical abilities',
    icon: Calculator
  },
  { 
    id: 'technical', 
    name: 'Technical Knowledge', 
    description: 'Assess your technical and programming concepts',
    icon: Code
  },
  { 
    id: 'verbal', 
    name: 'Verbal Ability', 
    description: 'Test your English language and comprehension skills',
    icon: BookOpen
  }
];
const AptitudeClient = () => {
  const [questions, setQuestions] = useState([]);
  const [currentQuestion, setCurrentQuestion] = useState(0);
  const [answers, setAnswers] = useState({});
  const [loading, setLoading] = useState(false);
  const [submitting, setSubmitting] = useState(false);
  const [selectedTopic, setSelectedTopic] = useState(null);
  const [testStarted, setTestStarted] = useState(false);
  const [topicSelectionLoading, setTopicSelectionLoading] = useState(false);
  const fetchQuestions = async (topic) => {
    try {
      setLoading(true);
      const response = await fetch(`/api/aptitude/questions?topic=${topic}`);
      if (!response.ok) {
        throw new Error('Failed to fetch questions');
      }
      const data = await response.json();
      if (data.error) throw new Error(data.error);
      if (!data.questions || data.questions.length === 0) {
        throw new Error('No questions received');
      }
      setQuestions(data.questions);
      setTestStarted(true);
    } catch (error) {
      toast.error(error.message || "Failed to load questions");
      console.error(error);
      setTestStarted(false);
      setSelectedTopic(null);
    } finally {
      setLoading(false);
      setTopicSelectionLoading(false);
    }
  };
  const handleStartTest = async (topic) => {
    try {
      setTopicSelectionLoading(true);
      setSelectedTopic(topic);
      await fetchQuestions(topic);
    } catch (error) {
      toast.error("Failed to start test");
      setSelectedTopic(null);
      setTopicSelectionLoading(false);
    }
  };
  const handleAnswer = (questionId, answer) => {
    setAnswers(prev => ({
      ...prev,
      [questionId]: answer
    }));
  };
  const handleNext = () => {
    if (currentQuestion < questions.length - 1) {
      setCurrentQuestion(prev => prev + 1);
    }
  };
  const handlePrevious = () => {
    if (currentQuestion > 0) {
      setCurrentQuestion(prev => prev - 1);
    }
  };
  const handleSubmit = async () => {
    const answeredQuestions = Object.keys(answers).length;
    if (answeredQuestions < questions.length) {
      toast.error(`Please answer all questions (${answeredQuestions}/${questions.length} completed)`);
      return;
    }
    try {
      setSubmitting(true);
      const response = await fetch("/api/aptitude/submit", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({ 
          answers,
          topic: selectedTopic 
        }),
      });
      if (!response.ok) {
        throw new Error('Failed to submit test');
      }
      const data = await response.json();
      if (data.error) throw new Error(data.error);
      toast.success("Test submitted successfully!");
      // Reset the test
      setTestStarted(false);
      setSelectedTopic(null);
      setQuestions([]);
      setAnswers({});
      setCurrentQuestion(0);
    } catch (error) {
      toast.error(error.message || "Failed to submit test");
      console.error(error);
    } finally {
      setSubmitting(false);
    }
  };
  if (loading) {
    return (
      <div className="flex items-center justify-center min-h-[60vh]">
        <div className="text-center">
          <Loader2 className="h-8 w-8 animate-spin text-primary mx-auto mb-4" />
          <p className="text-muted-foreground">Loading questions...</p>
        </div>
      </div>
    );
  }
  if (!testStarted) {
    return (
      <div className="container max-w-4xl mx-auto py-8">
        <h1 className="text-2xl font-bold mb-6">Choose Your Aptitude Test</h1>
        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
          {TOPICS.map((topic) => {
            const Icon = topic.icon;
            return (
              <Button
                key={topic.id}
                variant="outline"
                className={`h-auto p-6 hover:border-primary ${
                  topicSelectionLoading && selectedTopic === topic.id
                    ? 'opacity-50 cursor-not-allowed'
                    : 'hover:bg-primary/5'
                }`}
                onClick={() => !topicSelectionLoading && handleStartTest(topic.id)}
                disabled={topicSelectionLoading}
              >
                <div className="flex flex-col items-center text-left w-full">
                  <Icon className="h-8 w-8 mb-4 text-primary" />
                  <h2 className="text-xl font-semibold mb-2">{topic.name}</h2>
                  <p className="text-muted-foreground text-sm">{topic.description}</p>
                  {topicSelectionLoading && selectedTopic === topic.id && (
                    <Loader2 className="h-4 w-4 animate-spin mt-2" />
                  )}
                </div>
              </Button>
            );
          })}
        </div>
      </div>
    );
  }
  const currentQ = questions[currentQuestion];
  const progress = ((currentQuestion + 1) / questions.length) * 100;
  return (
    <div className="container max-w-3xl mx-auto py-8">
      <Card className="p-6">
        <div className="mb-6">
          <div className="flex justify-between items-center mb-4">
            <h1 className="text-2xl font-bold">
              Aptitude Test: {TOPICS.find(t => t.id === selectedTopic)?.name}
            </h1>
            <span className="text-sm text-muted-foreground">
              {Object.keys(answers).length}/{questions.length} Answered
            </span>
          </div>
          <Progress value={progress} className="h-2" />
          <p className="text-sm text-muted-foreground mt-2">
            Question {currentQuestion + 1} of {questions.length}
          </p>
        </div>
        {currentQ && (
          <div className="space-y-6">
            <div className="space-y-4">
              <h2 className="text-lg font-semibold">{currentQ.question}</h2>
              <div className="space-y-2">
                {currentQ.options.map((option, index) => (
                  <Button
                    key={index}
                    variant={answers[currentQ.id] === option ? "default" : "outline"}
                    className="w-full justify-start text-left"
                    onClick={() => handleAnswer(currentQ.id, option)}
                  >
                    {option}
                  </Button>
                ))}
              </div>
            </div>
            <div className="flex justify-between pt-4">
              <Button
                variant="outline"
                onClick={handlePrevious}
                disabled={currentQuestion === 0}
              >
                Previous
              </Button>
              {currentQuestion === questions.length - 1 ? (
                <Button
                  onClick={handleSubmit}
                  disabled={submitting}
                >
                  {submitting ? (
                    <>
                      <Loader2 className="mr-2 h-4 w-4 animate-spin" />
                      Submitting...
                    </>
                  ) : (
                    "Submit Test"
                  )}
                </Button>
              ) : (
                <Button
                  onClick={handleNext}
                  disabled={!answers[currentQ.id]}
                >
                  Next
                </Button>
              )}
            </div>
          </div>
        )}
      </Card>
    </div>
  );
};
export default AptitudeClient;
````

## File: components.json
````json
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": true,
  "tsx": false,
  "tailwind": {
    "config": "tailwind.config.js",
    "css": "app/globals.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "iconLibrary": "lucide"
}
````

## File: drizzle.config.js
````javascript
import { defineConfig } from 'drizzle-kit';
export default defineConfig({
  out: './drizzle',
  schema: './utils/schema.js',
  dialect: 'postgresql',
  dbCredentials: {
    url: "postgresql://abhishekreddywadi123:Z2bmlcVR7ukr@ep-flat-hill-a58u8rx8.us-east-2.aws.neon.tech/test?sslmode=require",
  },
});
````

## File: jsconfig.json
````json
{
  "compilerOptions": {
    "paths": {
      "@/*": ["./*"]
    }
  }
}
````

## File: middleware.js
````javascript
import { clerkMiddleware, createRouteMatcher } from "@clerk/nextjs/server";
const isProtectedRoute = createRouteMatcher(['/dashboard(.*)', '/forum(.*)', '/api/settings(.*)'])
export default clerkMiddleware(async (auth, req) => {
  if (isProtectedRoute(req)) await auth.protect()
})
export const config = {
  matcher: [
    // Skip Next.js internals and all static files, unless found in search params
    '/((?!_next|[^?]*\\.(?:html?|css|js(?!on)|jpe?g|webp|png|gif|svg|ttf|woff2?|ico|csv|docx?|xlsx?|zip|webmanifest)).*)',
    // Always run for API routes
    '/(api|trpc)(.*)',
  ],
};
````

## File: next.config.js
````javascript
/** @type {import('next').NextConfig} */
const nextConfig = {
  images: {
    domains: ['img.clerk.com', 'images.clerk.dev'],
  },
}
module.exports = nextConfig
````

## File: next.config.mjs
````
/** @type {import('next').NextConfig} */
const nextConfig = {};

export default nextConfig;
````

## File: package.json
````json
{
  "name": "my-app",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "db:push": " npx drizzle-kit push",
    "db:generate": "drizzle-kit generate:pg",
    "db:studio": "npx drizzle-kit studio",
    "download-face-models": "node scripts/download-face-models.js"
  },
  "dependencies": {
    "@clerk/nextjs": "^6.8.2",
    "@google/generative-ai": "^0.21.0",
    "@monaco-editor/react": "^4.6.0",
    "@neondatabase/serverless": "^0.10.4",
    "@prisma/client": "^6.0.1",
    "@radix-ui/react-collapsible": "^1.1.1",
    "@radix-ui/react-dialog": "^1.1.2",
    "@radix-ui/react-dropdown-menu": "^2.1.2",
    "@radix-ui/react-label": "^2.1.0",
    "@radix-ui/react-progress": "^1.1.0",
    "@radix-ui/react-select": "^2.1.2",
    "@radix-ui/react-slider": "^1.2.1",
    "@radix-ui/react-slot": "^1.1.0",
    "@radix-ui/react-switch": "^1.1.1",
    "@radix-ui/react-tabs": "^1.1.1",
    "@react-three/drei": "^9.120.4",
    "@react-three/fiber": "^8.17.10",
    "@tailwindcss/typography": "^0.5.10",
    "@uploadthing/react": "^7.1.2",
    "chart.js": "^4.4.7",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "drizzle-orm": "^0.38.0",
    "face-api.js": "^0.22.2",
    "framer-motion": "^10.16.16",
    "gsap": "^3.12.5",
    "lucide-react": "^0.468.0",
    "marked": "^15.0.3",
    "moment": "^2.30.1",
    "next": "15.0.4",
    "openai": "^4.76.1",
    "pdf-parse": "^1.1.1",
    "pdfjs-dist": "^4.8.69",
    "prisma": "^6.0.1",
    "react": "^19.0.0",
    "react-chartjs-2": "^5.2.0",
    "react-dom": "^19.0.0",
    "react-dropzone": "^14.3.5",
    "react-webcam": "^7.2.0",
    "recharts": "^2.14.1",
    "sonner": "^1.7.1",
    "tailwind-merge": "^2.5.5",
    "tailwindcss-animate": "^1.0.7",
    "tesseract.js": "^5.1.1",
    "three": "^0.171.0",
    "uploadthing": "^7.4.0",
    "uuid": "^11.0.3"
  },
  "devDependencies": {
    "drizzle-kit": "^0.30.0",
    "postcss": "^8",
    "tailwindcss": "^3.4.1"
  }
}
````

## File: postcss.config.mjs
````
/** @type {import('postcss-load-config').Config} */
const config = {
  plugins: {
    tailwindcss: {},
  },
};

export default config;
````

## File: README.md
````markdown
# Project Name

Welcome to the Project Name! This project is designed to enhance skills assessment analytics by integrating advanced features and ensuring accurate scoring for submitted solutions.

## Table of Contents
- [Overview](#overview)
- [Features](#features)
- [Technology Stack](#technology-stack)
- [Setup Instructions](#setup-instructions)
- [Environment Variables](#environment-variables)
- [Collaborators](#collaborators)
- [Video Resources](#video-resources)

## Overview
This project provides a comprehensive platform for skills assessment, allowing users to generate coding questions, submit solutions, and receive detailed analytics on their performance. The admin dashboard offers insights into overall performance, skill level distribution, and focus area strengths.

## Features
- Skills Assessment API for storing and evaluating assessment results.
- Admin Dashboard with analytics for total assessments, average scores, and skill distribution.
- Integration with GLHF API for question generation and solution assessment.
- User authentication and authorization using Clerk.
- Visualizations using Recharts for an interactive experience.

## Technology Stack
- **Frontend**: React, Next.js
- **Backend**: Node.js, Express
- **Database**: PostgreSQL, Prisma
- **APIs**: GLHF API, Clerk API
- **Charts**: Recharts

## Setup Instructions
1. **Clone the Repository**:
   ```bash
   git clone https://github.com/ManojINaik/Devops
   cd Devops
   ```

2. **Install Dependencies**:
   ```bash
   npm install
   ```

3. **Create Environment File**:
   Create a `.env` file in the root directory and add the following variables:
   ```env
   NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=<YOUR-API-KEY>
   CLERK_SECRET_KEY=<YOUR-API-KEY>
   DATABASE_URL=<YOUR-API-KEY>
   NEXT_PUBLIC_GLHF_API_KEY=<YOUR-API-KEY>
   # Add other environment variables as needed
   ```

4. **Generate Prisma Client**:
   ```bash
   npx prisma generate
   ```

5. **Push Database Schema**:
   ```bash
   npx prisma db push
   ```

6. **Run the Development Server**:
   ```bash
   npm run dev
   ```

## Environment Variables
- `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY`: Your Clerk public key.
- `CLERK_SECRET_KEY`: Your Clerk secret key.
- `DATABASE_URL`: Connection string for your PostgreSQL database.
- `NEXT_PUBLIC_GLHF_API_KEY`: API key for GLHF API.
- Additional keys for other integrated services.

## Collaborators
- **Abhishek**: Role - [GitHub](https://github.com/abhishekreddywadi)
- **Areez**: Role - [GitHub](https://github.com/AreezM)
- **Sujay**: Role - [GitHub](https://github.com/sujay-bhandari)

## 📹 Video Resources
Explore the video demonstrations to understand the project better:
### 📺 Admin Panel
https://github.com/ManojINaik/Devops/video/admin.mp4

### 📺 Analytics analytics
https://github.com/ManojINaik/Devops/video/analytics.mp4
### 📺 Aptitude Feature
https://github.com/ManojINaik/Devops/video/aptitude.mp4

### 📺 Dashboard Walkthrough
https://github.com/ManojINaik/Devops/video/dashboard.mp4

### 📺 Skills Section
https://github.com/ManojINaik/Devops/video/skills.mp4



Explore the video demonstrations and tutorials in the [video](./video) directory to get a better understanding of the project features and setup.

---

Feel free to reach out to the collaborators for any questions or contributions. Enjoy exploring the project!
````

## File: tailwind.config.js
````javascript
/** @type {import('tailwindcss').Config} */
module.exports = {
    darkMode: ["class"],
    content: [
    "./pages/**/*.{js,ts,jsx,tsx,mdx}",
    "./components/**/*.{js,ts,jsx,tsx,mdx}",
    "./app/**/*.{js,ts,jsx,tsx,mdx}",
  ],
  theme: {
  	extend: {
  		colors: {
  			background: 'hsl(var(--background))',
  			foreground: 'hsl(var(--foreground))',
  			card: {
  				DEFAULT: 'hsl(var(--card))',
  				foreground: 'hsl(var(--card-foreground))'
  			},
  			popover: {
  				DEFAULT: 'hsl(var(--popover))',
  				foreground: 'hsl(var(--popover-foreground))'
  			},
  			primary: {
  				DEFAULT: 'hsl(var(--primary))',
  				foreground: 'hsl(var(--primary-foreground))'
  			},
  			secondary: {
  				DEFAULT: 'hsl(var(--secondary))',
  				foreground: 'hsl(var(--secondary-foreground))'
  			},
  			muted: {
  				DEFAULT: 'hsl(var(--muted))',
  				foreground: 'hsl(var(--muted-foreground))'
  			},
  			accent: {
  				DEFAULT: 'hsl(var(--accent))',
  				foreground: 'hsl(var(--accent-foreground))'
  			},
  			destructive: {
  				DEFAULT: 'hsl(var(--destructive))',
  				foreground: 'hsl(var(--destructive-foreground))'
  			},
  			border: 'hsl(var(--border))',
  			input: 'hsl(var(--input))',
  			ring: 'hsl(var(--ring))',
  			chart: {
  				'1': 'hsl(var(--chart-1))',
  				'2': 'hsl(var(--chart-2))',
  				'3': 'hsl(var(--chart-3))',
  				'4': 'hsl(var(--chart-4))',
  				'5': 'hsl(var(--chart-5))'
  			}
  		},
  		borderRadius: {
  			lg: 'var(--radius)',
  			md: 'calc(var(--radius) - 2px)',
  			sm: 'calc(var(--radius) - 4px)'
  		}
  	}
  },
  plugins: [require("tailwindcss-animate")],
};
````
